(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var zd={exports:{}},Nl={};var Z_;function g1(){if(Z_)return Nl;Z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=t,Nl.jsx=n,Nl.jsxs=n,Nl}var W_;function y1(){return W_||(W_=1,zd.exports=g1()),zd.exports}var k=y1(),jd={exports:{}},Tt={};var tv;function _1(){if(tv)return Tt;tv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=D&&x[D]||x["@@iterator"],typeof x=="function"?x:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function rt(x,K,it){this.props=x,this.context=K,this.refs=W,this.updater=it||X}rt.prototype.isReactComponent={},rt.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},rt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function st(){}st.prototype=rt.prototype;function ct(x,K,it){this.props=x,this.context=K,this.refs=W,this.updater=it||X}var It=ct.prototype=new st;It.constructor=ct,Z(It,rt.prototype),It.isPureReactComponent=!0;var Dt=Array.isArray;function yt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(x,K,it){var at=it.ref;return{$$typeof:s,type:x,key:K,ref:at!==void 0?at:null,props:it}}function O(x,K){return w(x.type,K,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function V(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(it){return K[it]})}var I=/\/+/g;function Vt(x,K){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):K.toString(36)}function ie(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(yt,yt):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,K,it,at,gt){var St=typeof x;(St==="undefined"||St==="boolean")&&(x=null);var bt=!1;if(x===null)bt=!0;else switch(St){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(x.$$typeof){case s:case t:bt=!0;break;case T:return bt=x._init,F(bt(x._payload),K,it,at,gt)}}if(bt)return gt=gt(x),bt=at===""?"."+Vt(x,0):at,Dt(gt)?(it="",bt!=null&&(it=bt.replace(I,"$&/")+"/"),F(gt,K,it,"",function(hi){return hi})):gt!=null&&(R(gt)&&(gt=O(gt,it+(gt.key==null||x&&x.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+bt)),K.push(gt)),1;bt=0;var pe=at===""?".":at+":";if(Dt(x))for(var te=0;te<x.length;te++)at=x[te],St=pe+Vt(at,te),bt+=F(at,K,it,St,gt);else if(te=P(x),typeof te=="function")for(x=te.call(x),te=0;!(at=x.next()).done;)at=at.value,St=pe+Vt(at,te++),bt+=F(at,K,it,St,gt);else if(St==="object"){if(typeof x.then=="function")return F(ie(x),K,it,at,gt);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return bt}function et(x,K,it){if(x==null)return x;var at=[],gt=0;return F(x,at,"","",function(St){return K.call(it,St,gt++)}),at}function lt(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(it){(x._status===0||x._status===-1)&&(x._status=1,x._result=it)},function(it){(x._status===0||x._status===-1)&&(x._status=2,x._result=it)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Ct=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ht={map:et,forEach:function(x,K,it){et(x,function(){K.apply(this,arguments)},it)},count:function(x){var K=0;return et(x,function(){K++}),K},toArray:function(x){return et(x,function(K){return K})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Tt.Activity=S,Tt.Children=Ht,Tt.Component=rt,Tt.Fragment=n,Tt.Profiler=o,Tt.PureComponent=ct,Tt.StrictMode=r,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Tt.cache=function(x){return function(){return x.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(x,K,it){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=Z({},x.props),gt=x.key;if(K!=null)for(St in K.key!==void 0&&(gt=""+K.key),K)!b.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(at[St]=K[St]);var St=arguments.length-2;if(St===1)at.children=it;else if(1<St){for(var bt=Array(St),pe=0;pe<St;pe++)bt[pe]=arguments[pe+2];at.children=bt}return w(x.type,gt,at)},Tt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Tt.createElement=function(x,K,it){var at,gt={},St=null;if(K!=null)for(at in K.key!==void 0&&(St=""+K.key),K)b.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=K[at]);var bt=arguments.length-2;if(bt===1)gt.children=it;else if(1<bt){for(var pe=Array(bt),te=0;te<bt;te++)pe[te]=arguments[te+2];gt.children=pe}if(x&&x.defaultProps)for(at in bt=x.defaultProps,bt)gt[at]===void 0&&(gt[at]=bt[at]);return w(x,St,gt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(x){return{$$typeof:m,render:x}},Tt.isValidElement=R,Tt.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:lt}},Tt.memo=function(x,K){return{$$typeof:g,type:x,compare:K===void 0?null:K}},Tt.startTransition=function(x){var K=C.T,it={};C.T=it;try{var at=x(),gt=C.S;gt!==null&&gt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(yt,Ct)}catch(St){Ct(St)}finally{K!==null&&it.types!==null&&(K.types=it.types),C.T=K}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(x){return C.H.use(x)},Tt.useActionState=function(x,K,it){return C.H.useActionState(x,K,it)},Tt.useCallback=function(x,K){return C.H.useCallback(x,K)},Tt.useContext=function(x){return C.H.useContext(x)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(x,K){return C.H.useDeferredValue(x,K)},Tt.useEffect=function(x,K){return C.H.useEffect(x,K)},Tt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(x,K,it){return C.H.useImperativeHandle(x,K,it)},Tt.useInsertionEffect=function(x,K){return C.H.useInsertionEffect(x,K)},Tt.useLayoutEffect=function(x,K){return C.H.useLayoutEffect(x,K)},Tt.useMemo=function(x,K){return C.H.useMemo(x,K)},Tt.useOptimistic=function(x,K){return C.H.useOptimistic(x,K)},Tt.useReducer=function(x,K,it){return C.H.useReducer(x,K,it)},Tt.useRef=function(x){return C.H.useRef(x)},Tt.useState=function(x){return C.H.useState(x)},Tt.useSyncExternalStore=function(x,K,it){return C.H.useSyncExternalStore(x,K,it)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.3",Tt}var ev;function xm(){return ev||(ev=1,jd.exports=_1()),jd.exports}var tt=xm(),Bd={exports:{}},Dl={},qd={exports:{}},Hd={};var nv;function v1(){return nv||(nv=1,(function(s){function t(F,et){var lt=F.length;F.push(et);t:for(;0<lt;){var Ct=lt-1>>>1,Ht=F[Ct];if(0<o(Ht,et))F[Ct]=et,F[lt]=Ht,lt=Ct;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var et=F[0],lt=F.pop();if(lt!==et){F[0]=lt;t:for(var Ct=0,Ht=F.length,x=Ht>>>1;Ct<x;){var K=2*(Ct+1)-1,it=F[K],at=K+1,gt=F[at];if(0>o(it,lt))at<Ht&&0>o(gt,it)?(F[Ct]=gt,F[at]=lt,Ct=at):(F[Ct]=it,F[K]=lt,Ct=K);else if(at<Ht&&0>o(gt,lt))F[Ct]=gt,F[at]=lt,Ct=at;else break t}}return et}function o(F,et){var lt=F.sortIndex-et.sortIndex;return lt!==0?lt:F.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],g=[],T=1,S=null,D=3,P=!1,X=!1,Z=!1,W=!1,rt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function It(F){for(var et=n(g);et!==null;){if(et.callback===null)r(g);else if(et.startTime<=F)r(g),et.sortIndex=et.expirationTime,t(y,et);else break;et=n(g)}}function Dt(F){if(Z=!1,It(F),!X)if(n(y)!==null)X=!0,yt||(yt=!0,V());else{var et=n(g);et!==null&&ie(Dt,et.startTime-F)}}var yt=!1,C=-1,b=5,w=-1;function O(){return W?!0:!(s.unstable_now()-w<b)}function R(){if(W=!1,yt){var F=s.unstable_now();w=F;var et=!0;try{t:{X=!1,Z&&(Z=!1,st(C),C=-1),P=!0;var lt=D;try{e:{for(It(F),S=n(y);S!==null&&!(S.expirationTime>F&&O());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,D=S.priorityLevel;var Ht=Ct(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,It(F),et=!0;break e}S===n(y)&&r(y),It(F)}else r(y);S=n(y)}if(S!==null)et=!0;else{var x=n(g);x!==null&&ie(Dt,x.startTime-F),et=!1}}break t}finally{S=null,D=lt,P=!1}et=void 0}}finally{et?V():yt=!1}}}var V;if(typeof ct=="function")V=function(){ct(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Vt=I.port2;I.port1.onmessage=R,V=function(){Vt.postMessage(null)}}else V=function(){rt(R,0)};function ie(F,et){C=rt(function(){F(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(F){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var lt=D;D=et;try{return F()}finally{D=lt}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var lt=D;D=F;try{return et()}finally{D=lt}},s.unstable_scheduleCallback=function(F,et,lt){var Ct=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ct+lt:Ct):lt=Ct,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=lt+Ht,F={id:T++,callback:et,priorityLevel:F,startTime:lt,expirationTime:Ht,sortIndex:-1},lt>Ct?(F.sortIndex=lt,t(g,F),n(y)===null&&F===n(g)&&(Z?(st(C),C=-1):Z=!0,ie(Dt,lt-Ct))):(F.sortIndex=Ht,t(y,F),X||P||(X=!0,yt||(yt=!0,V()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var et=D;return function(){var lt=D;D=et;try{return F.apply(this,arguments)}finally{D=lt}}}})(Hd)),Hd}var iv;function E1(){return iv||(iv=1,qd.exports=v1()),qd.exports}var Fd={exports:{}},tn={};var sv;function T1(){if(sv)return tn;sv=1;var s=xm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,T)},tn.flushSync=function(y){var g=f.T,T=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=g,r.p=T,r.d.f()}},tn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},tn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},tn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin),D=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:P}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},tn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=m(T,g.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=m(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},tn.requestFormReset=function(y){r.d.r(y)},tn.unstable_batchedUpdates=function(y,g){return y(g)},tn.useFormState=function(y,g,T){return f.H.useFormState(y,g,T)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var rv;function A1(){if(rv)return Fd.exports;rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Fd.exports=T1(),Fd.exports}var av;function S1(){if(av)return Dl;av=1;var s=E1(),t=xm(),n=A1();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),e;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=d;break}if(E===l){_=!0,l=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,l=h;break}if(E===l){_=!0,l=d,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Vt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case rt:return"Profiler";case W:return"StrictMode";case Dt:return"Suspense";case yt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case ct:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case It:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:Vt(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Vt(e(i))}catch{}}return null}var ie=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ct=[],Ht=-1;function x(e){return{current:e}}function K(e){0>Ht||(e.current=Ct[Ht],Ct[Ht]=null,Ht--)}function it(e,i){Ht++,Ct[Ht]=e.current,e.current=i}var at=x(null),gt=x(null),St=x(null),bt=x(null);function pe(e,i){switch(it(St,i),it(gt,e),it(at,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?T_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=T_(i),e=A_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),it(at,e)}function te(){K(at),K(gt),K(St)}function hi(e){e.memoizedState!==null&&it(bt,e);var i=at.current,a=A_(i,e.type);i!==a&&(it(gt,e),it(at,a))}function fi(e){gt.current===e&&(K(at),K(gt)),bt.current===e&&(K(bt),wl._currentValue=lt)}var Fi,di;function Cn(e){if(Fi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fi=i&&i[1]||"",di=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+e+di}var _r=!1;function Gi(e,i){if(!e||_r)return"";_r=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var B=H}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(H){B=H}e.call(Q.prototype)}}else{try{throw Error()}catch(H){B=H}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var N=_.split(`
`),j=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===j.length)for(l=N.length-1,h=j.length-1;1<=l&&0<=h&&N[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==j[h]){var G=`
`+N[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{_r=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Cn(a):""}function vr(e,i){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return e.child!==i&&i!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Gi(e.type,!1);case 11:return Gi(e.type.render,!1);case 1:return Gi(e.type,!0);case 31:return Cn("Activity");default:return""}}function Er(e){try{var i="",a=null;do i+=vr(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ce=Object.prototype.hasOwnProperty,_e=s.unstable_scheduleCallback,Yn=s.unstable_cancelCallback,No=s.unstable_shouldYield,da=s.unstable_requestPaint,He=s.unstable_now,ee=s.unstable_getCurrentPriorityLevel,se=s.unstable_ImmediatePriority,he=s.unstable_UserBlockingPriority,fe=s.unstable_NormalPriority,Yi=s.unstable_LowPriority,Tr=s.unstable_IdlePriority,As=s.log,ma=s.unstable_setDisableYieldValue,Kn=null,Fe=null;function Nn(e){if(typeof As=="function"&&ma(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Kn,e)}catch{}}var ve=Math.clz32?Math.clz32:fu,hu=Math.log,pa=Math.LN2;function fu(e){return e>>>=0,e===0?32:31-(hu(e)/pa|0)|0}var mi=256,Ar=262144,be=4194304;function pi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=pi(l):(_&=E,_!==0?h=pi(_):a||(a=E&~e,a!==0&&(h=pi(a))))):(E=l&~d,E!==0?h=pi(E):_!==0?h=pi(_):a||(a=l&~e,a!==0&&(h=pi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function yi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Sr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-ve(a),Q=1<<G;E[G]=0,N[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&br(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function br(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ve(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Do(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ve(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Oo(e,i){var a=i&-i;return a=(a&42)!==0?1:wr(a),(a&(e.suspendedLanes|i))!==0?0:a}function wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:G_(e.type))}function $n(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Xn=Math.random().toString(36).slice(2),we="__reactFiber$"+Xn,Ue="__reactProps$"+Xn,_i="__reactContainer$"+Xn,ga="__reactEvents$"+Xn,Fh="__reactListeners$"+Xn,pu="__reactHandles$"+Xn,gu="__reactResources$"+Xn,vi="__reactMarker$"+Xn;function ya(e){delete e[we],delete e[Ue],delete e[ga],delete e[Fh],delete e[pu]}function Ei(e){var i=e[we];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_i]||a[we]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=N_(e);e!==null;){if(a=e[we])return a;e=N_(e)}return i}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[we]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Ti(e){var i=e[gu];return i||(i=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Re(e){e[vi]=!0}var Mo=new Set,Vo={};function Ai(e,i){Si(e,i),Si(e+"Capture",i)}function Si(e,i){for(Vo[e]=i,e=0;e<i.length;e++)Mo.add(i[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},ko={};function yu(e){return ce.call(ko,e)?!0:ce.call(Lo,e)?!1:xo.test(e)?ko[e]=!0:(Lo[e]=!0,!1)}function _a(e,i,a){if(yu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function vn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ie(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=Ss(e)?"checked":"value";e._valueTracker=Po(e,i,""+e[i])}}function Rr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ss(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function cn(e){return e.replace(Ir,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(e,i,a,l,h,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ze(i)):e.value!==""+ze(i)&&(e.value=""+ze(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Uo(e,_,ze(i)):a!=null?Uo(e,_,ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function _u(e,i,a,l,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+ze(a):"",i=i!=null?""+ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function Uo(e,i,a){i==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function vu(e,i,a){if(i!=null&&(i=""+ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ze(a):""}function ws(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function hn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function jo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&zo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&zo(e,d,i[d])}function Ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return Rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Bo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,wi=null;function Cr(e){var i=Dn(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(va(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ue]||null;if(!h)throw Error(r(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Rr(l)}break t;case"textarea":vu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&bs(e,!!a.multiple,i,!1)}}}var Aa=!1;function Cs(e,i,a){if(Aa)return e(i,a);Aa=!0;try{var l=e(i);return l}finally{if(Aa=!1,(Is!==null||wi!==null)&&(mc(),Is&&(i=Is,e=wi,wi=Is=null,Cr(i),e)))for(i=0;i<e.length;i++)Cr(e[i])}}function Zn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Mn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Nr=!1}var Ri=null,qo=null,Dr=null;function Ho(){if(Dr)return Dr;var e,i=qo,a=i.length,l,h="value"in Ri?Ri.value:Ri.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Dr=h.slice(e,1<l?1-l:void 0)}function Or(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function Wn(){return!1}function Ge(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:Wn,this.isPropagationStopped=Wn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ge($i),Ns=S({},$i,{view:0,detail:0}),Fo=Ge(Ns),Ds,Sa,Ci,ba=S({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(Ds=e.screenX-Ci.screenX,Sa=e.screenY-Ci.screenY):Sa=Ds=0,Ci=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),Go=Ge(ba),Mr=S({},ba,{dataTransfer:0}),Au=Ge(Mr),Su=S({},Ns,{relatedTarget:0}),Vr=Ge(Su),Yo=S({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Ge(Yo),wa=S({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wu=Ge(wa),Ru=S({},$i,{data:0}),Ni=Ge(Ru),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Nu[e])?!!i[e]:!1}function Os(){return Du}var on=S({},Ns,{key:function(e){if(e.key){var i=Iu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ou=Ge(on),Mu=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ge(Mu),c=S({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),p=Ge(c),v=S({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ge(v),U=S({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ge(U),nt=S({},$i,{newState:0,oldState:0}),wt=Ge(nt),Ee=[9,13,27,32],Ft=Mn&&"CompositionEvent"in window,le=null;Mn&&"documentMode"in document&&(le=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!le,Di=Mn&&(!Ft||le&&8<le&&11>=le),ti=" ",ei=!1;function xr(e,i){switch(e){case"keyup":return Ee.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function jA(e,i){switch(e){case"compositionend":return Ra(i);case"keypress":return i.which!==32?null:(ei=!0,ti);case"textInput":return e=i.data,e===ti&&ei?null:e;default:return null}}function BA(e,i){if(Ia)return e==="compositionend"||!Ft&&xr(e,i)?(e=Ho(),Dr=qo=Ri=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!qA[e.type]:i==="textarea"}function Vp(e,i,a,l){Is?wi?wi.push(l):wi=[l]:Is=l,i=Tc(i,"onChange"),0<i.length&&(a=new Ii("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ko=null,Qo=null;function HA(e){p_(e,0)}function Vu(e){var i=_n(e);if(Rr(i))return e}function xp(e,i){if(e==="change")return i}var Lp=!1;if(Mn){var Gh;if(Mn){var Yh="oninput"in document;if(!Yh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Yh=typeof kp.oninput=="function"}Gh=Yh}else Gh=!1;Lp=Gh&&(!document.documentMode||9<document.documentMode)}function Pp(){Ko&&(Ko.detachEvent("onpropertychange",Up),Qo=Ko=null)}function Up(e){if(e.propertyName==="value"&&Vu(Qo)){var i=[];Vp(i,Qo,e,On(e)),Cs(HA,i)}}function FA(e,i,a){e==="focusin"?(Pp(),Ko=i,Qo=a,Ko.attachEvent("onpropertychange",Up)):e==="focusout"&&Pp()}function GA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Qo)}function YA(e,i){if(e==="click")return Vu(i)}function KA(e,i){if(e==="input"||e==="change")return Vu(i)}function QA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:QA;function $o(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ce.call(i,h)||!En(e[h],i[h]))return!1}return!0}function zp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,i){var a=zp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=zp(a)}}function Bp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Bp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function qp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=bi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=bi(e.document)}return i}function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var $A=Mn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Qh=null,Xo=null,$h=!1;function Hp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||Ca==null||Ca!==bi(l)||(l=Ca,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&$o(Xo,l)||(Xo=l,l=Tc(Qh,"onSelect"),0<l.length&&(i=new Ii("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ca)))}function Lr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Na={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Xh={},Fp={};Mn&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function kr(e){if(Xh[e])return Xh[e];if(!Na[e])return e;var i=Na[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fp)return Xh[e]=i[a];return e}var Gp=kr("animationend"),Yp=kr("animationiteration"),Kp=kr("animationstart"),XA=kr("transitionrun"),JA=kr("transitionstart"),ZA=kr("transitioncancel"),Qp=kr("transitionend"),$p=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function ni(e,i){$p.set(e,i),Ai(i,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],Da=0,Zh=0;function Lu(){for(var e=Da,i=Zh=Da=0;i<e;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Xp(a,h,d)}}function ku(e,i,a,l){xn[Da++]=e,xn[Da++]=i,xn[Da++]=a,xn[Da++]=l,Zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wh(e,i,a,l){return ku(e,i,a,l),Pu(e)}function Pr(e,i){return ku(e,null,null,i),Pu(e)}function Xp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ve(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Pu(e){if(50<_l)throw _l=0,ud=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Oa={};function WA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new WA(e,i,a,l)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Jp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")tf(e)&&(_=1);else if(typeof e=="string")_=s1(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Tn(31,a,i,h),e.elementType=w,e.lanes=d,e;case Z:return Ur(a.children,h,d,i);case W:_=8,h|=24;break;case rt:return e=Tn(12,a,i,h|2),e.elementType=rt,e.lanes=d,e;case Dt:return e=Tn(13,a,i,h),e.elementType=Dt,e.lanes=d,e;case yt:return e=Tn(19,a,i,h),e.elementType=yt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:_=10;break t;case st:_=9;break t;case It:_=11;break t;case C:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Tn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ur(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function ef(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function Zp(e){var i=Tn(18,null,null,0);return i.stateNode=e,i}function nf(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Wp=new WeakMap;function Ln(e,i){if(typeof e=="object"&&e!==null){var a=Wp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Er(i)},Wp.set(e,i),i)}return{value:e,source:i,stack:Er(i)}}var Ma=[],Va=0,zu=null,Jo=0,kn=[],Pn=0,Ms=null,Oi=1,Mi="";function Zi(e,i){Ma[Va++]=Jo,Ma[Va++]=zu,zu=e,Jo=i}function tg(e,i,a){kn[Pn++]=Oi,kn[Pn++]=Mi,kn[Pn++]=Ms,Ms=e;var l=Oi;e=Mi;var h=32-ve(l)-1;l&=~(1<<h),a+=1;var d=32-ve(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-ve(i)+h|a<<h|l,Mi=d+e}else Oi=1<<d|a<<h|l,Mi=e}function sf(e){e.return!==null&&(Zi(e,1),tg(e,1,0))}function rf(e){for(;e===zu;)zu=Ma[--Va],Ma[Va]=null,Jo=Ma[--Va],Ma[Va]=null;for(;e===Ms;)Ms=kn[--Pn],kn[Pn]=null,Mi=kn[--Pn],kn[Pn]=null,Oi=kn[--Pn],kn[Pn]=null}function eg(e,i){kn[Pn++]=Oi,kn[Pn++]=Mi,kn[Pn++]=Ms,Oi=i.id,Mi=i.overflow,Ms=e}var Ye=null,re=null,zt=!1,Vs=null,Un=!1,af=Error(r(519));function xs(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Ln(i,e)),af}function ng(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[we]=e,i[Ue]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Mt(El[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),_u(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),ws(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||v_(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||xs(e,!0)}function ig(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ye=Ye.return}}function xa(e){if(e!==Ye)return!1;if(!zt)return ig(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&re&&xs(e),ig(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));re=C_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));re=C_(e)}else i===27?(i=re,Qs(e.type)?(e=Nd,Nd=null,re=e):re=i):re=Ye?jn(e.stateNode.nextSibling):null;return!0}function zr(){re=Ye=null,zt=!1}function of(){var e=Vs;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Vs=null),e}function Zo(e){Vs===null?Vs=[e]:Vs.push(e)}var lf=x(null),jr=null,Wi=null;function Ls(e,i,a){it(lf,i._currentValue),i._currentValue=a}function ts(e){e._currentValue=lf.current,K(lf)}function uf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var N=0;N<i.length;N++)if(E.context===i[N]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),uf(d.return,a,e),l||(_=null);break t}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),uf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;En(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===bt.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&cf(i,e,a,l),i.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Br(e){jr=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return sg(jr,e)}function Bu(e,i){return jr===null&&Br(e),sg(e,i)}function sg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(e===null)throw Error(r(308));Wi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Wi=Wi.next=i;return a}var tS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},eS=s.unstable_scheduleCallback,nS=s.unstable_NormalPriority,Ce={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new tS,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&eS(nS,function(){e.controller.abort()})}var tl=null,ff=0,ka=0,Pa=null;function iS(e,i){if(tl===null){var a=tl=[];ff=0,ka=pd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ff++,i.then(rg,rg),i}function rg(){if(--ff===0&&tl!==null){Pa!==null&&(Pa.status="fulfilled");var e=tl;tl=null,ka=0,Pa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function sS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ag=F.S;F.S=function(e,i){Hy=He(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&iS(e,i),ag!==null&&ag(e,i)};var qr=x(null);function df(){var e=qr.current;return e!==null?e:ne.pooledCache}function qu(e,i){i===null?it(qr,qr.current):it(qr,i.pool)}function og(){var e=df();return e===null?null:{parent:Ce._currentValue,pool:e}}var Ua=Error(r(460)),mf=Error(r(474)),Hu=Error(r(542)),Fu={then:function(){}};function lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ug(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,hg(e),e;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,hg(e),e}throw Fr=i,Ua}}function Hr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,Ua):a}}var Fr=null;function cg(){if(Fr===null)throw Error(r(459));var e=Fr;return Fr=null,e}function hg(e){if(e===Ua||e===Hu)throw Error(r(483))}var za=null,el=0;function Gu(e){var i=el;return el+=1,za===null&&(za=[]),ug(za,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Yu(e,i){throw i.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function fg(e){function i(L,M){if(e){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!e)return null;for(;M!==null;)i(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Ji(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,M,z,Y){return M===null||M.tag!==6?(M=ef(z,L.mode,Y),M.return=L,M):(M=h(M,z),M.return=L,M)}function N(L,M,z,Y){var dt=z.type;return dt===Z?G(L,M,z.props.children,Y,z.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&Hr(dt)===M.type)?(M=h(M,z.props),nl(M,z),M.return=L,M):(M=Uu(z.type,z.key,z.props,null,L.mode,Y),nl(M,z),M.return=L,M)}function j(L,M,z,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=nf(z,L.mode,Y),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function G(L,M,z,Y,dt){return M===null||M.tag!==7?(M=Ur(z,L.mode,Y,dt),M.return=L,M):(M=h(M,z),M.return=L,M)}function Q(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ef(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return z=Uu(M.type,M.key,M.props,null,L.mode,z),nl(z,M),z.return=L,z;case X:return M=nf(M,L.mode,z),M.return=L,M;case b:return M=Hr(M),Q(L,M,z)}if(ie(M)||V(M))return M=Ur(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return Q(L,Gu(M),z);if(M.$$typeof===ct)return Q(L,Bu(L,M),z);Yu(L,M)}return null}function B(L,M,z,Y){var dt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:E(L,M,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===dt?N(L,M,z,Y):null;case X:return z.key===dt?j(L,M,z,Y):null;case b:return z=Hr(z),B(L,M,z,Y)}if(ie(z)||V(z))return dt!==null?null:G(L,M,z,Y,null);if(typeof z.then=="function")return B(L,M,Gu(z),Y);if(z.$$typeof===ct)return B(L,M,Bu(L,z),Y);Yu(L,z)}return null}function H(L,M,z,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(z)||null,E(M,L,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return L=L.get(Y.key===null?z:Y.key)||null,N(M,L,Y,dt);case X:return L=L.get(Y.key===null?z:Y.key)||null,j(M,L,Y,dt);case b:return Y=Hr(Y),H(L,M,z,Y,dt)}if(ie(Y)||V(Y))return L=L.get(z)||null,G(M,L,Y,dt,null);if(typeof Y.then=="function")return H(L,M,z,Gu(Y),dt);if(Y.$$typeof===ct)return H(L,M,z,Bu(M,Y),dt);Yu(M,Y)}return null}function ut(L,M,z,Y){for(var dt=null,Bt=null,ht=M,Nt=M=0,Lt=null;ht!==null&&Nt<z.length;Nt++){ht.index>Nt?(Lt=ht,ht=null):Lt=ht.sibling;var qt=B(L,ht,z[Nt],Y);if(qt===null){ht===null&&(ht=Lt);break}e&&ht&&qt.alternate===null&&i(L,ht),M=d(qt,M,Nt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,ht=Lt}if(Nt===z.length)return a(L,ht),zt&&Zi(L,Nt),dt;if(ht===null){for(;Nt<z.length;Nt++)ht=Q(L,z[Nt],Y),ht!==null&&(M=d(ht,M,Nt),Bt===null?dt=ht:Bt.sibling=ht,Bt=ht);return zt&&Zi(L,Nt),dt}for(ht=l(ht);Nt<z.length;Nt++)Lt=H(ht,L,Nt,z[Nt],Y),Lt!==null&&(e&&Lt.alternate!==null&&ht.delete(Lt.key===null?Nt:Lt.key),M=d(Lt,M,Nt),Bt===null?dt=Lt:Bt.sibling=Lt,Bt=Lt);return e&&ht.forEach(function(Ws){return i(L,Ws)}),zt&&Zi(L,Nt),dt}function pt(L,M,z,Y){if(z==null)throw Error(r(151));for(var dt=null,Bt=null,ht=M,Nt=M=0,Lt=null,qt=z.next();ht!==null&&!qt.done;Nt++,qt=z.next()){ht.index>Nt?(Lt=ht,ht=null):Lt=ht.sibling;var Ws=B(L,ht,qt.value,Y);if(Ws===null){ht===null&&(ht=Lt);break}e&&ht&&Ws.alternate===null&&i(L,ht),M=d(Ws,M,Nt),Bt===null?dt=Ws:Bt.sibling=Ws,Bt=Ws,ht=Lt}if(qt.done)return a(L,ht),zt&&Zi(L,Nt),dt;if(ht===null){for(;!qt.done;Nt++,qt=z.next())qt=Q(L,qt.value,Y),qt!==null&&(M=d(qt,M,Nt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return zt&&Zi(L,Nt),dt}for(ht=l(ht);!qt.done;Nt++,qt=z.next())qt=H(ht,L,Nt,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&ht.delete(qt.key===null?Nt:qt.key),M=d(qt,M,Nt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&ht.forEach(function(p1){return i(L,p1)}),zt&&Zi(L,Nt),dt}function Wt(L,M,z,Y){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:t:{for(var dt=z.key;M!==null;){if(M.key===dt){if(dt=z.type,dt===Z){if(M.tag===7){a(L,M.sibling),Y=h(M,z.props.children),Y.return=L,L=Y;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&Hr(dt)===M.type){a(L,M.sibling),Y=h(M,z.props),nl(Y,z),Y.return=L,L=Y;break t}a(L,M);break}else i(L,M);M=M.sibling}z.type===Z?(Y=Ur(z.props.children,L.mode,Y,z.key),Y.return=L,L=Y):(Y=Uu(z.type,z.key,z.props,null,L.mode,Y),nl(Y,z),Y.return=L,L=Y)}return _(L);case X:t:{for(dt=z.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),Y=h(M,z.children||[]),Y.return=L,L=Y;break t}else{a(L,M);break}else i(L,M);M=M.sibling}Y=nf(z,L.mode,Y),Y.return=L,L=Y}return _(L);case b:return z=Hr(z),Wt(L,M,z,Y)}if(ie(z))return ut(L,M,z,Y);if(V(z)){if(dt=V(z),typeof dt!="function")throw Error(r(150));return z=dt.call(z),pt(L,M,z,Y)}if(typeof z.then=="function")return Wt(L,M,Gu(z),Y);if(z.$$typeof===ct)return Wt(L,M,Bu(L,z),Y);Yu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),Y=h(M,z),Y.return=L,L=Y):(a(L,M),Y=ef(z,L.mode,Y),Y.return=L,L=Y),_(L)):a(L,M)}return function(L,M,z,Y){try{el=0;var dt=Wt(L,M,z,Y);return za=null,dt}catch(ht){if(ht===Ua||ht===Hu)throw ht;var Bt=Tn(29,ht,null,L.mode);return Bt.lanes=Y,Bt.return=L,Bt}}}var Gr=fg(!0),dg=fg(!1),ks=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Us(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pu(e),Xp(e,null,a),i}return ku(e,l,i,a),Pu(e)}function il(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}function yf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function sl(){if(_f){var e=Pa;if(e!==null)throw e}}function rl(e,i,a,l){_f=!1;var h=e.updateQueue;ks=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,j=N.next;N.next=null,_===null?d=j:_.next=j,_=N;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=N))}if(d!==null){var Q=h.baseState;_=0,G=j=N=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(xt&B)===B:(l&B)===B){B!==0&&B===ka&&(_f=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,pt=E;B=i;var Wt=a;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){Q=ut.call(Wt,Q,B);break t}Q=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,B=typeof ut=="function"?ut.call(Wt,Q,B):ut,B==null)break t;Q=S({},Q,B);break t;case 2:ks=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=H,N=Q):G=G.next=H,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(N=Q),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Hs|=_,e.lanes=_,e.memoizedState=Q}}function mg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function pg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)mg(a[e],i)}var ja=x(null),Ku=x(0);function gg(e,i){e=us,it(Ku,e),it(ja,i),us=e|i.baseLanes}function vf(){it(Ku,us),it(ja,ja.current)}function Ef(){us=Ku.current,K(ja),K(Ku)}var An=x(null),zn=null;function zs(e){var i=e.alternate;it(Te,Te.current&1),it(An,e),zn===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(zn=e)}function Tf(e){it(Te,Te.current),it(An,e),zn===null&&(zn=e)}function yg(e){e.tag===22?(it(Te,Te.current),it(An,e),zn===null&&(zn=e)):js()}function js(){it(Te,Te.current),it(An,An.current)}function Sn(e){K(An),zn===e&&(zn=null),K(Te)}var Te=x(0);function Qu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var es=0,Rt=null,Jt=null,Ne=null,$u=!1,Ba=!1,Yr=!1,Xu=0,al=0,qa=null,rS=0;function ge(){throw Error(r(321))}function Af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function Sf(e,i,a,l,h,d){return es=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?ty:Uf,Yr=!1,d=a(l,h),Yr=!1,Ba&&(d=vg(i,a,l,h)),_g(e),d}function _g(e){F.H=ul;var i=Jt!==null&&Jt.next!==null;if(es=0,Ne=Jt=Rt=null,$u=!1,al=0,qa=null,i)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&ju(e)&&(De=!0))}function vg(e,i,a,l){Rt=e;var h=0;do{if(Ba&&(qa=null),al=0,Ba=!1,25<=h)throw Error(r(301));if(h+=1,Ne=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=ey,d=i(a,l)}while(Ba);return d}function aS(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?ol(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function bf(){var e=Xu!==0;return Xu=0,e}function wf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Rf(e){if($u){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}$u=!1}es=0,Ne=Jt=Rt=null,Ba=!1,al=Xu=0,qa=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Ae(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ne===null?Rt.memoizedState:Ne.next;if(i!==null)Ne=i,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var i=al;return al+=1,qa===null&&(qa=[]),e=ug(qa,e,i),i=Rt,(Ne===null?i.memoizedState:Ne.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?ty:Uf),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===ct)return Ke(e)}throw Error(r(438,String(e)))}function If(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function ns(e,i){return typeof i=="function"?i(e):i}function Wu(e){var i=Ae();return Cf(i,Jt,e)}function Cf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=_=null,N=null,j=i,G=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(xt&Q)===Q:(es&Q)===Q){var B=j.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===ka&&(G=!0);else if((es&B)===B){j=j.next,B===ka&&(G=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=Q,_=d):N=N.next=Q,Rt.lanes|=B,Hs|=B;Q=j.action,Yr&&a(d,Q),d=j.hasEagerState?j.eagerState:a(d,Q)}else B={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=B,_=d):N=N.next=B,Rt.lanes|=Q,Hs|=Q;j=j.next}while(j!==null&&j!==i);if(N===null?_=d:N.next=E,!En(d,e.memoizedState)&&(De=!0,G&&(a=Pa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Nf(e){var i=Ae(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Eg(e,i,a){var l=Rt,h=Ae(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!En((Jt||h).memoizedState,a);if(_&&(h.memoizedState=a,De=!0),h=h.queue,Mf(Sg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},Ag.bind(null,l,h,a,i),null),ne===null)throw Error(r(349));d||(es&127)!==0||Tg(l,i,a)}return a}function Tg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Ju(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ag(e,i,a,l){i.value=a,i.getSnapshot=l,bg(i)&&wg(e)}function Sg(e,i,a){return a(function(){bg(i)&&wg(e)})}function bg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function wg(e){var i=Pr(e,2);i!==null&&gn(i,e,2)}function Df(e){var i=ln();if(typeof e=="function"){var a=e;if(e=a(),Yr){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},i}function Rg(e,i,a,l){return e.baseState=a,Cf(e,Jt,typeof l=="function"?l:ns)}function oS(e,i,a,l,h){if(nc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ig(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ig(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var E=a(h,l),N=F.S;N!==null&&N(_,E),Cg(e,i,E)}catch(j){Of(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),Cg(e,i,d)}catch(j){Of(e,i,j)}}function Cg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ng(e,i,l)},function(l){return Of(e,i,l)}):Ng(e,i,a)}function Ng(e,i,a){i.status="fulfilled",i.value=a,Dg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ig(e,a)))}function Of(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dg(i),i=i.next;while(i!==l)}e.action=null}function Dg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Og(e,i){return i}function Mg(e,i){if(zt){var a=ne.formState;if(a!==null){t:{var l=Rt;if(zt){if(re){e:{for(var h=re,d=Un;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){re=jn(h.nextSibling),l=h.data==="F!";break t}}xs(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:i},a.queue=l,a=Jg.bind(null,Rt,l),l.dispatch=a,l=Df(!1),d=Pf.bind(null,Rt,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=oS.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Vg(e){var i=Ae();return xg(i,Jt,e)}function xg(e,i,a){if(i=Cf(e,i,Og)[0],e=Wu(ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(_){throw _===Ua?Hu:_}else l=i;i=Ae();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Ha(9,{destroy:void 0},lS.bind(null,h,a),null)),[l,d,e]}function lS(e,i){e.action=i}function Lg(e){var i=Ae(),a=Jt;if(a!==null)return xg(i,a,e);Ae(),i=i.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ha(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Ju(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function kg(){return Ae().memoizedState}function tc(e,i,a,l){var h=ln();Rt.flags|=e,h.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function ec(e,i,a,l){var h=Ae();l=l===void 0?null:l;var d=h.memoizedState.inst;Jt!==null&&l!==null&&Af(l,Jt.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(Rt.flags|=e,h.memoizedState=Ha(1|i,d,a,l))}function Pg(e,i){tc(8390656,8,e,i)}function Mf(e,i){ec(2048,8,e,i)}function uS(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=Ju(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ug(e){var i=Ae().memoizedState;return uS({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function zg(e,i){return ec(4,2,e,i)}function jg(e,i){return ec(4,4,e,i)}function Bg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qg(e,i,a){a=a!=null?a.concat([e]):null,ec(4,4,Bg.bind(null,i,e),a)}function Vf(){}function Hg(e,i){var a=Ae();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Fg(e,i){var a=Ae();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=e(),Yr){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function xf(e,i,a){return a===void 0||(es&1073741824)!==0&&(xt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Gy(),Rt.lanes|=e,Hs|=e,a)}function Gg(e,i,a,l){return En(a,i)?a:ja.current!==null?(e=xf(e,a,l),En(e,i)||(De=!0),e):(es&42)===0||(es&1073741824)!==0&&(xt&261930)===0?(De=!0,e.memoizedState=a):(e=Gy(),Rt.lanes|=e,Hs|=e,i)}function Yg(e,i,a,l,h){var d=et.p;et.p=d!==0&&8>d?d:8;var _=F.T,E={};F.T=E,Pf(e,!1,i,a);try{var N=h(),j=F.S;if(j!==null&&j(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=sS(N,l);ll(e,i,G,Rn(e))}else ll(e,i,l,Rn(e))}catch(Q){ll(e,i,{then:function(){},status:"rejected",reason:Q},Rn())}finally{et.p=d,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function cS(){}function Lf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=Kg(e).queue;Yg(e,h,i,lt,a===null?cS:function(){return Qg(e),a(l)})}function Kg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Qg(e){var i=Kg(e);i.next===null&&(i=e.alternate.memoizedState),ll(e,i.next.queue,{},Rn())}function kf(){return Ke(wl)}function $g(){return Ae().memoizedState}function Xg(){return Ae().memoizedState}function hS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();e=Ps(a);var l=Us(i,e,a);l!==null&&(gn(l,i,a),il(l,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function fS(e,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(e)?Zg(i,a):(a=Wh(e,i,a,l),a!==null&&(gn(a,e,l),Wg(a,i,l)))}function Jg(e,i,a){var l=Rn();ll(e,i,a,l)}function ll(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(e))Zg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,En(E,_))return ku(e,i,h,0),ne===null&&Lu(),!1}catch{}if(a=Wh(e,i,h,l),a!==null)return gn(a,e,l),Wg(a,i,l),!0}return!1}function Pf(e,i,a,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(i)throw Error(r(479))}else i=Wh(e,a,l,2),i!==null&&gn(i,e,2)}function nc(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function Zg(e,i){Ba=$u=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Wg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Do(e,a)}}var ul={readContext:Ke,use:Zu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};ul.useEffectEvent=ge;var ty={readContext:Ke,use:Zu,useCallback:function(e,i){return ln().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:Pg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,tc(4194308,4,Bg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return tc(4194308,4,e,i)},useInsertionEffect:function(e,i){tc(4,2,e,i)},useMemo:function(e,i){var a=ln();i=i===void 0?null:i;var l=e();if(Yr){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=ln();if(a!==void 0){var h=a(i);if(Yr){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=fS.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=ln();return e={current:e},i.memoizedState=e},useState:function(e){e=Df(e);var i=e.queue,a=Jg.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,i){var a=ln();return xf(a,e,i)},useTransition:function(){var e=Df(!1);return e=Yg.bind(null,Rt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=ln();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ne===null)throw Error(r(349));(xt&127)!==0||Tg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Pg(Sg.bind(null,l,d,e),[e]),l.flags|=2048,Ha(9,{destroy:void 0},Ag.bind(null,l,d,a,i),null),a},useId:function(){var e=ln(),i=ne.identifierPrefix;if(zt){var a=Mi,l=Oi;a=(l&~(1<<32-ve(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=rS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:kf,useFormState:Mg,useActionState:Mg,useOptimistic:function(e){var i=ln();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return ln().memoizedState=hS.bind(null,Rt)},useEffectEvent:function(e){var i=ln(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:Ke,use:Zu,useCallback:Hg,useContext:Ke,useEffect:Mf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Fg,useReducer:Wu,useRef:kg,useState:function(){return Wu(ns)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=Ae();return Gg(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Wu(ns)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,i){var a=Ae();return Rg(a,Jt,e,i)},useMemoCache:If,useCacheRefresh:Xg};Uf.useEffectEvent=Ug;var ey={readContext:Ke,use:Zu,useCallback:Hg,useContext:Ke,useEffect:Mf,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Fg,useReducer:Nf,useRef:kg,useState:function(){return Nf(ns)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=Ae();return Jt===null?xf(a,e,i):Gg(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Nf(ns)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:kf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e,i){var a=Ae();return Jt!==null?Rg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Xg};ey.useEffectEvent=Ug;function zf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var jf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ps(l);h.payload=i,a!=null&&(h.callback=a),i=Us(e,h,l),i!==null&&(gn(i,e,l),il(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ps(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Us(e,h,l),i!==null&&(gn(i,e,l),il(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Rn(),l=Ps(a);l.tag=2,i!=null&&(l.callback=i),i=Us(e,l,a),i!==null&&(gn(i,e,a),il(i,e,a))}};function ny(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function iy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&jf.enqueueReplaceState(i,i.state,null)}function Kr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function sy(e){xu(e)}function ry(e){console.error(e)}function ay(e){xu(e)}function ic(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function oy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,i,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(e,i)},a}function ly(e){return e=Ps(e),e.tag=3,e}function uy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){oy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){oy(i,a,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function dS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?pc():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),fd(e,l,h)),!1;case 22:return a.flags|=65536,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),fd(e,l,h)),!1}throw Error(r(435,a.tag))}return fd(e,l,h),pc(),!1}if(zt)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==af&&(e=Error(r(422),{cause:l}),Zo(Ln(e,a)))):(l!==af&&(i=Error(r(423),{cause:l}),Zo(Ln(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ln(l,a),h=Bf(e.stateNode,l,h),yf(e,h),ye!==4&&(ye=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),yl===null?yl=[d]:yl.push(d),ye!==4&&(ye=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Bf(a.stateNode,l,e),yf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ly(h),uy(h,e,a,l),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),De=!1;function Qe(e,i,a,l){i.child=e===null?dg(i,null,a,l):Gr(i,e.child,a,l)}function cy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return Br(i),l=Sf(e,i,a,_,d,h),E=bf(),e!==null&&!De?(wf(e,i,h),is(e,i,h)):(zt&&E&&sf(i),i.flags|=1,Qe(e,i,l,h),i.child)}function hy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,fy(e,i,d,l,h)):(e=Uu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Xf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,l)&&e.ref===i.ref)return is(e,i,h)}return i.flags|=1,e=Ji(d,l),e.ref=i.ref,e.return=i,i.child=e}function fy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if($o(d,l)&&e.ref===i.ref)if(De=!1,i.pendingProps=l=d,Xf(e,h))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,is(e,i,h)}return Hf(e,i,a,l,h)}function dy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return my(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(i,d!==null?d.cachePool:null),d!==null?gg(i,d):vf(),yg(i);else return l=i.lanes=536870912,my(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(qu(i,d.cachePool),gg(i,d),js(),i.memoizedState=null):(e!==null&&qu(i,null),vf(),js());return Qe(e,i,h,a),i.child}function cl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function my(e,i,a,l,h){var d=df();return d=d===null?null:{parent:Ce._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&qu(i,null),vf(),yg(i),e!==null&&La(e,i,l,!0),i.childLanes=h,null}function sc(e,i){return i=ac({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function py(e,i,a){return Gr(i,e.child,null,a),e=sc(i,i.pendingProps),e.flags|=2,Sn(i),i.memoizedState=null,e}function mS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=sc(i,l),i.lanes=536870912,cl(null,e);if(Tf(i),(e=re)?(e=I_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Zp(e),a.return=i,i.child=a,Ye=i,re=null)):e=null,e===null)throw xs(i);return i.lanes=536870912,null}return sc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=py(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(De||La(e,i,a,!1),h=(a&e.childLanes)!==0,De||h){if(l=ne,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Pr(e,_),gn(l,e,_),qf;pc(),i=py(e,i,a)}else e=d.treeContext,re=jn(_.nextSibling),Ye=i,zt=!0,Vs=null,Un=!1,e!==null&&eg(i,e),i=sc(i,l),i.flags|=4096;return i}return e=Ji(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Hf(e,i,a,l,h){return Br(i),a=Sf(e,i,a,l,void 0,h),l=bf(),e!==null&&!De?(wf(e,i,h),is(e,i,h)):(zt&&l&&sf(i),i.flags|=1,Qe(e,i,a,h),i.child)}function gy(e,i,a,l,h,d){return Br(i),i.updateQueue=null,a=vg(i,l,a,h),_g(e),l=bf(),e!==null&&!De?(wf(e,i,d),is(e,i,d)):(zt&&l&&sf(i),i.flags|=1,Qe(e,i,a,d),i.child)}function yy(e,i,a,l,h){if(Br(i),i.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):Oa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&jf.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,N=Kr(a,E);d.props=N;var j=d.context,G=a.contextType;_=Oa,typeof G=="object"&&G!==null&&(_=Ke(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==_)&&iy(i,d,l,_),ks=!1;var B=i.memoizedState;d.state=B,rl(i,l,d,h),sl(),j=i.memoizedState,E||B!==j||ks?(typeof Q=="function"&&(zf(i,a,Q,l),j=i.memoizedState),(N=ks||ny(i,a,N,l,B,j,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,gf(e,i),_=i.memoizedProps,G=Kr(a,_),d.props=G,Q=i.pendingProps,B=d.context,j=a.contextType,N=Oa,typeof j=="object"&&j!==null&&(N=Ke(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Q||B!==N)&&iy(i,d,l,N),ks=!1,B=i.memoizedState,d.state=B,rl(i,l,d,h),sl();var H=i.memoizedState;_!==Q||B!==H||ks||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof E=="function"&&(zf(i,a,E,l),H=i.memoizedState),(G=ks||ny(i,a,G,l,B,H,N)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=N,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,rc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Gr(i,e.child,null,h),i.child=Gr(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=is(e,i,h),e}function _y(e,i,a,l){return zr(),i.flags|=256,Qe(e,i,a,l),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:og()}}function Yf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function vy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?zs(i):js(),(e=re)?(e=I_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Zp(e),a.return=i,i.child=a,Ye=i,re=null)):e=null,e===null)throw xs(i);return Cd(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(js(),h=i.mode,E=ac({mode:"hidden",children:E},h),l=Ur(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Gf(a),l.childLanes=Yf(e,_,a),i.memoizedState=Ff,cl(null,l)):(zs(i),Kf(i,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(d)i.flags&256?(zs(i),i.flags&=-257,i=Qf(e,i,a)):i.memoizedState!==null?(js(),i.child=e.child,i.flags|=128,i=null):(js(),E=l.fallback,h=i.mode,l=ac({mode:"visible",children:l.children},h),E=Ur(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Gr(i,e.child,null,a),l=i.child,l.memoizedState=Gf(a),l.childLanes=Yf(e,_,a),i.memoizedState=Ff,i=cl(null,l));else if(zs(i),Cd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(r(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=Qf(e,i,a)}else if(De||La(e,i,a,!1),_=(a&e.childLanes)!==0,De||_){if(_=ne,_!==null&&(l=Oo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Pr(e,l),gn(_,e,l),qf;Id(E)||pc(),i=Qf(e,i,a)}else Id(E)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,re=jn(E.nextSibling),Ye=i,zt=!0,Vs=null,Un=!1,e!==null&&eg(i,e),i=Kf(i,l.children),i.flags|=4096);return i}return h?(js(),E=l.fallback,h=i.mode,N=e.child,j=N.sibling,l=Ji(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?E=Ji(j,E):(E=Ur(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,cl(null,l),l=i.child,E=e.child.memoizedState,E===null?E=Gf(a):(h=E.cachePool,h!==null?(N=Ce._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=og(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Yf(e,_,a),i.memoizedState=Ff,cl(e.child,l)):(zs(i),a=e.child,e=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Kf(e,i){return i=ac({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ac(e,i){return e=Tn(22,e,null,i),e.lanes=0,e}function Qf(e,i,a){return Gr(i,e.child,null,a),e=Kf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ey(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),uf(e.return,i,a)}function $f(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ty(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Te.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,it(Te,_),Qe(e,i,l,a),l=zt?Jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ey(e,a,i);else if(e.tag===19)Ey(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),$f(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}$f(i,!0,a,null,d,l);break;case"together":$f(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function is(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Hs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(La(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Ji(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ji(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function pS(e,i,a){switch(i.tag){case 3:pe(i,i.stateNode.containerInfo),Ls(i,Ce,e.memoizedState.cache),zr();break;case 27:case 5:hi(i);break;case 4:pe(i,i.stateNode.containerInfo);break;case 10:Ls(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?vy(e,i,a):(zs(i),e=is(e,i,a),e!==null?e.sibling:null);zs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ty(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Te,Te.current),l)break;return null;case 22:return i.lanes=0,dy(e,i,a,i.pendingProps);case 24:Ls(i,Ce,e.memoizedState.cache)}return is(e,i,a)}function Ay(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!Xf(e,a)&&(i.flags&128)===0)return De=!1,pS(e,i,a);De=(e.flags&131072)!==0}else De=!1,zt&&(i.flags&1048576)!==0&&tg(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Hr(i.elementType),i.type=e,typeof e=="function")tf(e)?(l=Kr(e,l),i.tag=1,i=yy(null,i,e,l,a)):(i.tag=0,i=Hf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===It){i.tag=11,i=cy(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=hy(null,i,e,l,a);break t}}throw i=Vt(e)||e,Error(r(306,i,""))}}return i;case 0:return Hf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Kr(l,i.pendingProps),yy(e,i,l,h,a);case 3:t:{if(pe(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,gf(e,i),rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ls(i,Ce,l),l!==d.cache&&cf(i,[Ce],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_y(e,i,l,a);break t}else if(l!==h){h=Ln(Error(r(424)),i),Zo(h),i=_y(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,re=jn(e.firstChild),Ye=i,zt=!0,Vs=null,Un=!0,a=dg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zr(),l===h){i=is(e,i,a);break t}Qe(e,i,l,a)}i=i.child}return i;case 26:return rc(e,i),e===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Ac(St.current).createElement(a),l[we]=i,l[Ue]=e,$e(l,a,e),Re(l),i.stateNode=l):i.memoizedState=V_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hi(i),e===null&&zt&&(l=i.stateNode=D_(i.type,i.pendingProps,St.current),Ye=i,Un=!0,h=re,Qs(i.type)?(Nd=h,re=jn(l.firstChild)):re=h),Qe(e,i,i.pendingProps.children,a),rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=re)&&(l=GS(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Ye=i,re=jn(l.firstChild),Un=!1,h=!0):h=!1),h||xs(i)),hi(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,bd(h,d)?l=null:_!==null&&bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Sf(e,i,aS,null,null,a),wl._currentValue=h),rc(e,i),Qe(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=re)&&(a=YS(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ye=i,re=null,e=!0):e=!1),e||xs(i)),null;case 13:return vy(e,i,a);case 4:return pe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Gr(i,null,l,a):Qe(e,i,l,a),i.child;case 11:return cy(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ls(i,i.type,l.value),Qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Br(i),h=Ke(h),l=l(h),i.flags|=1,Qe(e,i,l,a),i.child;case 14:return hy(e,i,i.type,i.pendingProps,a);case 15:return fy(e,i,i.type,i.pendingProps,a);case 19:return Ty(e,i,a);case 31:return mS(e,i,a);case 22:return dy(e,i,a,i.pendingProps);case 24:return Br(i),l=Ke(Ce),e===null?(h=df(),h===null&&(h=ne,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},pf(i),Ls(i,Ce,h)):((e.lanes&a)!==0&&(gf(e,i),rl(i,null,null,a),sl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ls(i,Ce,l)):(l=d.cache,Ls(i,Ce,l),l!==h.cache&&cf(i,[Ce],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ss(e){e.flags|=4}function Jf(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if($y())e.flags|=8192;else throw Fr=Fu,mf}else e.flags&=-16777217}function Sy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(i))if($y())e.flags|=8192;else throw Fr=Fu,mf}function oc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?du():536870912,e.lanes|=i,Ka|=i)}function hl(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function gS(e,i,a){var l=i.pendingProps;switch(rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ts(Ce),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xa(i)?ss(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),ae(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(ss(i),d!==null?(ae(i),Sy(i,d)):(ae(i),Jf(i,h,null,l,a))):d?d!==e.memoizedState?(ss(i),ae(i),Sy(i,d)):(ae(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&ss(i),ae(i),Jf(i,h,e,l,a)),null;case 27:if(fi(i),a=St.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ss(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ae(i),null}e=at.current,xa(i)?ng(i):(e=D_(h,l,a),i.stateNode=e,ss(i))}return ae(i),null;case 5:if(fi(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ss(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ae(i),null}if(d=at.current,xa(i))ng(i);else{var _=Ac(St.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[we]=i,d[Ue]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch($e(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ss(i)}}return ae(i),Jf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ss(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=St.current,xa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[we]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v_(e.nodeValue,a)),e||xs(i,!0)}else e=Ac(e).createTextNode(l),e[we]=i,i.stateNode=e}return ae(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=xa(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[we]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),e=!1}else a=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[we]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),oc(i,i.updateQueue),ae(i),null);case 4:return te(),e===null&&vd(i.stateNode.containerInfo),ae(i),null;case 10:return ts(i.type),ae(i),null;case 19:if(K(Te),l=i.memoizedState,l===null)return ae(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)hl(l,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Qu(e),d!==null){for(i.flags|=128,hl(l,!1),e=d.updateQueue,i.updateQueue=e,oc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Jp(a,e),a=a.sibling;return it(Te,Te.current&1|2),zt&&Zi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&He()>fc&&(i.flags|=128,h=!0,hl(l,!1),i.lanes=4194304)}else{if(!h)if(e=Qu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,oc(i,e),hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return ae(i),null}else 2*He()-l.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,h=!0,hl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=He(),e.sibling=null,a=Te.current,it(Te,h?a&1|2:a&1),zt&&Zi(i,l.treeForkCount),e):(ae(i),null);case 22:case 23:return Sn(i),Ef(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&oc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&K(qr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ts(Ce),ae(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function yS(e,i){switch(rf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ts(Ce),te(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return fi(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(r(340));zr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Sn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));zr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return K(Te),null;case 4:return te(),null;case 10:return ts(i.type),null;case 22:case 23:return Sn(i),Ef(),e!==null&&K(qr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ts(Ce),null;case 25:return null;default:return null}}function by(e,i){switch(rf(i),i.tag){case 3:ts(Ce),te();break;case 26:case 27:case 5:fi(i);break;case 4:te();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:K(Te);break;case 10:ts(i.type);break;case 22:case 23:Sn(i),Ef(),e!==null&&K(qr);break;case 24:ts(Ce)}}function fl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function Bs(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var N=a,j=E;try{j()}catch(G){$t(h,N,G)}}}l=l.next}while(l!==d)}}catch(G){$t(i,i.return,G)}}function wy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{pg(i,a)}catch(l){$t(e,e.return,l)}}}function Ry(e,i,a){a.props=Kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function dl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function Vi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Iy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Zf(e,i,a){try{var l=e.stateNode;zS(l,e.type,a,i),l[Ue]=i}catch(h){$t(e,e.return,h)}}function Cy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&Qs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(td(e,i,a),e=e.sibling;e!==null;)td(e,i,a),e=e.sibling}function lc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lc(e,i,a),e=e.sibling;e!==null;)lc(e,i,a),e=e.sibling}function Ny(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);$e(i,l,a),i[we]=e,i[Ue]=a}catch(d){$t(e,e.return,d)}}var rs=!1,Oe=!1,ed=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,je=null;function _S(e,i){if(e=e.containerInfo,Ad=Nc,e=qp(e),Kh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,N=-1,j=0,G=0,Q=e,B=null;e:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(E=_+h),Q!==d||l!==0&&Q.nodeType!==3||(N=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)B=Q,Q=H;for(;;){if(Q===e)break e;if(B===a&&++j===h&&(E=_),B===d&&++G===l&&(N=_),(H=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=H}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:e,selectionRange:a},Nc=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Kr(a.type,h);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Rd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function Oy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:os(e,a),l&4&&fl(5,a);break;case 1:if(os(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var h=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&wy(a),l&512&&dl(a,a.return);break;case 3:if(os(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{pg(e,i)}catch(_){$t(a,a.return,_)}}break;case 27:i===null&&l&4&&Ny(a);case 26:case 5:os(e,a),i===null&&l&4&&Iy(a),l&512&&dl(a,a.return);break;case 12:os(e,a);break;case 31:os(e,a),l&4&&xy(e,a);break;case 13:os(e,a),l&4&&Ly(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=IS.bind(null,a),KS(e,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){i=i!==null&&i.memoizedState!==null||Oe,h=rs;var d=Oe;rs=l,(Oe=i)&&!d?ls(e,a,(a.subtreeFlags&8772)!==0):os(e,a),rs=h,Oe=d}break;case 30:break;default:os(e,a)}}function My(e){var i=e.alternate;i!==null&&(e.alternate=null,My(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ya(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,fn=!1;function as(e,i,a){for(a=a.child;a!==null;)Vy(e,i,a),a=a.sibling}function Vy(e,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Oe||Vi(a,i),as(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Oe||Vi(a,i);var l=ue,h=fn;Qs(a.type)&&(ue=a.stateNode,fn=!1),as(e,i,a),Al(a.stateNode),ue=l,fn=h;break;case 5:Oe||Vi(a,i);case 6:if(l=ue,h=fn,ue=null,as(e,i,a),ue=l,fn=h,ue!==null)if(fn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ue.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ue!==null&&(fn?(e=ue,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),eo(e)):w_(ue,a.stateNode));break;case 4:l=ue,h=fn,ue=a.stateNode.containerInfo,fn=!0,as(e,i,a),ue=l,fn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,i),Oe||Bs(4,a,i),as(e,i,a);break;case 1:Oe||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ry(a,i,l)),as(e,i,a);break;case 21:as(e,i,a);break;case 22:Oe=(l=Oe)||a.memoizedState!==null,as(e,i,a),Oe=l;break;default:as(e,i,a)}}function xy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{eo(e)}catch(a){$t(i,i.return,a)}}}function Ly(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(a){$t(i,i.return,a)}}function vS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Dy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Dy),i;default:throw Error(r(435,e.tag))}}function uc(e,i){var a=vS(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=CS.bind(null,e,l);l.then(h,h)}})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Qs(E.type)){ue=E.stateNode,fn=!1;break t}break;case 5:ue=E.stateNode,fn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(ue===null)throw Error(r(160));Vy(d,_,h),ue=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ky(i,e),i=i.sibling}var ii=null;function ky(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(Bs(3,e,e.return),fl(3,e),Bs(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(Oe||a===null||Vi(a,a.return)),l&64&&rs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(dn(i,e),mn(e),l&512&&(Oe||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vi]||d[we]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$e(d,l,a),d[we]=e,Re(d),l=d;break t;case"link":var _=k_("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=h.createElement(l),$e(d,l,a),h.head.appendChild(d);break;case"meta":if(_=k_("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=h.createElement(l),$e(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[we]=e,Re(d),l=d}e.stateNode=l}else P_(h,e.type,e.stateNode);else e.stateNode=L_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?P_(h,e.type,e.stateNode):L_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(Oe||a===null||Vi(a,a.return)),a!==null&&l&4&&Zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(Oe||a===null||Vi(a,a.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(ut){$t(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ut){$t(e,e.return,ut)}}break;case 3:if(wc=null,h=ii,ii=Sc(i.containerInfo),dn(i,e),ii=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(ut){$t(e,e.return,ut)}ed&&(ed=!1,Py(e));break;case 4:l=ii,ii=Sc(e.stateNode.containerInfo),dn(i,e),mn(e),ii=l;break;case 12:dn(i,e),mn(e);break;case 31:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uc(e,l)));break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=rs,G=Oe;if(rs=j||h,Oe=G||N,dn(i,e),Oe=G,rs=j,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||rs||Oe||Qr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var Q=N.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ut){$t(N,N.return,ut)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ut){$t(N,N.return,ut)}}}else if(i.tag===18){if(a===null){N=i;try{var H=N.stateNode;h?R_(H,!0):R_(N.stateNode,!1)}catch(ut){$t(N,N.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uc(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uc(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Cy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(e);lc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var E=Wf(e);lc(e,E,_);break;case 3:case 4:var N=a.stateNode.containerInfo,j=Wf(e);td(e,j,N);break;default:throw Error(r(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function os(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Oy(e,i.alternate,i),i=i.sibling}function Qr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Bs(4,i,i.return),Qr(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ry(i,i.return,a),Qr(i);break;case 27:Al(i.stateNode);case 26:case 5:Vi(i,i.return),Qr(i);break;case 22:i.memoizedState===null&&Qr(i);break;case 30:Qr(i);break;default:Qr(i)}e=e.sibling}}function ls(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ls(h,d,a),fl(4,d);break;case 1:if(ls(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)mg(N[h],E)}catch(j){$t(l,l.return,j)}}a&&_&64&&wy(d),dl(d,d.return);break;case 27:Ny(d);case 26:case 5:ls(h,d,a),a&&l===null&&_&4&&Iy(d),dl(d,d.return);break;case 12:ls(h,d,a);break;case 31:ls(h,d,a),a&&_&4&&xy(h,d);break;case 13:ls(h,d,a),a&&_&4&&Ly(h,d);break;case 22:d.memoizedState===null&&ls(h,d,a),dl(d,d.return);break;case 30:break;default:ls(h,d,a)}i=i.sibling}}function nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function id(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function si(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uy(e,i,a,l),i=i.sibling}function Uy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(e,i,a,l),h&2048&&fl(9,i);break;case 1:si(e,i,a,l);break;case 3:si(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){si(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){$t(i,i.return,N)}}else si(e,i,a,l);break;case 31:si(e,i,a,l);break;case 13:si(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?si(e,i,a,l):ml(e,i):d._visibility&2?si(e,i,a,l):(d._visibility|=2,Fa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(_,i);break;case 24:si(e,i,a,l),h&2048&&id(i.alternate,i);break;default:si(e,i,a,l)}}function Fa(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=a,N=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(d,_,E,N,h),fl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Fa(d,_,E,N,h):ml(d,_):(G._visibility|=2,Fa(d,_,E,N,h)),h&&j&2048&&nd(_.alternate,_);break;case 24:Fa(d,_,E,N,h),h&&j&2048&&id(_.alternate,_);break;default:Fa(d,_,E,N,h)}i=i.sibling}}function ml(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ml(a,l),h&2048&&nd(l.alternate,l);break;case 24:ml(a,l),h&2048&&id(l.alternate,l);break;default:ml(a,l)}i=i.sibling}}var pl=8192;function Ga(e,i,a){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)zy(e,i,a),e=e.sibling}function zy(e,i,a){switch(e.tag){case 26:Ga(e,i,a),e.flags&pl&&e.memoizedState!==null&&r1(a,ii,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,i,a);break;case 3:case 4:var l=ii;ii=Sc(e.stateNode.containerInfo),Ga(e,i,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,Ga(e,i,a),pl=l):Ga(e,i,a));break;default:Ga(e,i,a)}}function jy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function gl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,qy(l,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)By(e),e=e.sibling}function By(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,cc(e)):gl(e);break;default:gl(e)}}function cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,qy(l,e)}jy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Bs(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}e=e.sibling}}function qy(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Bs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var h=l.sibling,d=l.return;if(My(l),l===a){je=null;break t}if(h!==null){h.return=d,je=h;break t}je=d}}}var ES={getCacheForType:function(e){var i=Ke(Ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ke(Ce).controller.signal}},TS=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Ot=null,xt=0,Qt=0,bn=null,qs=!1,Ya=!1,sd=!1,us=0,ye=0,Hs=0,$r=0,rd=0,wn=0,Ka=0,yl=null,pn=null,ad=!1,hc=0,Hy=0,fc=1/0,dc=null,Fs=null,Le=0,Gs=null,Qa=null,cs=0,od=0,ld=null,Fy=null,_l=0,ud=null;function Rn(){return(Gt&2)!==0&&xt!==0?xt&-xt:F.T!==null?pd():mu()}function Gy(){if(wn===0)if((xt&536870912)===0||zt){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),wn=e}else wn=536870912;return e=An.current,e!==null&&(e.flags|=32),wn}function gn(e,i,a){(e===ne&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&($a(e,0),Ys(e,xt,wn,!1)),Sr(e,a),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&($r|=a),ye===4&&Ys(e,xt,wn,!1)),xi(e))}function Yy(e,i,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Qn(e,i),h=l?bS(e,i):hd(e,i,!0),d=l;do{if(h===0){Ya&&!l&&Ys(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!AS(a)){h=hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=yl;var N=E.current.memoizedState.isDehydrated;if(N&&($a(E,_).flags|=256),_=hd(E,_,!1),_!==2){if(sd&&!N){E.errorRecoveryDisabledLanes|=d,$r|=d,h=4;break t}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){$a(e,0),Ys(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ys(l,i,wn,!qs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=hc+300-He(),10<h)){if(Ys(l,i,wn,!qs),gi(l,0,!0)!==0)break t;cs=i,l.timeoutHandle=S_(Ky.bind(null,l,a,pn,dc,ad,i,wn,$r,Ka,qs,d,"Throttled",-0,0),h);break t}Ky(l,a,pn,dc,ad,i,wn,$r,Ka,qs,d,null,-0,0)}}break}while(!0);xi(e)}function Ky(e,i,a,l,h,d,_,E,N,j,G,Q,B,H){if(e.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},zy(i,d,Q);var ut=(d&62914560)===d?hc-He():(d&4194048)===d?Hy-He():0;if(ut=a1(Q,ut),ut!==null){cs=d,e.cancelPendingCommit=ut(e_.bind(null,e,i,d,a,l,h,_,E,N,G,Q,null,B,H)),Ys(e,d,_,!j);return}}e_(e,i,d,a,l,h,_,E,N)}function AS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ys(e,i,a,l){i&=~rd,i&=~$r,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ve(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&br(e,a,i)}function mc(){return(Gt&6)===0?(vl(0),!1):!0}function cd(){if(Ot!==null){if(Qt===0)var e=Ot.return;else e=Ot,Wi=jr=null,Rf(e),za=null,el=0,e=Ot;for(;e!==null;)by(e.alternate,e),e=e.return;Ot=null}}function $a(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,qS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),cs=0,cd(),ne=e,Ot=a=Ji(e.current,null),xt=i,Qt=0,bn=null,qs=!1,Ya=Qn(e,i),sd=!1,Ka=wn=rd=$r=Hs=ye=0,pn=yl=null,ad=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ve(l),d=1<<h;i|=e[h],l&=~d}return us=i,Lu(),a}function Qy(e,i){Rt=null,F.H=ul,i===Ua||i===Hu?(i=cg(),Qt=3):i===mf?(i=cg(),Qt=4):Qt=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ot===null&&(ye=1,ic(e,Ln(i,e.current)))}function $y(){var e=An.current;return e===null?!0:(xt&4194048)===xt?zn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===zn:!1}function Xy(){var e=F.H;return F.H=ul,e===null?ul:e}function Jy(){var e=F.A;return F.A=ES,e}function pc(){ye=4,qs||(xt&4194048)!==xt&&An.current!==null||(Ya=!0),(Hs&134217727)===0&&($r&134217727)===0||ne===null||Ys(ne,xt,wn,!1)}function hd(e,i,a){var l=Gt;Gt|=2;var h=Xy(),d=Jy();(ne!==e||xt!==i)&&(dc=null,$a(e,i)),i=!1;var _=ye;t:do try{if(Qt!==0&&Ot!==null){var E=Ot,N=bn;switch(Qt){case 8:cd(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var j=Qt;if(Qt=0,bn=null,Xa(e,E,N,j),a&&Ya){_=0;break t}break;default:j=Qt,Qt=0,bn=null,Xa(e,E,N,j)}}SS(),_=ye;break}catch(G){Qy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Wi=jr=null,Gt=l,F.H=h,F.A=d,Ot===null&&(ne=null,xt=0,Lu()),_}function SS(){for(;Ot!==null;)Zy(Ot)}function bS(e,i){var a=Gt;Gt|=2;var l=Xy(),h=Jy();ne!==e||xt!==i?(dc=null,fc=He()+500,$a(e,i)):Ya=Qn(e,i);t:do try{if(Qt!==0&&Ot!==null){i=Ot;var d=bn;e:switch(Qt){case 1:Qt=0,bn=null,Xa(e,i,d,1);break;case 2:case 9:if(lg(d)){Qt=0,bn=null,Wy(i);break}i=function(){Qt!==2&&Qt!==9||ne!==e||(Qt=7),xi(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:lg(d)?(Qt=0,bn=null,Wy(i)):(Qt=0,bn=null,Xa(e,i,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var E=Ot;if(_?U_(_):E.stateNode.complete){Qt=0,bn=null;var N=E.sibling;if(N!==null)Ot=N;else{var j=E.return;j!==null?(Ot=j,gc(j)):Ot=null}break e}}Qt=0,bn=null,Xa(e,i,d,5);break;case 6:Qt=0,bn=null,Xa(e,i,d,6);break;case 8:cd(),ye=6;break t;default:throw Error(r(462))}}wS();break}catch(G){Qy(e,G)}while(!0);return Wi=jr=null,F.H=l,F.A=h,Gt=a,Ot!==null?0:(ne=null,xt=0,Lu(),ye)}function wS(){for(;Ot!==null&&!No();)Zy(Ot)}function Zy(e){var i=Ay(e.alternate,e,us);e.memoizedProps=e.pendingProps,i===null?gc(e):Ot=i}function Wy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=gy(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=gy(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Rf(i);default:by(a,i),i=Ot=Jp(i,us),i=Ay(a,i,us)}e.memoizedProps=e.pendingProps,i===null?gc(e):Ot=i}function Xa(e,i,a,l){Wi=jr=null,Rf(i),za=null,el=0;var h=i.return;try{if(dS(e,h,i,a,xt)){ye=1,ic(e,Ln(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;ye=1,ic(e,Ln(a,e.current)),Ot=null;return}i.flags&32768?(zt||l===1?e=!0:Ya||(xt&536870912)!==0?e=!1:(qs=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,e)):gc(i)}function gc(e){var i=e;do{if((i.flags&32768)!==0){t_(i,qs);return}e=i.return;var a=gS(i.alternate,i,us);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);ye===0&&(ye=5)}function t_(e,i){do{var a=yS(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);ye=6,Ot=null}function e_(e,i,a,l,h,d,_,E,N){e.cancelPendingCommit=null;do yc();while(Le!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Zh,Hh(e,a,d,_,E,N),e===ne&&(Ot=ne=null,xt=0),Qa=i,Gs=e,cs=a,od=d,ld=h,Fy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NS(fe,function(){return a_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=et.p,et.p=2,_=Gt,Gt|=4;try{_S(e,i,a)}finally{Gt=_,et.p=h,F.T=l}}Le=1,n_(),i_(),s_()}}function n_(){if(Le===1){Le=0;var e=Gs,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Gt;Gt|=4;try{ky(i,e);var d=Sd,_=qp(e.containerInfo),E=d.focusedElem,N=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Bp(E.ownerDocument.documentElement,E)){if(N!==null&&Kh(E)){var j=N.start,G=N.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var H=B.getSelection(),ut=E.textContent.length,pt=Math.min(N.start,ut),Wt=N.end===void 0?pt:Math.min(N.end,ut);!H.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var L=jp(E,pt),M=jp(E,Wt);if(L&&M&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=Q.createRange();z.setStart(L.node,L.offset),H.removeAllRanges(),pt>Wt?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for(Q=[],H=E;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var Y=Q[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Nc=!!Ad,Sd=Ad=null}finally{Gt=h,et.p=l,F.T=a}}e.current=i,Le=2}}function i_(){if(Le===2){Le=0;var e=Gs,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var h=Gt;Gt|=4;try{Oy(e,i.alternate,i)}finally{Gt=h,et.p=l,F.T=a}}Le=3}}function s_(){if(Le===4||Le===3){Le=0,da();var e=Gs,i=Qa,a=cs,l=Fy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,Qa=Gs=null,r_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Ki(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var E=l[_];d(E.value,{componentStack:E.stack})}}finally{F.T=i,et.p=h}}(cs&3)!==0&&yc(),xi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ud?_l++:(_l=0,ud=e):_l=0,vl(0)}}function r_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function yc(){return n_(),i_(),s_(),a_()}function a_(){if(Le!==5)return!1;var e=Gs,i=od;od=0;var a=Ki(cs),l=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=ld,ld=null;var d=Gs,_=cs;if(Le=0,Qa=Gs=null,cs=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,By(d.current),Uy(d,d.current,_,a),Gt=E,vl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{et.p=h,F.T=l,r_(e,i)}}function o_(e,i,a){i=Ln(a,i),i=Bf(e.stateNode,i,2),e=Us(e,i,2),e!==null&&(Sr(e,2),xi(e))}function $t(e,i,a){if(e.tag===3)o_(e,e,a);else for(;i!==null;){if(i.tag===3){o_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){e=Ln(a,e),a=ly(2),l=Us(i,a,2),l!==null&&(uy(a,l,i,e),Sr(l,2),xi(l));break}}i=i.return}}function fd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new TS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(sd=!0,h.add(a),e=RS.bind(null,e,i,a),i.then(e,e))}function RS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(xt&a)===a&&(ye===4||ye===3&&(xt&62914560)===xt&&300>He()-hc?(Gt&2)===0&&$a(e,0):rd|=a,Ka===xt&&(Ka=0)),xi(e)}function l_(e,i){i===0&&(i=du()),e=Pr(e,i),e!==null&&(Sr(e,i),xi(e))}function IS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),l_(e,a)}function CS(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),l_(e,a)}function NS(e,i){return _e(e,i)}var _c=null,Ja=null,dd=!1,vc=!1,md=!1,Ks=0;function xi(e){e!==Ja&&e.next===null&&(Ja===null?_c=Ja=e:Ja=Ja.next=e),vc=!0,dd||(dd=!0,OS())}function vl(e,i){if(!md&&vc){md=!0;do for(var a=!1,l=_c;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-ve(42|e)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=xt,d=gi(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,f_(l,d));l=l.next}while(a);md=!1}}function DS(){u_()}function u_(){vc=dd=!1;var e=0;Ks!==0&&BS()&&(e=Ks);for(var i=He(),a=null,l=_c;l!==null;){var h=l.next,d=c_(l,i);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&(Ja=a)):(a=l,(e!==0||(d&3)!==0)&&(vc=!0)),l=h}Le!==0&&Le!==5||vl(e),Ks!==0&&(Ks=0)}function c_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ve(d),E=1<<_,N=h[_];N===-1?((E&a)===0||(E&l)!==0)&&(h[_]=qh(E,i)):N<=i&&(e.expiredLanes|=E),d&=~E}if(i=ne,a=xt,a=gi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Yn(l),Ki(a)){case 2:case 8:a=he;break;case 32:a=fe;break;case 268435456:a=Tr;break;default:a=fe}return l=h_.bind(null,e),a=_e(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Yn(l),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yc()&&e.callbackNode!==a)return null;var l=xt;return l=gi(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Yy(e,l,i),c_(e,He()),e.callbackNode!=null&&e.callbackNode===a?h_.bind(null,e):null)}function f_(e,i){if(yc())return null;Yy(e,i,!0)}function OS(){HS(function(){(Gt&6)!==0?_e(se,DS):u_()})}function pd(){if(Ks===0){var e=ka;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Ks=e}return Ks}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function m_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function MS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=d_((h[Ue]||null).action),_=l.submitter;_&&(i=(i=_[Ue]||null)?d_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new Ii("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var N=_?m_(h,_):new FormData(h);Lf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(E.preventDefault(),N=_?m_(h,_):new FormData(h),Lf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var yd=Jh[gd],VS=yd.toLowerCase(),xS=yd[0].toUpperCase()+yd.slice(1);ni(VS,"on"+xS)}ni(Gp,"onAnimationEnd"),ni(Yp,"onAnimationIteration"),ni(Kp,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(XA,"onTransitionRun"),ni(JA,"onTransitionStart"),ni(ZA,"onTransitionCancel"),ni(Qp,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function p_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],N=E.instance,j=E.currentTarget;if(E=E.listener,N!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(E=l[_],N=E.instance,j=E.currentTarget,E=E.listener,N!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=j;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=N}}}}function Mt(e,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=e+"__bubble";a.has(l)||(g_(i,e,2,!1),a.add(l))}function _d(e,i,a){var l=0;i&&(l|=4),g_(a,e,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[Ec]){e[Ec]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(LS.has(a)||_d(a,!1,e),_d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,_d("selectionchange",!1,i))}}function g_(e,i,a,l){switch(G_(i)){case 2:var h=u1;break;case 8:h=c1;break;default:h=xd}a=h.bind(null,i,a,e),h=void 0,!Nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Ei(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}E=E.parentNode}}l=l.return}Cs(function(){var j=d,G=On(a),Q=[];t:{var B=$p.get(e);if(B!==void 0){var H=Ii,ut=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":H=Ou;break;case"focusin":ut="focus",H=Vr;break;case"focusout":ut="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case Gp:case Yp:case Kp:H=bu;break;case Qp:H=A;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xi;break;case"toggle":case"beforetoggle":H=wt}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),L=pt?B!==null?B+"Capture":null:B;pt=[];for(var M=j,z;M!==null;){var Y=M;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||L===null||(Y=Zn(M,L),Y!=null&&pt.push(Tl(M,Y,z))),Wt)break;M=M.return}0<pt.length&&(B=new H(B,ut,null,a,G),Q.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Bo&&(ut=a.relatedTarget||a.fromElement)&&(Ei(ut)||ut[_i]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ut=a.relatedTarget||a.toElement,H=j,ut=ut?Ei(ut):null,ut!==null&&(Wt=u(ut),pt=ut.tag,ut!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(H=null,ut=j),H!==ut)){if(pt=Go,Y="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Xi,Y="onPointerLeave",L="onPointerEnter",M="pointer"),Wt=H==null?B:_n(H),z=ut==null?B:_n(ut),B=new pt(Y,M+"leave",H,a,G),B.target=Wt,B.relatedTarget=z,Y=null,Ei(G)===j&&(pt=new pt(L,M+"enter",ut,a,G),pt.target=z,pt.relatedTarget=Wt,Y=pt),Wt=Y,H&&ut)e:{for(pt=kS,L=H,M=ut,z=0,Y=L;Y;Y=pt(Y))z++;Y=0;for(var dt=M;dt;dt=pt(dt))Y++;for(;0<z-Y;)L=pt(L),z--;for(;0<Y-z;)M=pt(M),Y--;for(;z--;){if(L===M||M!==null&&L===M.alternate){pt=L;break e}L=pt(L),M=pt(M)}pt=null}else pt=null;H!==null&&y_(Q,B,H,pt,!1),ut!==null&&Wt!==null&&y_(Q,Wt,ut,pt,!0)}}t:{if(B=j?_n(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=xp;else if(Mp(B))if(Lp)Bt=KA;else{Bt=GA;var ht=FA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Ea(j.elementType)&&(Bt=xp):Bt=YA;if(Bt&&(Bt=Bt(e,j))){Vp(Q,Bt,a,G);break t}ht&&ht(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Uo(B,"number",B.value)}switch(ht=j?_n(j):window,e){case"focusin":(Mp(ht)||ht.contentEditable==="true")&&(Ca=ht,Qh=j,Xo=null);break;case"focusout":Xo=Qh=Ca=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Hp(Q,a,G);break;case"selectionchange":if($A)break;case"keydown":case"keyup":Hp(Q,a,G)}var Nt;if(Ft)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ia?xr(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Di&&a.locale!=="ko"&&(Ia||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ia&&(Nt=Ho()):(Ri=G,qo="value"in Ri?Ri.value:Ri.textContent,Ia=!0)),ht=Tc(j,Lt),0<ht.length&&(Lt=new Ni(Lt,e,null,a,G),Q.push({event:Lt,listeners:ht}),Nt?Lt.data=Nt:(Nt=Ra(a),Nt!==null&&(Lt.data=Nt)))),(Nt=Vn?jA(e,a):BA(e,a))&&(Lt=Tc(j,"onBeforeInput"),0<Lt.length&&(ht=new Ni("onBeforeInput","beforeinput",null,a,G),Q.push({event:ht,listeners:Lt}),ht.data=Nt)),MS(Q,e,j,a,G)}p_(Q,i)})}function Tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Tc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Zn(e,a),h!=null&&l.unshift(Tl(e,h,d)),h=Zn(e,i),h!=null&&l.push(Tl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function kS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function y_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var E=a,N=E.alternate,j=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||j===null||(N=j,h?(j=Zn(a,d),j!=null&&_.unshift(Tl(a,j,N))):h||(j=Zn(a,d),j!=null&&_.push(Tl(a,j,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var PS=/\r\n?/g,US=/\u0000|\uFFFD/g;function __(e){return(typeof e=="string"?e:""+e).replace(PS,`
`).replace(US,"")}function v_(e,i){return i=__(i),__(e)===i}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,a,l);break;case"style":jo(e,l,d);break;case"data":if(i!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ta(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ta(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ta(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),_a(e,"popover",l);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,_a(e,a,l))}}function Td(e,i,a,l,h,d){switch(a){case"style":jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):_a(e,a,l)}}}function $e(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,d,_,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var E=d=_=h=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":N=G;break;case"defaultChecked":j=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Zt(e,i,l,G,a,null)}}_u(e,d,E,N,j,_,h,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Zt(e,i,h,E,a,null)}i=d,a=_,e.multiple=!!l,i!=null?bs(e,!!l,i,!1):a!=null&&bs(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,i,_,E,a,null)}ws(e,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(e,i,N,l,a,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<El.length;l++)Mt(El[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Zt(e,i,j,l,a,null)}return;default:if(Ea(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Td(e,i,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(e,i,E,l,a,null))}function zS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,N=null,j=null,G=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Q;default:l.hasOwnProperty(H)||Zt(e,i,H,null,l,Q)}}for(var B in l){var H=l[B];if(Q=a[B],l.hasOwnProperty(B)&&(H!=null||Q!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Q&&Zt(e,i,B,H,l,Q)}}va(e,_,E,N,j,G,d,h);return;case"select":H=_=E=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==N&&Zt(e,i,h,d,l,N)}i=E,a=_,l=H,B!=null?bs(e,!!a,B,!1):!!l!=!!a&&(i!=null?bs(e,!!a,i,!0):bs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Zt(e,i,_,h,l,d)}vu(e,B,H);return;case"option":for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Zt(e,i,ut,null,l,B));for(N in l)B=l[N],H=a[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Zt(e,i,N,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Zt(e,i,pt,null,l,B);for(j in l)if(B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Zt(e,i,j,B,l,H)}return;default:if(Ea(i)){for(var Wt in a)B=a[Wt],a.hasOwnProperty(Wt)&&B!==void 0&&!l.hasOwnProperty(Wt)&&Td(e,i,Wt,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Td(e,i,G,B,l,H);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&Zt(e,i,L,null,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B==null&&H==null||Zt(e,i,Q,B,l,H)}function E_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&E_(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>E)break;var G=N.transferSize,Q=N.initiatorType;G&&E_(Q)&&(N=N.responseEnd,_+=G*(N<E?1:(E-j)/(N-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Sd=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function T_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wd=null;function BS(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,qS=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(e){return b_.resolve(null).then(e).catch(FS)}:S_;function FS(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function w_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),eo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[vi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(e.ownerDocument.body);a=h}while(a);eo(i)}function R_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Rd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function GS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[vi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function YS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function I_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function KS(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Nd=null;function C_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return jn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function N_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function D_(e,i,a){switch(i=Ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ya(e)}var Bn=new Map,O_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hs=et.d;et.d={f:QS,r:$S,D:XS,C:JS,L:ZS,m:WS,X:e1,S:t1,M:n1};function QS(){var e=hs.f(),i=mc();return e||i}function $S(e){var i=Dn(e);i!==null&&i.tag===5&&i.type==="form"?Qg(i):hs.r(e)}var Za=typeof document>"u"?null:document;function M_(e,i,a){var l=Za;if(l&&typeof i=="string"&&i){var h=cn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),$e(i,"link",e),Re(i),l.head.appendChild(i)))}}function XS(e){hs.D(e),M_("dns-prefetch",e,null)}function JS(e,i){hs.C(e,i),M_("preconnect",e,i)}function ZS(e,i,a){hs.L(e,i,a);var l=Za;if(l&&e&&i){var h='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var d=h;switch(i){case"style":d=Wa(e);break;case"script":d=to(e)}Bn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Bn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),$e(i,"link",e),Re(i),l.head.appendChild(i)))}}function WS(e,i){hs.m(e,i);var a=Za;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(e)}if(!Bn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Bn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),$e(l,"link",e),Re(l),a.head.appendChild(l)}}}function t1(e,i,a){hs.S(e,i,a);var l=Za;if(l&&e){var h=Ti(l).hoistableStyles,d=Wa(e);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Sl(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Bn.get(d))&&Dd(e,a);var N=_=l.createElement("link");Re(N),$e(N,"link",e),N._p=new Promise(function(j,G){N.onload=j,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function e1(e,i){hs.X(e,i);var a=Za;if(a&&e){var l=Ti(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=S({src:e,async:!0},i),(i=Bn.get(h))&&Od(e,i),d=a.createElement("script"),Re(d),$e(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function n1(e,i){hs.M(e,i);var a=Za;if(a&&e){var l=Ti(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Bn.get(h))&&Od(e,i),d=a.createElement("script"),Re(d),$e(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V_(e,i,a,l){var h=(h=St.current)?Sc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=Ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wa(a.href);var d=Ti(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Sl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),d||i1(h,e,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=Ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Wa(e){return'href="'+cn(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function i1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$e(i,"link",a),Re(i),e.head.appendChild(i))}function to(e){return'[src="'+cn(e)+'"]'}function bl(e){return"script[async]"+e}function L_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,Re(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Re(l),$e(l,"style",h),bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Wa(a.href);var d=e.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,Re(d),d;l=x_(a),(h=Bn.get(h))&&Dd(l,h),d=(e.ownerDocument||e).createElement("link"),Re(d);var _=d;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),$e(d,"link",l),i.state.loading|=4,bc(d,a.precedence,e),i.instance=d;case"script":return d=to(a.src),(h=e.querySelector(bl(d)))?(i.instance=h,Re(h),h):(l=a,(h=Bn.get(d))&&(l=S({},a),Od(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),$e(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,e));return i.instance}function bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var wc=null;function k_(e,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[vi]||d[we]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=l.get(_);E?E.push(d):l.set(_,[d])}}return l}function P_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function s1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function r1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Rc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Re(d);return}d=i.ownerDocument||i,l=x_(l),(h=Bn.get(h))&&Dd(l,h),d=d.createElement("link"),Re(d);var _=d;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),$e(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Rc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function a1(e,i){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Md===0&&(Md=62500*jS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Md?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function Cc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,i.forEach(o1,e),Ic=null,Rc.call(e))}function o1(e,i){if(!(i.state.loading&4)){var a=Ic.get(e);if(a)var l=a.get(null);else{a=new Map,Ic.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var wl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function l1(e,i,a,l,h,d,_,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function z_(e,i,a,l,h,d,_,E,N,j,G,Q){return e=new l1(e,i,a,_,N,j,G,Q,E),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},pf(d),e}function j_(e){return e?(e=Oa,e):Oa}function B_(e,i,a,l,h,d){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ps(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Us(e,l,i),a!==null&&(gn(a,e,i),il(a,e,i))}function q_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vd(e,i){q_(e,i),(e=e.alternate)&&q_(e,i)}function H_(e){if(e.tag===13||e.tag===31){var i=Pr(e,67108864);i!==null&&gn(i,e,67108864),Vd(e,67108864)}}function F_(e){if(e.tag===13||e.tag===31){var i=Rn();i=wr(i);var a=Pr(e,i);a!==null&&gn(a,e,i),Vd(e,i)}}var Nc=!0;function u1(e,i,a,l){var h=F.T;F.T=null;var d=et.p;try{et.p=2,xd(e,i,a,l)}finally{et.p=d,F.T=h}}function c1(e,i,a,l){var h=F.T;F.T=null;var d=et.p;try{et.p=8,xd(e,i,a,l)}finally{et.p=d,F.T=h}}function xd(e,i,a,l){if(Nc){var h=Ld(l);if(h===null)Ed(e,i,l,Dc,a),Y_(e,l);else if(f1(h,e,i,a,l))l.stopPropagation();else if(Y_(e,l),i&4&&-1<h1.indexOf(e)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-ve(_);E.entanglements[1]|=N,_&=~N}xi(d),(Gt&6)===0&&(fc=He()+500,vl(0))}}break;case 31:case 13:E=Pr(d,2),E!==null&&gn(E,d,2),mc(),Vd(d,2)}if(d=Ld(l),d===null&&Ed(e,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ed(e,i,l,null,a)}}function Ld(e){return e=On(e),kd(e)}var Dc=null;function kd(e){if(Dc=null,e=Ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function G_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ee()){case se:return 2;case he:return 8;case fe:case Yi:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var Pd=!1,$s=null,Xs=null,Js=null,Rl=new Map,Il=new Map,Zs=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(e,i){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Cl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&H_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function f1(e,i,a,l,h){switch(i){case"focusin":return $s=Cl($s,e,i,a,l,h),!0;case"dragenter":return Xs=Cl(Xs,e,i,a,l,h),!0;case"mouseover":return Js=Cl(Js,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Cl(Rl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Cl(Il.get(d)||null,e,i,a,l,h)),!0}return!1}function K_(e){var i=Ei(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,$n(e.priority,function(){F_(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,$n(e.priority,function(){F_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Bo=l,a.target.dispatchEvent(l),Bo=null}else return i=Dn(a),i!==null&&H_(i),e.blockedOn=a,!1;i.shift()}return!0}function Q_(e,i,a){Oc(e)&&a.delete(i)}function d1(){Pd=!1,$s!==null&&Oc($s)&&($s=null),Xs!==null&&Oc(Xs)&&(Xs=null),Js!==null&&Oc(Js)&&(Js=null),Rl.forEach(Q_),Il.forEach(Q_)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Pd||(Pd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,d1)))}var Vc=null;function $_(e){Vc!==e&&(Vc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(kd(l||a)===null)continue;break}var d=Dn(a);d!==null&&(e.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(e){function i(N){return Mc(N,e)}$s!==null&&Mc($s,e),Xs!==null&&Mc(Xs,e),Js!==null&&Mc(Js,e),Rl.forEach(i),Il.forEach(i);for(var a=0;a<Zs.length;a++){var l=Zs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&Zs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ue]||null;if(typeof d=="function")_||$_(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ue]||null)E=_.formAction;else if(kd(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),$_(a)}}}function X_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ud(e){this._internalRoot=e}xc.prototype.render=Ud.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Rn();B_(a,l,e,i,null,null)},xc.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;B_(e.current,2,null,e,null,null),mc(),i[_i]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var i=mu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Zs.length&&i!==0&&i<Zs[a].priority;a++);Zs.splice(a,0,e),a===0&&K_(e)}};var J_=t.version;if(J_!=="19.2.3")throw Error(r(527,J_,"19.2.3"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var m1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Kn=Lc.inject(m1),Fe=Lc}catch{}}return Dl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=sy,d=ry,_=ay;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=z_(e,1,!1,null,null,a,l,null,h,d,_,X_),e[_i]=i.current,vd(e),new Ud(i)},Dl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=sy,_=ry,E=ay,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=z_(e,1,!0,i,a??null,l,h,N,d,_,E,X_),i.context=j_(null),a=i.current,l=Rn(),l=wr(l),h=Ps(l),h.callback=null,Us(a,h,l),a=l,i.current.lanes=a,Sr(i,a),xi(i),e[_i]=i.current,vd(e),new xc(i)},Dl.version="19.2.3",Dl}var ov;function b1(){if(ov)return Bd.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bd.exports=S1(),Bd.exports}var w1=b1();const R1=()=>{};var lv={};const GE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},I1=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,g=y?s[o+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let D=(m&15)<<2|g>>6,P=g&63;y||(P=64,f||(D=64)),r.push(n[T],n[S],n[D],n[P])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(GE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):I1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const g=o<s.length?n[s.charAt(o)]:64;++o;const S=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new C1;const D=u<<2|m>>4;if(r.push(D),g!==64){const P=m<<4&240|g>>2;if(r.push(P),S!==64){const X=g<<6&192|S;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class C1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N1=function(s){const t=GE(s);return YE.encodeByteArray(t,!0)},eh=function(s){return N1(s).replace(/\./g,"")},KE=function(s){try{return YE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function D1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const O1=()=>D1().__FIREBASE_DEFAULTS__,M1=()=>{if(typeof process>"u"||typeof lv>"u")return;const s=lv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},V1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&KE(s[1]);return t&&JSON.parse(t)},Sh=()=>{try{return R1()||O1()||M1()||V1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},QE=s=>Sh()?.emulatorHosts?.[s],x1=s=>{const t=QE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$E=()=>Sh()?.config,XE=s=>Sh()?.[`_${s}`];class L1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function To(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(s){return(await fetch(s,{credentials:"include"})).ok}function k1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}const Ul={};function P1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function U1(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let uv=!1;function ZE(s,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Ul[s]===t||Ul[s]||uv)return;Ul[s]=t;function n(D){return`__firebase__banner__${D}`}const r="__firebase__banner",u=P1().prod.length>0;function f(){const D=document.getElementById(r);D&&D.remove()}function m(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,P){D.setAttribute("width","24"),D.setAttribute("id",P),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function g(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{uv=!0,f()},D}function T(D,P){D.setAttribute("id",P),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=U1(r),P=n("text"),X=document.getElementById(P)||document.createElement("span"),Z=n("learnmore"),W=document.getElementById(Z)||document.createElement("a"),rt=n("preprendIcon"),st=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ct=D.element;m(ct),T(W,Z);const It=g();y(st,rt),ct.append(st,X,W,It),document.body.appendChild(ct)}u?(X.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function j1(){const s=Sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H1(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function F1(){return!j1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tT(){try{return typeof indexedDB=="object"}catch{return!1}}function eT(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function G1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Y1="FirebaseError";class ci extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Y1,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa.prototype.create)}}class aa{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?K1(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ci(o,m,r)}}function K1(s,t){return s.replace(Q1,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Q1=/\{\$([^}]+)}/g;function $1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function cr(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(cv(u)&&cv(f)){if(!cr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function cv(s){return s!==null&&typeof s=="object"}function eu(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ml(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Vl(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function X1(s,t){const n=new J1(s,t);return n.subscribe.bind(n)}class J1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z1(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Gd(){}const W1=1e3,tb=2,eb=14400*1e3,nb=.5;function hv(s,t=W1,n=tb){const r=t*Math.pow(n,s),o=Math.round(nb*r*(Math.random()-.5)*2);return Math.min(eb,r+o)}function Ze(s){return s&&s._delegate?s._delegate:s}class li{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class ib{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new L1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rb(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sb(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sb(s){return s===Xr?void 0:s}function rb(s){return s.instantiationMode==="EAGER"}class ab{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ib(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const ob={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},lb=kt.INFO,ub={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},cb=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=ub[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bh{constructor(t){this.name=t,this._logLevel=lb,this._logHandler=cb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ob[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const hb=(s,t)=>t.some(n=>s instanceof n);let fv,dv;function fb(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function db(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,lm=new WeakMap,iT=new WeakMap,Yd=new WeakMap,Lm=new WeakMap;function mb(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(ar(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&nT.set(n,s)}).catch(()=>{}),Lm.set(t,s),t}function pb(s){if(lm.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});lm.set(s,t)}let um={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return lm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||iT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function gb(s){um=s(um)}function yb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Kd(this),t,...n);return iT.set(r,t.sort?t.sort():[t]),ar(r)}:db().includes(s)?function(...t){return s.apply(Kd(this),t),ar(nT.get(this))}:function(...t){return ar(s.apply(Kd(this),t))}}function _b(s){return typeof s=="function"?yb(s):(s instanceof IDBTransaction&&pb(s),hb(s,fb())?new Proxy(s,um):s)}function ar(s){if(s instanceof IDBRequest)return mb(s);if(Yd.has(s))return Yd.get(s);const t=_b(s);return t!==s&&(Yd.set(s,t),Lm.set(t,s)),t}const Kd=s=>Lm.get(s);function sT(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=ar(f);return r&&f.addEventListener("upgradeneeded",y=>{r(ar(f.result),y.oldVersion,y.newVersion,ar(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vb=["get","getKey","getAll","getAllKeys","count"],Eb=["put","add","delete","clear"],Qd=new Map;function mv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Eb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||vb.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return Qd.set(t,u),u}gb(s=>({...s,get:(t,n,r)=>mv(t,n)||s.get(t,n,r),has:(t,n)=>!!mv(t,n)||s.has(t,n)}));class Tb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ab(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ab(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",pv="0.14.7";const ys=new bh("@firebase/app"),Sb="@firebase/app-compat",bb="@firebase/analytics-compat",wb="@firebase/analytics",Rb="@firebase/app-check-compat",Ib="@firebase/app-check",Cb="@firebase/auth",Nb="@firebase/auth-compat",Db="@firebase/database",Ob="@firebase/data-connect",Mb="@firebase/database-compat",Vb="@firebase/functions",xb="@firebase/functions-compat",Lb="@firebase/installations",kb="@firebase/installations-compat",Pb="@firebase/messaging",Ub="@firebase/messaging-compat",zb="@firebase/performance",jb="@firebase/performance-compat",Bb="@firebase/remote-config",qb="@firebase/remote-config-compat",Hb="@firebase/storage",Fb="@firebase/storage-compat",Gb="@firebase/firestore",Yb="@firebase/ai",Kb="@firebase/firestore-compat",Qb="firebase",$b="12.8.0";const hm="[DEFAULT]",Xb={[cm]:"fire-core",[Sb]:"fire-core-compat",[wb]:"fire-analytics",[bb]:"fire-analytics-compat",[Ib]:"fire-app-check",[Rb]:"fire-app-check-compat",[Cb]:"fire-auth",[Nb]:"fire-auth-compat",[Db]:"fire-rtdb",[Ob]:"fire-data-connect",[Mb]:"fire-rtdb-compat",[Vb]:"fire-fn",[xb]:"fire-fn-compat",[Lb]:"fire-iid",[kb]:"fire-iid-compat",[Pb]:"fire-fcm",[Ub]:"fire-fcm-compat",[zb]:"fire-perf",[jb]:"fire-perf-compat",[Bb]:"fire-rc",[qb]:"fire-rc-compat",[Hb]:"fire-gcs",[Fb]:"fire-gcs-compat",[Gb]:"fire-fst",[Kb]:"fire-fst-compat",[Yb]:"fire-vertex","fire-js":"fire-js",[Qb]:"fire-js-all"};const nh=new Map,Jb=new Map,fm=new Map;function gv(s,t){try{s.container.addComponent(t)}catch(n){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Bi(s){const t=s.name;if(fm.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,s);for(const n of nh.values())gv(n,s);for(const n of Jb.values())gv(n,s);return!0}function oa(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function qn(s){return s==null?!1:s.settings!==void 0}const Zb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new aa("app","Firebase",Zb);class Wb{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const Ao=$b;function rT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:hm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(n||(n=$E()),!n)throw or.create("no-options");const u=nh.get(o);if(u){if(cr(n,u.options)&&cr(r,u.config))return u;throw or.create("duplicate-app",{appName:o})}const f=new ab(o);for(const y of fm.values())f.addComponent(y);const m=new Wb(n,r,f);return nh.set(o,m),m}function km(s=hm){const t=nh.get(s);if(!t&&s===hm&&$E())return rT();if(!t)throw or.create("no-app",{appName:s});return t}function Gn(s,t,n){let r=Xb[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(f.join(" "));return}Bi(new li(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const tw="firebase-heartbeat-database",ew=1,Gl="firebase-heartbeat-store";let $d=null;function aT(){return $d||($d=sT(tw,ew,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),$d}async function nw(s){try{const n=(await aT()).transaction(Gl),r=await n.objectStore(Gl).get(oT(s));return await n.done,r}catch(t){if(t instanceof ci)ys.warn(t.message);else{const n=or.create("idb-get",{originalErrorMessage:t?.message});ys.warn(n.message)}}}async function yv(s,t){try{const r=(await aT()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(t,oT(s)),await r.done}catch(n){if(n instanceof ci)ys.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n?.message});ys.warn(r.message)}}}function oT(s){return`${s.name}!${s.options.appId}`}const iw=1024,sw=30;class rw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ow(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>sw){const o=lw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_v(),{heartbeatsToSend:n,unsentEntries:r}=aw(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ys.warn(t),""}}}function _v(){return new Date().toISOString().substring(0,10)}function aw(s,t=iw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),vv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),vv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ow{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tT()?eT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function vv(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function lw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}function uw(s){Bi(new li("platform-logger",t=>new Tb(t),"PRIVATE")),Bi(new li("heartbeat",t=>new rw(t),"PRIVATE")),Gn(cm,pv,s),Gn(cm,pv,"esm2020"),Gn("fire-js","")}uw("");function lT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cw=lT,uT=new aa("auth","Firebase",lT());const ih=new bh("@firebase/auth");function hw(s,...t){ih.logLevel<=kt.WARN&&ih.warn(`Auth (${Ao}): ${s}`,...t)}function Gc(s,...t){ih.logLevel<=kt.ERROR&&ih.error(`Auth (${Ao}): ${s}`,...t)}function ui(s,...t){throw Pm(s,...t)}function ki(s,...t){return Pm(s,...t)}function cT(s,t,n){const r={...cw(),[t]:n};return new aa("auth","Firebase",r).create(t,{appName:s.name})}function ps(s){return cT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return uT.create(s,...t)}function _t(s,t,...n){if(!s)throw Pm(t,...n)}function ds(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Gc(t),new Error(t)}function _s(s,t){s||ds(t)}function dm(){return typeof self<"u"&&self.location?.href||""}function fw(){return Ev()==="http:"||Ev()==="https:"}function Ev(){return typeof self<"u"&&self.location?.protocol||null}function dw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fw()||WE()||"connection"in navigator)?navigator.onLine:!0}function mw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(t,n){this.shortDelay=t,this.longDelay=n,_s(n>t,"Short delay should be less than long delay!"),this.isMobile=z1()||q1()}get(){return dw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(s,t){_s(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class hT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yw=new nu(3e4,6e4);function yr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ts(s,t,n,r,o={}){return fT(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=eu({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:y,...u};return B1()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&To(s.emulatorConfig.host)&&(g.credentials="include"),hT.fetch()(await dT(s,s.config.apiHost,n,m),g)})}async function fT(s,t,n){s._canInitEmulator=!1;const r={...pw,...t};try{const o=new vw(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw kc(s,"user-disabled",f);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cT(s,T,g);ui(s,T)}}catch(o){if(o instanceof ci)throw o;ui(s,"network-request-failed",{message:String(o)})}}async function iu(s,t,n,r,o={}){const u=await Ts(s,t,n,r,o);return"mfaPendingCredential"in u&&ui(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function dT(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Um(s.config,o):`${s.config.apiScheme}://${o}`;return gw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function _w(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),yw.get())})}}function kc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ki(s,t,r);return o.customData._tokenResponse=n,o}function Tv(s){return s!==void 0&&s.enterprise!==void 0}class Ew{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return _w(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tw(s,t){return Ts(s,"GET","/v2/recaptchaConfig",yr(s,t))}async function Aw(s,t){return Ts(s,"POST","/v1/accounts:delete",t)}async function sh(s,t){return Ts(s,"POST","/v1/accounts:lookup",t)}function zl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Sw(s,t=!1){const n=Ze(s),r=await n.getIdToken(t),o=zm(r);_t(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:zl(Xd(o.auth_time)),issuedAtTime:zl(Xd(o.iat)),expirationTime:zl(Xd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xd(s){return Number(s)*1e3}function zm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Av(s){const t=zm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function mo(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ci&&bw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function bw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ww{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const t=s.auth,n=await s.getIdToken(),r=await mo(s,sh(t,{idToken:n}));_t(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?mT(o.providerUserInfo):[],f=Iw(s.providerData,u),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,g=m?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,T)}async function Rw(s){const t=Ze(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Iw(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function mT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Cw(s,t){const n=await fT(s,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await dT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return s.emulatorConfig&&To(s.emulatorConfig.host)&&(y.credentials="include"),hT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nw(s,t){return Ts(s,"POST","/v2/accounts:revokeToken",yr(s,t))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=Av(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await Cw(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new oo;return r&&(_t(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(_t(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(_t(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ds("not implemented")}}function tr(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new ww(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await mo(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Sw(this,t)}reload(){return Rw(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ps(this.auth));const t=await this.getIdToken();return await mo(this,Aw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:P,providerData:X,stsTokenManager:Z}=n;_t(S&&Z,t,"internal-error");const W=oo.fromJSON(this.name,Z);_t(typeof S=="string",t,"internal-error"),tr(r,t.name),tr(o,t.name),_t(typeof D=="boolean",t,"internal-error"),_t(typeof P=="boolean",t,"internal-error"),tr(u,t.name),tr(f,t.name),tr(m,t.name),tr(y,t.name),tr(g,t.name),tr(T,t.name);const rt=new ri({uid:S,auth:t,email:o,emailVerified:D,displayName:r,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:W,createdAt:g,lastLoginAt:T});return X&&Array.isArray(X)&&(rt.providerData=X.map(st=>({...st}))),y&&(rt._redirectEventId=y),rt}static async _fromIdTokenResponse(t,n,r=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await rh(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];_t(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(r);const y=new ri({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const Sv=new Map;function ms(s){_s(s instanceof Function,"Expected a class definition");let t=Sv.get(s);return t?(_s(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Sv.set(s,t),t)}class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}pT.type="NONE";const bv=pT;function Yc(s,t,n){return`firebase:${s}:${t}:${n}`}class lo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sh(this.auth,{idToken:t}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new lo(ms(bv),t,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ms(bv);const f=Yc(r,t.config.apiKey,t.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let S;if(typeof T=="string"){const D=await sh(t,{idToken:T}).catch(()=>{});if(!D)break;S=await ri._fromGetAccountInfoResponse(t,D,T)}else S=ri._fromJSON(t,T);g!==u&&(m=S),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new lo(u,t,r):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,t,r))}}function wv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TT(t))return"Blackberry";if(AT(t))return"Webos";if(yT(t))return"Safari";if((t.includes("chrome/")||_T(t))&&!t.includes("edge/"))return"Chrome";if(ET(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function gT(s=an()){return/firefox\//i.test(s)}function yT(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _T(s=an()){return/crios\//i.test(s)}function vT(s=an()){return/iemobile/i.test(s)}function ET(s=an()){return/android/i.test(s)}function TT(s=an()){return/blackberry/i.test(s)}function AT(s=an()){return/webos/i.test(s)}function jm(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Dw(s=an()){return jm(s)&&!!window.navigator?.standalone}function Ow(){return H1()&&document.documentMode===10}function ST(s=an()){return jm(s)||ET(s)||AT(s)||TT(s)||/windows phone/i.test(s)||vT(s)}function bT(s,t=[]){let n;switch(s){case"Browser":n=wv(an());break;case"Worker":n=`${wv(an())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}class Mw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,m)=>{try{const y=t(u);f(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Vw(s,t={}){return Ts(s,"GET","/v2/passwordPolicy",yr(s,t))}const xw=6;class Lw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class kw{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rv(this),this.idTokenSubscription=new Rv(this),this.beforeStateQueue=new Mw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ms(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sh(this,{idToken:t}),r=await ri._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(ps(this));const n=t?Ze(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Vw(this),n=new Lw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new aa("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ms(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function la(s){return Ze(s)}class Rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=X1(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pw(s){wh=s}function wT(s){return wh.loadJS(s)}function Uw(){return wh.recaptchaEnterpriseScript}function zw(){return wh.gapiScript}function jw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Bw{constructor(){this.enterprise=new qw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class qw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Hw="recaptcha-enterprise",RT="NO_RECAPTCHA";class Fw{constructor(t){this.type=Hw,this.auth=la(t)}async verify(t="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Tw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Ew(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(y=>{m(y)})})}function o(u,f,m){const y=window.grecaptcha;Tv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(RT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&Tv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Uw();y.length!==0&&(y+=m),wT(y).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Iv(s,t,n,r=!1,o=!1){const u=new Fw(s);let f;if(o)f=RT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pm(s,t,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Iv(s,t,n,n==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Iv(s,t,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function Gw(s,t){const n=oa(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(cr(u,t??{}))return o;ui(o,"already-initialized")}return n.initialize({options:t})}function Yw(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ms);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Kw(s,t,n){const r=la(s);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=IT(t),{host:f,port:m}=Qw(t),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(cr(g,r.config.emulator)&&cr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,To(f)?(JE(`${u}//${f}${y}`),ZE("Auth",!0)):$w()}function IT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Qw(s){const t=IT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Cv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Cv(f)}}}function Cv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function $w(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Bm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,n){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function Xw(s,t){return Ts(s,"POST","/v1/accounts:signUp",t)}async function Jw(s,t){return iu(s,"POST","/v1/accounts:signInWithPassword",yr(s,t))}async function Zw(s,t){return iu(s,"POST","/v1/accounts:signInWithEmailLink",yr(s,t))}async function Ww(s,t){return iu(s,"POST","/v1/accounts:signInWithEmailLink",yr(s,t))}class Yl extends Bm{constructor(t,n,r,o=null){super("password",r),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Yl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Yl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,n,"signInWithPassword",Jw);case"emailLink":return Zw(t,{email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,r,"signUpPassword",Xw);case"emailLink":return Ww(t,{idToken:n,email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function uo(s,t){return iu(s,"POST","/v1/accounts:signInWithIdp",yr(s,t))}const tR="http://localhost";class ta extends Bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ta(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return uo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,uo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,uo(t,n)}buildRequest(){const t={requestUri:tR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=eu(n)}return t}}function eR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nR(s){const t=Ml(Vl(s)).link,n=t?Ml(Vl(t)).deep_link_id:null,r=Ml(Vl(s)).deep_link_id;return(r?Ml(Vl(r)).link:null)||r||n||t||s}class qm{constructor(t){const n=Ml(Vl(t)),r=n.apiKey??null,o=n.oobCode??null,u=eR(n.mode??null);_t(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=nR(t);try{return new qm(n)}catch{return null}}}class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(t,n){return Yl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=qm.parseLink(n);return _t(r,"argument-error"),Yl._fromEmailAndCode(t,r.code,r.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class CT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class su extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class er extends su{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class nr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends su{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends su{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function iR(s,t){return iu(s,"POST","/v1/accounts:signUp",yr(s,t))}class ea{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await ri._fromIdTokenResponse(t,r,o),f=Nv(r);return new ea({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=Nv(r);return new ea({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function Nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ah extends ci{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new ah(t,n,r,o)}}function NT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(s,u,t,r):u})}async function sR(s,t,n=!1){const r=await mo(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return ea._forOperation(s,"link",r)}async function rR(s,t,n=!1){const{auth:r}=s;if(qn(r.app))return Promise.reject(ps(r));const o="reauthenticate";try{const u=await mo(s,NT(r,o,t,s),n);_t(u.idToken,r,"internal-error");const f=zm(u.idToken);_t(f,r,"internal-error");const{sub:m}=f;return _t(s.uid===m,r,"user-mismatch"),ea._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),u}}async function DT(s,t,n=!1){if(qn(s.app))return Promise.reject(ps(s));const r="signIn",o=await NT(s,r,t),u=await ea._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function aR(s,t){return DT(la(s),t)}async function OT(s){const t=la(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function oR(s,t,n){if(qn(s.app))return Promise.reject(ps(s));const r=la(s),f=await pm(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iR).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&OT(s),y}),m=await ea._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function lR(s,t,n){return qn(s.app)?Promise.reject(ps(s)):aR(Ze(s),So.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OT(s),r})}async function uR(s,t){return Ts(s,"POST","/v1/accounts:update",t)}async function cR(s,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Ze(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await mo(r,uR(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:y})=>y==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function hR(s,t,n,r){return Ze(s).onIdTokenChanged(t,n,r)}function fR(s,t,n){return Ze(s).beforeAuthStateChanged(t,n)}function dR(s,t,n,r){return Ze(s).onAuthStateChanged(t,n,r)}function mR(s){return Ze(s).signOut()}const oh="__sak";class MT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const pR=1e3,gR=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);Ow()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,gR):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const yR=VT;class xT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}xT.type="SESSION";const LT=xT;function _R(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new Rh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await _R(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function Hm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}class vR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=Hm("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const D=S;if(D.data.eventId===g)switch(D.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Pi(){return window}function ER(s){Pi().location.href=s}function kT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function TR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){return navigator?.serviceWorker?.controller||null}function SR(){return kT()?self:null}const PT="firebaseLocalStorageDb",bR=1,lh="firebaseLocalStorage",UT="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(s,t){return s.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function wR(){const s=indexedDB.deleteDatabase(PT);return new ru(s).toPromise()}function gm(){const s=indexedDB.open(PT,bR);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(lh,{keyPath:UT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(lh)?t(r):(r.close(),await wR(),t(await gm()))})})}async function Dv(s,t,n){const r=Ih(s,!0).put({[UT]:t,value:n});return new ru(r).toPromise()}async function RR(s,t){const n=Ih(s,!1).get(t),r=await new ru(n).toPromise();return r===void 0?null:r.value}function Ov(s,t){const n=Ih(s,!0).delete(t);return new ru(n).toPromise()}const IR=800,CR=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>CR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(SR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new vR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await Dv(t,oh,"1"),await Ov(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>RR(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ov(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ih(o,!1).getAll();return new ru(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const NR=zT;new nu(3e4,6e4);function DR(s,t){return t?ms(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Fm extends Bm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return uo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return uo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function OR(s){return DT(s.auth,new Fm(s),s.bypassAuthState)}function MR(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),rR(n,new Fm(s),s.bypassAuthState)}async function VR(s){const{auth:t,user:n}=s;return _t(n,t,"internal-error"),sR(n,new Fm(s),s.bypassAuthState)}class jT{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:ui(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xR=new nu(2e3,1e4);class ao extends jT{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xR.get())};t()}}ao.currentPopupAction=null;const LR="pendingRedirect",Kc=new Map;class kR extends jT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Kc.get(this.auth._key());if(!t){try{const r=await PR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Kc.set(this.auth._key(),t)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PR(s,t){const n=jR(t),r=zR(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function UR(s,t){Kc.set(s._key(),t)}function zR(s){return ms(s._redirectPersistence)}function jR(s){return Yc(LR,s.config.apiKey,s.name)}async function BR(s,t,n=!1){if(qn(s.app))return Promise.reject(ps(s));const r=la(s),o=DR(r,t),f=await new kR(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const qR=600*1e3;class HR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!BT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(t))}saveEventToCache(t){this.cachedEventUids.add(Mv(t)),this.lastProcessedEventTime=Date.now()}}function Mv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function BT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function FR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(s);default:return!1}}async function GR(s,t={}){return Ts(s,"GET","/v1/projects",t)}const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KR=/^https?/;async function QR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await GR(s);for(const n of t)try{if($R(n))return}catch{}ui(s,"unauthorized-domain")}function $R(s){const t=dm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!KR.test(n))return!1;if(YR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const XR=new nu(3e4,6e4);function Vv(){const s=Pi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function JR(s){return new Promise((t,n)=>{function r(){Vv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vv(),n(ki(s,"network-request-failed"))},timeout:XR.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const o=jw("iframefcb");return Pi()[o]=()=>{gapi.load?r():n(ki(s,"network-request-failed"))},wT(`${zw()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Qc=null,t})}let Qc=null;function ZR(s){return Qc=Qc||JR(s),Qc}const WR=new nu(5e3,15e3),tI="__/auth/iframe",eI="emulator/auth/iframe",nI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sI(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Um(t,eI):`https://${s.config.authDomain}/${tI}`,r={apiKey:t.apiKey,appName:s.name,v:Ao},o=iI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${eu(r).slice(1)}`}async function rI(s){const t=await ZR(s),n=Pi().gapi;return _t(n,s,"internal-error"),t.open({where:document.body,url:sI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ki(s,"network-request-failed"),m=Pi().setTimeout(()=>{u(f)},WR.get());function y(){Pi().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{u(f)})}))}const aI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oI=500,lI=600,uI="_blank",cI="http://localhost";class xv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hI(s,t,n,r=oI,o=lI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...aI,width:r.toString(),height:o.toString(),top:u,left:f},g=an().toLowerCase();n&&(m=_T(g)?uI:n),gT(g)&&(t=t||cI,y.scrollbars="yes");const T=Object.entries(y).reduce((D,[P,X])=>`${D}${P}=${X},`,"");if(Dw(g)&&m!=="_self")return fI(t||"",m),new xv(null);const S=window.open(t||"",m,T);_t(S,s,"popup-blocked");try{S.focus()}catch{}return new xv(S)}function fI(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const dI="__/auth/handler",mI="emulator/auth/handler",pI=encodeURIComponent("fac");async function Lv(s,t,n,r,o,u){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ao,eventId:o};if(t instanceof CT){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",$1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof su){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await s._getAppCheckToken(),g=y?`#${pI}=${encodeURIComponent(y)}`:"";return`${gI(s)}?${eu(m).slice(1)}${g}`}function gI({config:s}){return s.emulator?Um(s,mI):`https://${s.authDomain}/${dI}`}const Jd="webStorageSupport";class yI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=BR,this._overrideRedirectResult=UR}async _openPopup(t,n,r,o){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Lv(t,n,r,dm(),o);return hI(t,u,Hm())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await Lv(t,n,r,dm(),o);return ER(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_s(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await rI(t),r=new HR(t);return n.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jd,{type:Jd},o=>{const u=o?.[0]?.[Jd];u!==void 0&&n(!!u),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ST()||yT()||jm()}}const _I=yI;var kv="@firebase/auth",Pv="1.12.0";class vI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function EI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TI(s){Bi(new li("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(s)},g=new kw(r,o,u,y);return Yw(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Bi(new li("auth-internal",t=>{const n=la(t.getProvider("auth").getImmediate());return(r=>new vI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(kv,Pv,EI(s)),Gn(kv,Pv,"esm2020")}const AI=300,SI=XE("authIdTokenMaxAge")||AI;let Uv=null;const bI=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SI)return;const o=n?.token;Uv!==o&&(Uv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wI(s=km()){const t=oa(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Gw(s,{popupRedirectResolver:_I,persistence:[NR,yR,LT]}),r=XE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=bI(u.toString());fR(n,f,()=>f(n.currentUser)),hR(n,m=>f(m))}}const o=QE("auth");return o&&Kw(n,`http://${o}`),n}function RI(){return document.getElementsByTagName("head")?.[0]??document}Pw({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",RI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TI("Browser");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,qT;(function(){var s;function t(C,b){function w(){}w.prototype=b.prototype,C.F=b.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(O,R,V){for(var I=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)I[Vt-2]=arguments[Vt];return b.prototype[R].apply(O,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,w){w||(w=0);const O=Array(16);if(typeof b=="string")for(var R=0;R<16;++R)O[R]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(R=0;R<16;++R)O[R]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=C.g[0],w=C.g[1],R=C.g[2];let V=C.g[3],I;I=b+(V^w&(R^V))+O[0]+3614090360&4294967295,b=w+(I<<7&4294967295|I>>>25),I=V+(R^b&(w^R))+O[1]+3905402710&4294967295,V=b+(I<<12&4294967295|I>>>20),I=R+(w^V&(b^w))+O[2]+606105819&4294967295,R=V+(I<<17&4294967295|I>>>15),I=w+(b^R&(V^b))+O[3]+3250441966&4294967295,w=R+(I<<22&4294967295|I>>>10),I=b+(V^w&(R^V))+O[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=V+(R^b&(w^R))+O[5]+1200080426&4294967295,V=b+(I<<12&4294967295|I>>>20),I=R+(w^V&(b^w))+O[6]+2821735955&4294967295,R=V+(I<<17&4294967295|I>>>15),I=w+(b^R&(V^b))+O[7]+4249261313&4294967295,w=R+(I<<22&4294967295|I>>>10),I=b+(V^w&(R^V))+O[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=V+(R^b&(w^R))+O[9]+2336552879&4294967295,V=b+(I<<12&4294967295|I>>>20),I=R+(w^V&(b^w))+O[10]+4294925233&4294967295,R=V+(I<<17&4294967295|I>>>15),I=w+(b^R&(V^b))+O[11]+2304563134&4294967295,w=R+(I<<22&4294967295|I>>>10),I=b+(V^w&(R^V))+O[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=V+(R^b&(w^R))+O[13]+4254626195&4294967295,V=b+(I<<12&4294967295|I>>>20),I=R+(w^V&(b^w))+O[14]+2792965006&4294967295,R=V+(I<<17&4294967295|I>>>15),I=w+(b^R&(V^b))+O[15]+1236535329&4294967295,w=R+(I<<22&4294967295|I>>>10),I=b+(R^V&(w^R))+O[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=V+(w^R&(b^w))+O[6]+3225465664&4294967295,V=b+(I<<9&4294967295|I>>>23),I=R+(b^w&(V^b))+O[11]+643717713&4294967295,R=V+(I<<14&4294967295|I>>>18),I=w+(V^b&(R^V))+O[0]+3921069994&4294967295,w=R+(I<<20&4294967295|I>>>12),I=b+(R^V&(w^R))+O[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=V+(w^R&(b^w))+O[10]+38016083&4294967295,V=b+(I<<9&4294967295|I>>>23),I=R+(b^w&(V^b))+O[15]+3634488961&4294967295,R=V+(I<<14&4294967295|I>>>18),I=w+(V^b&(R^V))+O[4]+3889429448&4294967295,w=R+(I<<20&4294967295|I>>>12),I=b+(R^V&(w^R))+O[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=V+(w^R&(b^w))+O[14]+3275163606&4294967295,V=b+(I<<9&4294967295|I>>>23),I=R+(b^w&(V^b))+O[3]+4107603335&4294967295,R=V+(I<<14&4294967295|I>>>18),I=w+(V^b&(R^V))+O[8]+1163531501&4294967295,w=R+(I<<20&4294967295|I>>>12),I=b+(R^V&(w^R))+O[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=V+(w^R&(b^w))+O[2]+4243563512&4294967295,V=b+(I<<9&4294967295|I>>>23),I=R+(b^w&(V^b))+O[7]+1735328473&4294967295,R=V+(I<<14&4294967295|I>>>18),I=w+(V^b&(R^V))+O[12]+2368359562&4294967295,w=R+(I<<20&4294967295|I>>>12),I=b+(w^R^V)+O[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=V+(b^w^R)+O[8]+2272392833&4294967295,V=b+(I<<11&4294967295|I>>>21),I=R+(V^b^w)+O[11]+1839030562&4294967295,R=V+(I<<16&4294967295|I>>>16),I=w+(R^V^b)+O[14]+4259657740&4294967295,w=R+(I<<23&4294967295|I>>>9),I=b+(w^R^V)+O[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=V+(b^w^R)+O[4]+1272893353&4294967295,V=b+(I<<11&4294967295|I>>>21),I=R+(V^b^w)+O[7]+4139469664&4294967295,R=V+(I<<16&4294967295|I>>>16),I=w+(R^V^b)+O[10]+3200236656&4294967295,w=R+(I<<23&4294967295|I>>>9),I=b+(w^R^V)+O[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=V+(b^w^R)+O[0]+3936430074&4294967295,V=b+(I<<11&4294967295|I>>>21),I=R+(V^b^w)+O[3]+3572445317&4294967295,R=V+(I<<16&4294967295|I>>>16),I=w+(R^V^b)+O[6]+76029189&4294967295,w=R+(I<<23&4294967295|I>>>9),I=b+(w^R^V)+O[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=V+(b^w^R)+O[12]+3873151461&4294967295,V=b+(I<<11&4294967295|I>>>21),I=R+(V^b^w)+O[15]+530742520&4294967295,R=V+(I<<16&4294967295|I>>>16),I=w+(R^V^b)+O[2]+3299628645&4294967295,w=R+(I<<23&4294967295|I>>>9),I=b+(R^(w|~V))+O[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=V+(w^(b|~R))+O[7]+1126891415&4294967295,V=b+(I<<10&4294967295|I>>>22),I=R+(b^(V|~w))+O[14]+2878612391&4294967295,R=V+(I<<15&4294967295|I>>>17),I=w+(V^(R|~b))+O[5]+4237533241&4294967295,w=R+(I<<21&4294967295|I>>>11),I=b+(R^(w|~V))+O[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=V+(w^(b|~R))+O[3]+2399980690&4294967295,V=b+(I<<10&4294967295|I>>>22),I=R+(b^(V|~w))+O[10]+4293915773&4294967295,R=V+(I<<15&4294967295|I>>>17),I=w+(V^(R|~b))+O[1]+2240044497&4294967295,w=R+(I<<21&4294967295|I>>>11),I=b+(R^(w|~V))+O[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=V+(w^(b|~R))+O[15]+4264355552&4294967295,V=b+(I<<10&4294967295|I>>>22),I=R+(b^(V|~w))+O[6]+2734768916&4294967295,R=V+(I<<15&4294967295|I>>>17),I=w+(V^(R|~b))+O[13]+1309151649&4294967295,w=R+(I<<21&4294967295|I>>>11),I=b+(R^(w|~V))+O[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=V+(w^(b|~R))+O[11]+3174756917&4294967295,V=b+(I<<10&4294967295|I>>>22),I=R+(b^(V|~w))+O[2]+718787259&4294967295,R=V+(I<<15&4294967295|I>>>17),I=w+(V^(R|~b))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const w=b-this.blockSize,O=this.C;let R=this.h,V=0;for(;V<b;){if(R==0)for(;V<=w;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<b;)if(O[R++]=C.charCodeAt(V++),R==this.blockSize){o(this,O),R=0;break}}else for(;V<b;)if(O[R++]=C[V++],R==this.blockSize){o(this,O),R=0;break}}this.h=R,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)C[b++]=this.g[w]>>>O&255;return C};function u(C,b){var w=m;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=b(C)}function f(C,b){this.h=b;const w=[];let O=!0;for(let R=C.length-1;R>=0;R--){const V=C[R]|0;O&&V==b||(w[R]=V,O=!1)}this.g=w}var m={};function y(C){return-128<=C&&C<128?u(C,function(b){return new f([b|0],b<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return W(g(-C));const b=[];let w=1;for(let O=0;C>=w;O++)b[O]=C/w|0,w*=4294967296;return new f(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return W(T(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(b,8));let O=S;for(let V=0;V<C.length;V+=8){var R=Math.min(8,C.length-V);const I=parseInt(C.substring(V,V+R),b);R<8?(R=g(Math.pow(b,R)),O=O.j(R).add(g(I))):(O=O.j(w),O=O.add(g(I)))}return O}var S=y(0),D=y(1),P=y(16777216);s=f.prototype,s.m=function(){if(Z(this))return-W(this).m();let C=0,b=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);C+=(O>=0?O:4294967296+O)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(Z(this))return"-"+W(this).toString(C);const b=g(Math.pow(C,6));var w=this;let O="";for(;;){const R=It(w,b).g;w=rt(w,R.j(b));let V=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=R,X(w))return V+O;for(;V.length<6;)V="0"+V;O=V+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function Z(C){return C.h==-1}s.l=function(C){return C=rt(this,C),Z(C)?-1:X(C)?0:1};function W(C){const b=C.g.length,w=[];for(let O=0;O<b;O++)w[O]=~C.g[O];return new f(w,~C.h).add(D)}s.abs=function(){return Z(this)?W(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),w=[];let O=0;for(let R=0;R<=b;R++){let V=O+(this.i(R)&65535)+(C.i(R)&65535),I=(V>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);O=I>>>16,V&=65535,I&=65535,w[R]=I<<16|V}return new f(w,w[w.length-1]&-2147483648?-1:0)};function rt(C,b){return C.add(W(b))}s.j=function(C){if(X(this)||X(C))return S;if(Z(this))return Z(C)?W(this).j(W(C)):W(W(this).j(C));if(Z(C))return W(this.j(W(C)));if(this.l(P)<0&&C.l(P)<0)return g(this.m()*C.m());const b=this.g.length+C.g.length,w=[];for(var O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let R=0;R<C.g.length;R++){const V=this.i(O)>>>16,I=this.i(O)&65535,Vt=C.i(R)>>>16,ie=C.i(R)&65535;w[2*O+2*R]+=I*ie,st(w,2*O+2*R),w[2*O+2*R+1]+=V*ie,st(w,2*O+2*R+1),w[2*O+2*R+1]+=I*Vt,st(w,2*O+2*R+1),w[2*O+2*R+2]+=V*Vt,st(w,2*O+2*R+2)}for(C=0;C<b;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=b;C<2*b;C++)w[C]=0;return new f(w,0)};function st(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ct(C,b){this.g=C,this.h=b}function It(C,b){if(X(b))throw Error("division by zero");if(X(C))return new ct(S,S);if(Z(C))return b=It(W(C),b),new ct(W(b.g),W(b.h));if(Z(b))return b=It(C,W(b)),new ct(W(b.g),b.h);if(C.g.length>30){if(Z(C)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var w=D,O=b;O.l(C)<=0;)w=Dt(w),O=Dt(O);var R=yt(w,1),V=yt(O,1);for(O=yt(O,2),w=yt(w,2);!X(O);){var I=V.add(O);I.l(C)<=0&&(R=R.add(w),V=I),O=yt(O,1),w=yt(w,1)}return b=rt(C,R.j(b)),new ct(R,b)}for(R=S;C.l(b)>=0;){for(w=Math.max(1,Math.floor(C.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),V=g(w),I=V.j(b);Z(I)||I.l(C)>0;)w-=O,V=g(w),I=V.j(b);X(V)&&(V=D),R=R.add(V),C=rt(C,I)}return new ct(R,C)}s.B=function(C){return It(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)&C.i(O);return new f(w,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)|C.i(O);return new f(w,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)^C.i(O);return new f(w,this.h^C.h)};function Dt(C){const b=C.g.length+1,w=[];for(let O=0;O<b;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(w,C.h)}function yt(C,b){const w=b>>5;b%=32;const O=C.g.length-w,R=[];for(let V=0;V<O;V++)R[V]=b>0?C.i(V+w)>>>b|C.i(V+w+1)<<32-b:C.i(V+w);return new f(R,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,lr=f}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HT,xl,FT,$c,ym,GT,YT,KT;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,v){return c.call.apply(c.bind,arguments)}function g(c,p,v){return g=y,g.apply(null,arguments)}function T(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,q){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return p.prototype[U].apply(A,nt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function X(c,p){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let nt=0;nt<q;nt++)c[v+nt]=U[nt]}else c.push(U)}}class Z{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(c){f.setTimeout(()=>{throw c},0)}function rt(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class st{constructor(){this.h=this.g=null}add(p,v){const A=ct.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ct=new Z(()=>new It,c=>c.reset());class It{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,yt=!1,C=new st,b=()=>{const c=Promise.resolve(void 0);Dt=()=>{c.then(w)}};function w(){for(var c;c=rt();){try{c.h.call(c.g)}catch(v){W(v)}var p=ct;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}yt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Vt(c,p){R.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(Vt,R),Vt.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Vt.Z.h.call(this)},Vt.prototype.h=function(){Vt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(c,p,v,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=U,this.key=++F,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ct(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Ht(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function x(c){const p={};for(const v in c)p[v]=c[v];return p}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,p){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function at(c){this.src=c,this.g={},this.h=0}at.prototype.add=function(c,p,v,A,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=St(c,p,A,U);return nt>-1?(p=c[nt],v||(p.fa=!1)):(p=new et(p,this.src,q,!!A,U),p.fa=v,c.push(p)),p};function gt(c,p){const v=p.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,p,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(lt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function St(c,p,v,A){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==A)return U}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),pe={};function te(c,p,v,A,U){if(Array.isArray(p)){for(let q=0;q<p.length;q++)te(c,p[q],v,A,U);return null}return v=Er(v),c&&c[ie]?c.J(p,v,m(A)?!!A.capture:!1,U):hi(c,p,v,!1,A,U)}function hi(c,p,v,A,U,q){if(!p)throw Error("Invalid event type");const nt=m(U)?!!U.capture:!!U;let wt=Gi(c);if(wt||(c[bt]=wt=new at(c)),v=wt.add(p,v,A,nt,q),v.proxy)return v;if(A=fi(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)V||(U=nt),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(Cn(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fi(){function c(v){return p.call(c.src,c.listener,v)}const p=_r;return c}function Fi(c,p,v,A,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)Fi(c,p[q],v,A,U);else A=m(A)?!!A.capture:!!A,v=Er(v),c&&c[ie]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],v=St(p,v,A,U),v>-1&&(lt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=Gi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=St(p,v,A,U)),(v=c>-1?p[c]:null)&&di(v))}function di(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ie])gt(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(Cn(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Gi(p))?(gt(v,c),v.h==0&&(v.src=null,p[bt]=null)):lt(c)}}}function Cn(c){return c in pe?pe[c]:pe[c]="on"+c}function _r(c,p){if(c.da)c=!0;else{p=new Vt(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&di(c),c=v.call(A,p)}return c}function Gi(c){return c=c[bt],c instanceof at?c:null}var vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Er(c){return typeof c=="function"?c:(c[vr]||(c[vr]=function(p){return c.handleEvent(p)}),c[vr])}function ce(){O.call(this),this.i=new at(this),this.M=this,this.G=null}S(ce,O),ce.prototype[ie]=!0,ce.prototype.removeEventListener=function(c,p,v,A){Fi(this,c,p,v,A)};function _e(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new R(p,c);else if(p instanceof R)p.target=p.target||c;else{var U=p;p=new R(A,c),it(p,U)}U=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=p.g=v[nt],U=Yn(q,A,!0,p)&&U;if(q=p.g=c,U=Yn(q,A,!0,p)&&U,U=Yn(q,A,!1,p)&&U,v)for(nt=0;nt<v.length;nt++)q=p.g=v[nt],U=Yn(q,A,!1,p)&&U}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)lt(v[A]);delete c.g[p],c.h--}}this.G=null},ce.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ce.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function Yn(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let q=0;q<p.length;++q){const nt=p[q];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&gt(c.i,nt),U=wt.call(Ee,A)!==!1&&U}}return U&&!A.defaultPrevented}function No(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function da(c){c.g=No(()=>{c.g=null,c.i&&(c.i=!1,da(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class He extends O{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(c){O.call(this),this.h=c,this.g={}}S(ee,O);var se=[];function he(c){Ct(c.g,function(p,v){this.g.hasOwnProperty(v)&&di(p)},c),c.g={}}ee.prototype.N=function(){ee.Z.N.call(this),he(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=f.JSON.stringify,Yi=f.JSON.parse,Tr=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function As(){}function ma(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){R.call(this,"d")}S(Fe,R);function Nn(){R.call(this,"c")}S(Nn,R);var ve={},hu=null;function pa(){return hu=hu||new ce}ve.Ia="serverreachability";function fu(c){R.call(this,ve.Ia,c)}S(fu,R);function mi(c){const p=pa();_e(p,new fu(p))}ve.STAT_EVENT="statevent";function Ar(c,p){R.call(this,ve.STAT_EVENT,c),this.stat=p}S(Ar,R);function be(c){const p=pa();_e(p,new Ar(p,c))}ve.Ja="timingevent";function pi(c,p){R.call(this,ve.Ja,c),this.size=p}S(pi,R);function gi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function qh(c,p,v,A,U,q){c.info(function(){if(c.g)if(q){var nt="",wt=q.split("&");for(let Ft=0;Ft<wt.length;Ft++){var Ee=wt[Ft].split("=");if(Ee.length>1){const le=Ee[0];Ee=Ee[1];const Vn=le.split("_");nt=Vn.length>=2&&Vn[1]=="type"?nt+(le+"="+Ee+"&"):nt+(le+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+v+`
`+nt})}function du(c,p,v,A,U,q,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+v+`
`+q+" "+nt})}function yi(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Hh(c,v)+(A?" "+A:"")})}function Sr(c,p){c.info(function(){return"TIMEOUT: "+p})}Qn.prototype.info=function(){};function Hh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return fe(q)}catch{return p}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function wr(){}S(wr,As),wr.prototype.g=function(){return new XMLHttpRequest},Oo=new wr;function Ki(c){return encodeURIComponent(String(c))}function mu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function $n(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var we={},Ue={};function _i(c,p,v){c.M=1,c.A=Rr(Ie(p)),c.u=v,c.R=!0,ga(c,null)}function ga(c,p){c.F=Date.now(),vi(c),c.B=Ie(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ea(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Xn,c.g=Nu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new He(g(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(se[0]=U.toString()),U=se);for(let q=0;q<U.length;q++){const nt=te(v,U[q],A||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),mi(),qh(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const p=this.O;p&&Wn(c)==3?p.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Wn(this.g),Ee=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||wt!=4||Ee==7||(Ee==8||Ft<=0?mi(3):mi(2)),Ei(this);var p=this.g.ca();this.X=p;var v=Fh(this);if(this.o=p==200,du(this.i,this.v,this.B,this.l,this.S,wt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break e}}q=null}if(c=q)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,be(12),_n(this),Dn(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=gu(this,v),le==Ue){wt==4&&(this.m=4,be(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==we){this.m=4,be(15),yi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,le,null),Ti(this,le);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(nt),nt.P=!0,be(11))}}else yi(this.i,this.l,v,null),Ti(this,v);wt==4&&_n(this),this.o&&!this.K&&(wt==4?wu(this.j,this):(this.o=!1,vi(this)))}else $i(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),_n(this),Dn(this)}}}catch{}};function Fh(c){if(!pu(c))return c.g.la();const p=Ge(c.g);if(p==="")return"";let v="";const A=p.length,U=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,v+=c.h.i.decode(p[q],{stream:!(U&&q==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function gu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Ue:(v=Number(p.substring(v,A)),isNaN(v)?we:(A+=1,A+v>p.length?Ue:(p=p.slice(A,A+v),c.C=A+v,p)))}$n.prototype.cancel=function(){this.K=!0,_n(this)};function vi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(g(c.aa,c),p)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(mi(),be(17)),_n(this),this.m=2,Dn(this)):ya(this,this.T-c)};function Dn(c){c.j.I==0||c.K||wu(c.j,c)}function _n(c){Ei(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,he(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Ti(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||Si(v.h,c))){if(!c.L&&Si(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)wa(v),Ds(v);else break t;Vr(v),be(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(g(v.Va,v),6e3));Ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&wa(v),!I(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Ft=U[p];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Vn=Ft[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Di=Ft[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ti=Ft[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ei=c.g;if(ei){const xr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var q=A.h;q.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(A.G){const Ra=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(A.wa=Ra,Kt(A.J,A.G,Ra))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=Cu(A,A.L?A.ba:null,A.W),nt.L){Lo(A.h,nt);var wt=nt,Ee=A.O;Ee&&(wt.H=Ee),wt.D&&(Ei(wt),vi(wt)),A.g=nt}else Su(A);v.i.length>0&&Ci(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ni(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ni(v,7):Fo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}mi(4)}catch{}}var Re=class{constructor(c,p){this.g=c,this.map=p}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ai(c){return c.h?1:c.g?c.g.size:0}function Si(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function xo(c,p){c.g?c.g.add(p):c.h=p}function Lo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Mo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return P(c.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,q=null;A>=0?(U=c[v].substring(0,A),q=c[v].substring(A+1)):U=c[v],p(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof vn?(this.l=c.l,ze(this,c.j),this.o=c.o,this.g=c.g,Ss(this,c.u),this.h=c.h,Po(this,Tu(c.i)),this.m=c.m):c&&(p=String(c).match(yu))?(this.l=!1,ze(this,p[1]||"",!0),this.o=bi(p[2]||""),this.g=bi(p[3]||"",!0),Ss(this,p[4]),this.h=bi(p[5]||"",!0),Po(this,p[6]||"",!0),this.m=bi(p[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}vn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Ir(p,va,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ir(p,va,!0),"@"),c.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ir(v,v.charAt(0)=="/"?Uo:_u,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ir(v,vu)),c.join("")},vn.prototype.resolve=function(c){const p=Ie(this);let v=!!c.j;v?ze(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)Ss(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=p.h.lastIndexOf("/");U!=-1&&(A=p.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let nt=0;nt<U.length;){const wt=U[nt++];wt=="."?A&&nt==U.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&nt==U.length&&q.push("")):(q.push(wt),A=!0)}A=q.join("/")}else A=U}return v?p.h=A:v=c.i.toString()!=="",v?Po(p,Tu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Ie(c){return new vn(c)}function ze(c,p,v){c.j=v?bi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ss(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Po(c,p,v){p instanceof ws?(c.i=p,Ta(c.i,c.l)):(v||(p=Ir(p,bs)),c.i=new ws(p,c.l))}function Kt(c,p,v){c.i.set(p,v)}function Rr(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ir(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,_u=/[#\?:]/g,Uo=/[#\?]/g,bs=/[#\?@]/g,vu=/#/g;function ws(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=ws.prototype,s.add=function(c,p){hn(this),this.i=null,c=Rs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Eu(c,p){hn(c),p=Rs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function zo(c,p){return hn(c),p=Rs(c,p),c.g.has(p)}s.forEach=function(c,p){hn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(p,U,A,this)},this)},this)};function jo(c,p){hn(c);let v=[];if(typeof p=="string")zo(c,p)&&(v=v.concat(c.g.get(Rs(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return hn(this),this.i=null,c=Rs(this,c),zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=jo(this,c),c.length>0?String(c[0]):p):p};function Ea(c,p,v){Eu(c,p),v.length>0&&(c.i=null,c.g.set(Rs(c,p),P(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const U=Ki(v);v=jo(this,v);for(let q=0;q<v.length;q++){let nt=U;v[q]!==""&&(nt+="="+Ki(v[q])),c.push(nt)}}return this.i=c.join("&")};function Tu(c){const p=new ws;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Rs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ta(c,p){p&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(Eu(this,A),Ea(this,U,v))},c)),c.j=p}function Jn(c,p){const v=new Qn;if(f.Image){const A=new Image;A.onload=T(On,v,"TestLoadImage: loaded",!0,p,A),A.onerror=T(On,v,"TestLoadImage: error",!1,p,A),A.onabort=T(On,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=T(On,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Bo(c,p){const v=new Qn,A=new AbortController,U=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,p)})}function On(c,p,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Is(){this.g=new Tr}function wi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(wi,As),wi.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(c,p){ce.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cr,ce),s=Cr.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Zn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Cs(this):Zn(this),this.readyState==3&&Aa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Cs(this))},s.Na=function(c){this.g&&(this.response=c,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let p="";return Ct(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Nr(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Mn(v),typeof c=="string"?v!=null&&Ki(v):Kt(c,p,v))}function Xt(c){ce.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ce);var Ri=/^https?$/i,qo=["POST","PUT"];s=Xt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=D(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Dr(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(qo,p,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Dr(this,q)}};function Dr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ho(c),Qi(c)}function Ho(c){c.A||(c.A=!0,_e(c,"complete"),_e(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,_e(this,"complete"),_e(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(_e(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=q===0){let nt=String(c.D).match(yu)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!Ri.test(nt?nt.toLowerCase():"")}v=A}if(v)_e(c,"complete"),_e(c,"success");else{c.o=6;try{var U=Wn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Ho(c)}}finally{Qi(c)}}}}function Qi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||_e(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Yi(p)}};function Ge(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const p={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=mu(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[U]||[];p[U]=q,q.push(v)}Ht(p,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Ns(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,c),this.Za=Ii("retryDelaySeedMs",1e4,c),this.Ta=Ii("forwardChannelMaxRetries",2,c),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new Is,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,A){be(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Cu(this,null,this.W),Ci(this)};function Fo(c){if(Sa(c),c.I==3){var p=c.V++,v=Ie(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",p),Kt(v,"TYPE","terminate"),Mr(c,v),p=new $n(c,c.j,p),p.M=2,p.A=Rr(Ie(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Nu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),vi(p)}Iu(c)}function Ds(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function Sa(c){Ds(c),c.v&&(f.clearTimeout(c.v),c.v=null),wa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ci(c){if(!Vo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Dt||b(),yt||(Dt(),yt=!0),C.add(p,c),c.D=0}}function ba(c,p){return Ai(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(g(c.Ea,c,p),Ru(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new $n(this,this.j,c);let q=this.o;if(this.U&&(q?(q=x(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Au(this,U,p),v=Ie(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Mr(this,v),q&&(this.R?p="headers="+Ki(Mn(q))+"&"+p:this.u&&Nr(v,this.u,q)),xo(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",p),Kt(v,"SID","null"),U.U=!0,_i(U,v,null)):_i(U,v,p),this.I=2}}else this.I==3&&(c?Go(this,c):this.i.length==0||Vo(this.h)||Go(this))};function Go(c,p){var v;p?v=p.l:v=c.V++;const A=Ie(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Mr(c,A),c.u&&c.o&&Nr(A,c.u,c.o),v=new $n(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Au(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xo(c.h,v),_i(v,A,p)}function Mr(c,p){c.H&&Ct(c.H,function(v,A){Kt(p,A,v)}),c.l&&Ct({},function(v,A){Kt(p,A,v)})}function Au(c,p,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;t:{var U=c.i;let wt=-1;for(;;){const Ee=["count="+v];wt==-1?v>0?(wt=U[0].g,Ee.push("ofs="+wt)):wt=0:Ee.push("ofs="+wt);let Ft=!0;for(let le=0;le<v;le++){var q=U[le].g;const Vn=U[le].map;if(q-=wt,q<0)wt=Math.max(0,U[le].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var nt=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Di,ti]of nt){let ei=ti;m(ti)&&(ei=fe(ti)),Ee.push(q+Di+"="+encodeURIComponent(ei))}}catch(Di){throw Ee.push(q+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(Vn)}}if(Ft){nt=Ee.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),p.G=c,nt}function Su(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Dt||b(),yt||(Dt(),yt=!0),C.add(p,c),c.A=0}}function Vr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(g(c.Da,c),Ru(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(g(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ds(this),bu(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function bu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Ie(c.na);Kt(p,"RID","rpc"),Kt(p,"SID",c.M),Kt(p,"AID",c.K),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(p,"TO",c.ia),Kt(p,"TYPE","xmlhttp"),Mr(c,p),c.u&&c.o&&Nr(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rr(Ie(p)),v.u=null,v.R=!0,ga(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Vr(this),be(19))};function wa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function wu(c,p){var v=null;if(c.g==p){wa(c),Yo(c),c.g=null;var A=2}else if(Si(c.h,p))v=p.G,Lo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;A=pa(),_e(A,new pi(A,v)),Ci(c)}else Su(c);else if(U=p.m,U==3||U==0&&p.X>0||!(A==1&&ba(c,p)||A==2&&Vr(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Ru(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ni(c,p){if(c.j.info("Error code "+p),p==2){var v=g(c.bb,c),A=c.Ua;const U=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ze(A,"https"),Rr(A),U?Jn(A.toString(),v):Bo(A.toString(),v)}else be(2);c.I=0,c.l&&c.l.pa(p),Iu(c),Sa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const p=ko(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Cu(c,p,v){var A=v instanceof vn?Ie(v):new vn(v);if(A.g!="")p&&(A.g=p+"."+A.g),Ss(A,A.u);else{var U=f.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const q=new vn(null);A&&ze(q,A),p&&(q.g=p),U&&Ss(q,U),v&&(q.h=v),A=q}return v=c.G,p=c.wa,v&&p&&Kt(A,v,p),Kt(A,"VER",c.ka),Mr(c,A),A}function Nu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xt(new wi({ab:v})):new Xt(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(c,p){return new on(c,p)};function on(c,p){ce.call(this),this.g=new Ns(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Xi(this)}S(on,ce),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Fo(this.g)},on.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fe(c),c=v);p.i.push(new Re(p.Ya++,c)),p.I==3&&Ci(p)},on.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,on.Z.N.call(this)};function Ou(c){Fe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Ou,Fe);function Mu(){Nn.call(this),this.status=1}S(Mu,Nn);function Xi(c){this.g=c}S(Xi,Du),Xi.prototype.ra=function(){_e(this.g,"a")},Xi.prototype.qa=function(c){_e(this.g,new Ou(c))},Xi.prototype.pa=function(c){_e(this.g,new Mu)},Xi.prototype.oa=function(){_e(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,KT=function(){return new Os},YT=function(){return pa()},GT=ve,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,$c=br,Do.COMPLETE="complete",FT=Do,ma.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",ce.prototype.listen=ce.prototype.J,xl=ma,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,HT=Xt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let bo="12.8.0";function II(s){bo=s}const na=new bh("@firebase/firestore");function no(){return na.logLevel}function ot(s,...t){if(na.logLevel<=kt.DEBUG){const n=t.map(Gm);na.debug(`Firestore (${bo}): ${s}`,...n)}}function vs(s,...t){if(na.logLevel<=kt.ERROR){const n=t.map(Gm);na.error(`Firestore (${bo}): ${s}`,...n)}}function po(s,...t){if(na.logLevel<=kt.WARN){const n=t.map(Gm);na.warn(`Firestore (${bo}): ${s}`,...n)}}function Gm(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function vt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,QT(s,r,n)}function QT(s,t,n){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vs(r),new Error(r)}function Yt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||QT(t,o,r)}function At(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ci{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class $T{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class NI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DI{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new $T(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class OI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const r=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=xI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function Pt(s,t){return s<t?-1:s>t?1:0}function _m(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return Zd(o)===Zd(u)?Pt(o,u):Zd(o)?1:-1}return Pt(s.length,t.length)}const LI=55296,kI=57343;function Zd(s){const t=s.charCodeAt(0);return t>=LI&&t<=kI}function go(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}const Bv="__name__";class Li{constructor(t,n,r){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&vt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Li.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const r=Li.isNumericId(t),o=Li.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Li.extractNumericId(t).compare(Li.extractNumericId(n)):_m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class de extends Li{construct(t,n,r){return new de(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new de(n)}static emptyPath(){return new de([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Li{construct(t,n,r){return new Je(t,n,r)}static isValidIdentifier(t){return PI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Je([Bv])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(n)}static emptyPath(){return new Je([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(de.fromString(t))}static fromName(t){return new mt(de.fromString(t).popFirst(5))}static empty(){return new mt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return de.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new de(t.slice()))}}function UI(s,t,n){if(!n)throw new ft(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function zI(s,t,n,r){if(t===!0&&r===!0)throw new ft(J.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function qv(s){if(!mt.isDocumentKey(s))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function XT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Kl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Km(s);throw new ft(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function xe(s,t){const n={typeString:s};return t&&(n.value=t),n}function au(s,t){if(!XT(s))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ft(J.INVALID_ARGUMENT,n);return!0}const Hv=-62135596800,Fv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Fv);return new oe(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Hv)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(au(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Hv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:xe("string",oe._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new oe(0,0))}static max(){return new Et(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function jI(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(r===1e9?new oe(n+1,0):new oe(n,r));return new hr(o,mt.empty(),t)}function BI(s){return new hr(s.readTime,s.key,Ql)}class hr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new hr(Et.min(),mt.empty(),Ql)}static max(){return new hr(Et.max(),mt.empty(),Ql)}}function qI(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(s.documentKey,t.documentKey),n!==0?n:Pt(s.largestBatchId,t.largestBatchId))}const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function wo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==HI)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,r)=>{n(t)}))}static reject(t){return new $(((n,r)=>{r(t)}))}static waitFor(t){return new $(((n,r)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>r(y)))})),f=!0,u===o&&n()}))}static or(t){let n=$.resolve(!1);for(const r of t)n=n.next((o=>o?$.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new $(((r,o)=>{const u=t.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(t[g]).next((T=>{f[g]=T,++m,m===u&&r(f)}),(T=>o(T)))}}))}static doWhile(t,n){return new $(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function GI(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;const Qm=-1;function Nh(s){return s==null}function uh(s){return s===0&&1/s==-1/0}function YI(s){return typeof s=="number"&&Number.isInteger(s)&&!uh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const JT="";function KI(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=Gv(t)),t=QI(s.get(n),t);return Gv(t)}function QI(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case JT:n+="";break;default:n+=u}}return n}function Gv(s){return s+JT+""}function Yv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function ua(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function ZT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class me{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new Xe(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(t){return new Kv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class Kv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new ai([])}unionWith(t){let n=new Pe(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ai(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return go(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WT("Invalid base64 string: "+u):u}})(t);return new We(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const n=$I.exec(s);if(Yt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(s.seconds),nanos:Se(s.nanos)}}function Se(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?We.fromBase64String(s):We.fromUint8Array(s)}const t0="server_timestamp",e0="__type__",n0="__previous_value__",i0="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[e0]?.stringValue===t0}function Dh(s){const t=s.mapValue.fields[n0];return $m(t)?Dh(t):t}function $l(s){const t=fr(s.mapValue.fields[i0].timestampValue);return new oe(t.seconds,t.nanos)}class XI{constructor(t,n,r,o,u,f,m,y,g,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=S}}const ch="(default)";class Xl{constructor(t,n){this.projectId=t,this.database=n||ch}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(t){return t instanceof Xl&&t.projectId===this.projectId&&t.database===this.database}}function JI(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(s.options.projectId,t)}const s0="__type__",ZI="__max__",zc={mapValue:{}},r0="__vector__",hh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:tC(s)?9007199254740991:WI(s)?10:11:vt(28295,{value:s})}function qi(s,t){if(s===t)return!0;const n=mr(s);if(n!==mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return $l(s).isEqual($l(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fr(o.timestampValue),m=fr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return dr(o.bytesValue).isEqual(dr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return Se(o.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(o.geoPointValue.longitude)===Se(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Se(o.integerValue)===Se(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Se(o.doubleValue),m=Se(u.doubleValue);return f===m?uh(f)===uh(m):isNaN(f)&&isNaN(m)}return!1})(s,t);case 9:return go(s.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Yv(f)!==Yv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!qi(f[y],m[y])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Jl(s,t){return(s.values||[]).find((n=>qi(n,t)))!==void 0}function yo(s,t){if(s===t)return 0;const n=mr(s),r=mr(t);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Se(u.integerValue||u.doubleValue),y=Se(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,t);case 3:return Qv(s.timestampValue,t.timestampValue);case 4:return Qv($l(s),$l(t));case 5:return _m(s.stringValue,t.stringValue);case 6:return(function(u,f){const m=dr(u),y=dr(f);return m.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const T=Pt(m[g],y[g]);if(T!==0)return T}return Pt(m.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Pt(Se(u.latitude),Se(f.latitude));return m!==0?m:Pt(Se(u.longitude),Se(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return $v(s.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[hh]?.arrayValue,T=y[hh]?.arrayValue,S=Pt(g?.values?.length||0,T?.values?.length||0);return S!==0?S:$v(g,T)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const D=_m(y[S],T[S]);if(D!==0)return D;const P=yo(m[y[S]],g[T[S]]);if(P!==0)return P}return Pt(y.length,T.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function Qv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Pt(s,t);const n=fr(s),r=fr(t),o=Pt(n.seconds,r.seconds);return o!==0?o:Pt(n.nanos,r.nanos)}function $v(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=yo(n[o],r[o]);if(u)return u}return Pt(n.length,r.length)}function _o(s){return vm(s)}function vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return dr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return mt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=vm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${vm(n.fields[f])}`;return o+"}"})(s.mapValue):vt(61005,{value:s})}function Xc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dh(s);return t?16+Xc(t):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Xc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return ua(r.fields,((u,f)=>{o+=u.length+Xc(f)})),o})(s.mapValue);default:throw vt(13486,{value:s})}}function Em(s){return!!s&&"integerValue"in s}function Xm(s){return!!s&&"arrayValue"in s}function Xv(s){return!!s&&"nullValue"in s}function Jv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function WI(s){return(s?.mapValue?.fields||{})[s0]?.stringValue===r0}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ua(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=jl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jl(s.arrayValue.values[n]);return t}return{...s}}function tC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ZI}class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jl(n)}setAll(t){let n=Je.emptyPath(),r={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){ua(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Hn(jl(this.value))}}function a0(s){const t=[];return ua(s.fields,((n,r)=>{const o=new Je([n]);if(Jc(r)){const u=a0(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new ai(t)}class rn{constructor(t,n,r,o,u,f,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new rn(t,0,Et.min(),Et.min(),Et.min(),Hn.empty(),0)}static newFoundDocument(t,n,r,o){return new rn(t,1,n,Et.min(),r,o,0)}static newNoDocument(t,n){return new rn(t,2,n,Et.min(),Et.min(),Hn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,Et.min(),Et.min(),Hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(t,n){this.position=t,this.inclusive=n}}function Zv(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=mt.comparator(mt.fromName(f.referenceValue),n.key):r=yo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!qi(s.position[n],t.position[n]))return!1;return!0}class dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function eC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class o0{}class ke extends o0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new iC(t,n,r):n==="array-contains"?new aC(t,r):n==="in"?new oC(t,r):n==="not-in"?new lC(t,r):n==="array-contains-any"?new uC(t,r):new ke(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new sC(t,r):new rC(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&mr(this.value)===mr(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends o0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Hi(t,n)}matches(t){return l0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l0(s){return s.op==="and"}function u0(s){return nC(s)&&l0(s)}function nC(s){for(const t of s.filters)if(t instanceof Hi)return!1;return!0}function Tm(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+_o(s.value);if(u0(s))return s.filters.map((t=>Tm(t))).join(",");{const t=s.filters.map((n=>Tm(n))).join(",");return`${s.op}(${t})`}}function c0(s,t){return s instanceof ke?(function(r,o){return o instanceof ke&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(s,t):s instanceof Hi?(function(r,o){return o instanceof Hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&c0(f,o.filters[m])),!0):!1})(s,t):void vt(19439)}function h0(s){return s instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(s):s instanceof Hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(h0).join(" ,")+"}"})(s):"Filter"}class iC extends ke{constructor(t,n,r){super(t,n,r),this.key=mt.fromName(r.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class sC extends ke{constructor(t,n){super(t,"in",n),this.keys=f0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class rC extends ke{constructor(t,n){super(t,"not-in",n),this.keys=f0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function f0(s,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class aC extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Xm(n)&&Jl(n.arrayValue,this.value)}}class oC extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class lC extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class uC extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}class cC{constructor(t,n=null,r=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function tE(s,t=null,n=[],r=[],o=null,u=null,f=null){return new cC(s,t,n,r,o,u,f)}function Jm(s){const t=At(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Tm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>_o(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>_o(r))).join(",")),t.Te=n}return t.Te}function Zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!eC(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!c0(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Wv(s.startAt,t.startAt)&&Wv(s.endAt,t.endAt)}function Am(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oh{constructor(t,n=null,r=[],o=[],u=null,f="F",m=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function hC(s,t,n,r,o,u,f,m){return new Oh(s,t,n,r,o,u,f,m)}function Wm(s){return new Oh(s)}function eE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fC(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function dC(s){return s.collectionGroup!==null}function Bl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pe(Je.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new dh(u,r))})),n.has(Je.keyField().canonicalString())||t.Ie.push(new dh(Je.keyField(),r))}return t.Ie}function Ui(s){const t=At(s);return t.Ee||(t.Ee=mC(t,Bl(s))),t.Ee}function mC(s,t){if(s.limitType==="F")return tE(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)}));const n=s.endAt?new fh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new fh(s.startAt.position,s.startAt.inclusive):null;return tE(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Sm(s,t,n){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Mh(s,t){return Zm(Ui(s),Ui(t))&&s.limitType===t.limitType}function d0(s){return`${Jm(Ui(s))}|lt:${s.limitType}`}function io(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>h0(o))).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function Vh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):mt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Bl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,m,y){const g=Zv(f,m,y);return f.inclusive?g<=0:g<0})(r.startAt,Bl(r),o)||r.endAt&&!(function(f,m,y){const g=Zv(f,m,y);return f.inclusive?g>=0:g>0})(r.endAt,Bl(r),o))})(s,t)}function pC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function m0(s){return(t,n)=>{let r=!1;for(const o of Bl(s)){const u=gC(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function gC(s,t,n){const r=s.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?yo(y,g):vt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}class ca{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ua(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}const yC=new me(mt.comparator);function Es(){return yC}const p0=new me(mt.comparator);function Ll(...s){let t=p0;for(const n of s)t=t.insert(n.key,n);return t}function g0(s){let t=p0;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Jr(){return ql()}function y0(){return ql()}function ql(){return new ca((s=>s.toString()),((s,t)=>s.isEqual(t)))}const _C=new me(mt.comparator),vC=new Pe(mt.comparator);function Ut(...s){let t=vC;for(const n of s)t=t.add(n);return t}const EC=new Pe(Pt);function TC(){return EC}function tp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(t)?"-0":t}}function _0(s){return{integerValue:""+s}}function AC(s,t){return YI(t)?_0(t):tp(s,t)}class xh{constructor(){this._=void 0}}function SC(s,t,n){return s instanceof mh?(function(o,u){const f={fields:{[e0]:{stringValue:t0},[i0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$m(u)&&(u=Dh(u)),u&&(f.fields[n0]=u),{mapValue:f}})(n,t):s instanceof Zl?E0(s,t):s instanceof Wl?T0(s,t):(function(o,u){const f=v0(o,u),m=nE(f)+nE(o.Ae);return Em(f)&&Em(o.Ae)?_0(m):tp(o.serializer,m)})(s,t)}function bC(s,t,n){return s instanceof Zl?E0(s,t):s instanceof Wl?T0(s,t):n}function v0(s,t){return s instanceof ph?(function(r){return Em(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class mh extends xh{}class Zl extends xh{constructor(t){super(),this.elements=t}}function E0(s,t){const n=A0(t);for(const r of s.elements)n.some((o=>qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Wl extends xh{constructor(t){super(),this.elements=t}}function T0(s,t){let n=A0(t);for(const r of s.elements)n=n.filter((o=>!qi(o,r)));return{arrayValue:{values:n}}}class ph extends xh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function nE(s){return Se(s.integerValue||s.doubleValue)}function A0(s){return Xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function wC(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Zl&&o instanceof Zl||r instanceof Wl&&o instanceof Wl?go(r.elements,o.elements,qi):r instanceof ph&&o instanceof ph?qi(r.Ae,o.Ae):r instanceof mh&&o instanceof mh})(s.transform,t.transform)}class RC{constructor(t,n){this.version=t,this.transformResults=n}}class gs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gs}static exists(t){return new gs(void 0,t)}static updateTime(t){return new gs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Lh{}function S0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new w0(s.key,gs.none()):new ou(s.key,s.data,gs.none());{const n=s.data,r=Hn.empty();let o=new Pe(Je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new ha(s.key,r,new ai(o.toArray()),gs.none())}}function IC(s,t,n){s instanceof ou?(function(o,u,f){const m=o.value.clone(),y=sE(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,t,n):s instanceof ha?(function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=sE(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(b0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Hl(s,t,n,r){return s instanceof ou?(function(u,f,m,y){if(!Zc(u.precondition,f))return m;const g=u.value.clone(),T=rE(u.fieldTransforms,y,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(s,t,n,r):s instanceof ha?(function(u,f,m,y){if(!Zc(u.precondition,f))return m;const g=rE(u.fieldTransforms,y,f),T=f.data;return T.setAll(b0(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,n,r):(function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,t,n)}function CC(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=v0(r.transform,o||null);u!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,u))}return n||null}function iE(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&go(r,o,((u,f)=>wC(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ou extends Lh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends Lh{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function b0(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function sE(s,t,n){const r=new Map;Yt(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=t.data.field(u.field);r.set(u.field,bC(f,m,n[o]))}return r}function rE(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,SC(u,f,t))}return r}class w0 extends Lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends Lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DC{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&IC(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=y0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=S0(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&go(this.mutations,t.mutations,((n,r)=>iE(n,r)))&&go(this.baseMutations,t.baseMutations,((n,r)=>iE(n,r)))}}class ep{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return _C})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new ep(t,n,r,o)}}class OC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MC{constructor(t,n){this.count=t,this.unchangedNames=n}}var Me,jt;function VC(s){switch(s){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function R0(s){if(s===void 0)return vs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Me.OK:return J.OK;case Me.CANCELLED:return J.CANCELLED;case Me.UNKNOWN:return J.UNKNOWN;case Me.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Me.INTERNAL:return J.INTERNAL;case Me.UNAVAILABLE:return J.UNAVAILABLE;case Me.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Me.NOT_FOUND:return J.NOT_FOUND;case Me.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Me.ABORTED:return J.ABORTED;case Me.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Me.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:s})}}(jt=Me||(Me={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function xC(){return new TextEncoder}const LC=new lr([4294967295,4294967295],0);function aE(s){const t=xC().encode(s),n=new qT;return n.update(t),new Uint8Array(n.digest())}function oE(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new lr([n,r],0),new lr([o,u],0)]}class np{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=lr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(lr.fromNumber(r)));return o.compare(LC)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=aE(t),[r,o]=oE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new np(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=aE(t),[r,o]=oE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new kh(Et.min(),o,new me(Pt),Es(),Ut())}}class lu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new lu(r,n,Ut(),Ut(),Ut())}}class Wc{constructor(t,n,r,o){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=o}}class I0{constructor(t,n){this.targetId=t,this.Ce=n}}class C0{constructor(t,n,r=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class lE{constructor(){this.ve=0,this.Fe=uE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:u})}})),new lu(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=uE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.He=jc(),this.Je=jc(),this.Ze=new me(Pt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Am(u))if(r===0){const f=new mt(u.path);this.et(n,f,rn.newNoDocument(f,Et.min()))}else Yt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(t),y=m?this.ct(m,t,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=dr(r).toUint8Array()}catch(y){if(y instanceof WT)return po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new np(f,o,u)}catch(y){return po(y instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Am(m.target)){const y=new mt(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,rn.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Ut();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new kh(t,n,this.Ze,this.je,r);return this.je=Es(),this.He=jc(),this.Je=jc(),this.Ze=new me(Pt),o}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new lE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Pe(Pt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Pe(Pt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new lE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function jc(){return new me(mt.comparator)}function uE(){return new me(mt.comparator)}const PC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zC={and:"AND",or:"OR"};class jC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bm(s,t){return s.useProto3Json||Nh(t)?t:{value:t}}function gh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function N0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function BC(s,t){return gh(s,t.toTimestamp())}function zi(s){return Yt(!!s,49232),Et.fromTimestamp((function(n){const r=fr(n);return new oe(r.seconds,r.nanos)})(s))}function ip(s,t){return wm(s,t).canonicalString()}function wm(s,t){const n=(function(o){return new de(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function D0(s){const t=de.fromString(s);return Yt(L0(t),10190,{key:t.toString()}),t}function Rm(s,t){return ip(s.databaseId,t.path)}function Wd(s,t){const n=D0(t);if(n.get(1)!==s.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new mt(M0(n))}function O0(s,t){return ip(s.databaseId,t)}function qC(s){const t=D0(s);return t.length===4?de.emptyPath():M0(t)}function Im(s){return new de(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function M0(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function cE(s,t,n){return{name:Rm(s,t),fields:n.value.mapValue.fields}}function HC(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Yt(T===void 0||typeof T=="string",58123),We.fromBase64String(T||"")):(Yt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),We.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const T=g.code===void 0?J.UNKNOWN:R0(g.code);return new ft(T,g.message||"")})(f);n=new C0(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wd(s,r.document.name),u=zi(r.document.updateTime),f=r.document.createTime?zi(r.document.createTime):Et.min(),m=new Hn({mapValue:{fields:r.document.fields}}),y=rn.newFoundDocument(o,u,f,m),g=r.targetIds||[],T=r.removedTargetIds||[];n=new Wc(g,T,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Wd(s,r.document),u=r.readTime?zi(r.readTime):Et.min(),f=rn.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Wd(s,r.document),u=r.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new MC(o,u),m=r.targetId;n=new I0(m,f)}}return n}function FC(s,t){let n;if(t instanceof ou)n={update:cE(s,t.key,t.value)};else if(t instanceof w0)n={delete:Rm(s,t.key)};else if(t instanceof ha)n={update:cE(s,t.key,t.data),updateMask:WC(t.fieldMask)};else{if(!(t instanceof NC))return vt(16599,{dt:t.type});n={verify:Rm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:BC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(s,t.precondition)),n}function GC(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?zi(o.updateTime):zi(u);return f.isEqual(Et.min())&&(f=zi(u)),new RC(f,o.transformResults||[])})(n,t)))):[]}function YC(s,t){return{documents:[O0(s,t.path)]}}function KC(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O0(s,o);const u=(function(g){if(g.length!==0)return x0(Hi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(D){return{field:so(D.field),direction:XC(D.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=bm(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function QC(s){let t=qC(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Yt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const D=V0(S);return D instanceof Hi&&u0(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((D=>(function(X){return new dh(ro(X.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(D)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let D;return D=typeof S=="object"?S.value:S,Nh(D)?null:D})(n.limit));let y=null;n.startAt&&(y=(function(S){const D=!!S.before,P=S.values||[];return new fh(P,D)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const D=!S.before,P=S.values||[];return new fh(P,D)})(n.endAt)),hC(t,o,f,u,m,"F",y,g)}function $C(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function V0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return ke.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return ke.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Hi.create(n.compositeFilter.filters.map((r=>V0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(s):vt(30097,{filter:s})}function XC(s){return PC[s]}function JC(s){return UC[s]}function ZC(s){return zC[s]}function so(s){return{fieldPath:s.canonicalString()}}function ro(s){return Je.fromServerFormat(s.fieldPath)}function x0(s){return s instanceof ke?(function(n){if(n.op==="=="){if(Jv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Xv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Xv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:JC(n.op),value:n.value}}})(s):s instanceof Hi?(function(n){const r=n.getFilters().map((o=>x0(o)));return r.length===1?r[0]:{compositeFilter:{op:ZC(n.op),filters:r}}})(s):vt(54877,{filter:s})}function WC(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function L0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function k0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(t,n,r,o,u=Et.min(),f=Et.min(),m=We.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class t2{constructor(t){this.yt=t}}function e2(s){const t=QC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sm(t,t.limit,"L"):t}class n2{constructor(){this.Sn=new i2}addToCollectionParentIndex(t,n){return this.Sn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(hr.min())}updateCollectionGroup(t,n,r){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class i2{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Pe(de.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Pe(de.comparator)).toArray()}}const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P0=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(P0,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class vo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new vo(0)}static ar(){return new vo(-1)}}const fE="LruGarbageCollector",s2=1048576;function dE([s,t],[n,r]){const o=Pt(s,n);return o===0?Pt(t,r):o}class r2{constructor(t){this.Pr=t,this.buffer=new Pe(dE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a2{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(fE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?ot(fE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Ar(3e5)}))}}class o2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Ch.ce);const r=new r2(n);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(hE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,o,u,f,m,y,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,m=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(g=Date.now(),no()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function l2(s,t){return new o2(s,t)}class u2{constructor(){this.changes=new ca((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class c2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class h2{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&Hl(r.mutation,o,ai.empty(),oe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const o=Jr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Ll();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Jr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,r,o){let u=Es();const f=ql(),m=(function(){return ql()})();return n.forEach(((y,g)=>{const T=r.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ha)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Hl(T.mutation,g,T.mutation.getFieldMask(),oe.now())):f.set(g.key,ai.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,T)=>f.set(g,T))),n.forEach(((g,T)=>m.set(g,new c2(T,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=ql();let o=new me(((f,m)=>f-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let T=r.get(y)||ai.empty();T=m.applyToLocalView(g,T),r.set(y,T);const S=(o.get(m.batchId)||Ut()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,T=y.value,S=y0();T.forEach((D=>{if(!u.has(D)){const P=S0(n.get(D),r.get(D));P!==null&&S.set(D,P),u=u.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,S))}return $.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return fC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):$.resolve(Jr());let m=Ql,y=u;return f.next((g=>$.forEach(g,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,Ut()))).next((T=>({batchId:m,changes:g0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((r=>{let o=Ll();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(t,u).next((m=>$.forEach(m,(y=>{const g=(function(S,D){return new Oh(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((T=>{T.forEach(((S,D)=>{f=f.insert(S,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((y,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,rn.newInvalidDocument(T)))}));let m=Ll();return f.forEach(((y,g)=>{const T=u.get(y);T!==void 0&&Hl(T.mutation,g,ai.empty(),oe.now()),Vh(n,g)&&(m=m.insert(y,g))})),m}))}}class f2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:e2(o.bundledQuery),readTime:zi(o.readTime)}})(n)),$.resolve()}}class d2{constructor(){this.overlays=new me(mt.comparator),this.Lr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jr();return $.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.bt(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(t,n,r){const o=Jr(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new me(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let T=u.get(g.largestBatchId);T===null&&(T=Jr(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Jr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return $.resolve(m)}bt(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new OC(n,r));let u=this.Lr.get(n);u===void 0&&(u=Ut(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class m2{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}class sp{constructor(){this.kr=new Pe(Be.Kr),this.qr=new Pe(Be.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Be(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new Be(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new mt(new de([])),r=new Be(n,t),o=new Be(n,t+1),u=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new de([])),r=new Be(n,t),o=new Be(n,t+1);let u=Ut();return this.qr.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Be(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||Pt(t.Hr,n.Hr)}static Ur(t,n){return Pt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class p2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pe(Be.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new DC(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Be(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Qm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Be(n,0),o=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Pe(Pt);return n.forEach((o=>{const u=new Be(o,0),f=new Be(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{r=r.add(m.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;mt.isDocumentKey(u)||(u=u.child(""));const f=new Be(new mt(u),0);let m=new Pe(Pt);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),f),$.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,(o=>{const u=new Be(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new Be(n,0),o=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class g2{constructor(t){this.ti=t,this.docs=(function(){return new me(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let r=Es();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=Es();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||qI(BI(T),r)<=0||(o.has(T.key)||Vh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,r,o){vt(9500)}ni(t,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new y2(this)}getSize(t){return $.resolve(this.size)}}class y2 extends u2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),$.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class _2{constructor(t){this.persistence=t,this.ri=new ca((n=>Jm(n)),Zm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new sp,this.targetCount=0,this.oi=vo._r()}forEachTarget(t,n){return this.ri.forEach(((r,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new vo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.lr(n),$.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(t,n){return $.resolve(this.si.containsKey(n))}}class U0{constructor(t,n){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new m2,this.referenceDelegate=t(this),this.li=new _2(this),this.indexManager=new n2,this.remoteDocumentCache=(function(o){return new g2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new t2(n),this.Pi=new f2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new d2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new p2(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){ot("MemoryPersistence","Starting transaction:",t);const o=new v2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class v2 extends FI{constructor(t){super(),this.currentSequenceNumber=t}}class rp{constructor(t){this.persistence=t,this.Ri=new sp,this.Ai=null}static Vi(t){return new rp(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const o=mt.fromPath(r);return this.mi(t,o).next((u=>{u||n.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class yh{constructor(t,n){this.persistence=t,this.fi=new ca((r=>KI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=l2(this,n)}static Vi(t,n){return new yh(t,n)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return $.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?$.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(r++,u.removeEntry(f,Et.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),$.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xc(t.data.value)),n}wr(t,n,r){return $.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ap{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=o}static Es(t,n){let r=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ap(t,n.fromCache,r,o)}}class E2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class T2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return F1()?8:GI(an())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new E2;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,r,o){return r.documentReadCount<this.Vs?(no()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(no()<=kt.DEBUG&&ot("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(no()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(n))):$.resolve())}gs(t,n){if(eE(n))return $.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Sm(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Ut(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,r).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,f,y.readTime)?this.gs(t,Sm(n,null,"F")):this.Ds(t,g,n,y)}))))})))))}ps(t,n,r,o){return eE(n)||o.isEqual(Et.min())?$.resolve(null):this.fs.getDocuments(t,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,o)?$.resolve(null):(no()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.Ds(t,f,n,jI(o,Ql)).next((m=>m)))}))}bs(t,n){let r=new Pe(m0(t));return n.forEach(((o,u)=>{Vh(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,r){return no()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",io(n)),this.fs.getDocumentsMatchingQuery(t,n,hr.min(),r)}Ds(t,n,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const op="LocalStore",A2=3e8;class S2{constructor(t,n,r,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new me(Pt),this.Fs=new ca((u=>Jm(u)),Zm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new h2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function b2(s,t,n,r){return new S2(s,t,n,r)}async function z0(s,t){const n=At(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let y=Ut();for(const g of o){f.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function w2(s,t){const n=At(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,T){const S=g.batch,D=S.keys();let P=$.resolve();return D.forEach((X=>{P=P.next((()=>T.getEntry(y,X))).next((Z=>{const W=g.docVersions.get(X);Yt(W!==null,48541),Z.version.compareTo(W)<0&&(S.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),T.addEntry(Z)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function j0(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function R2(s,t){const n=At(s),r=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((T,S)=>{const D=o.get(S);if(!D)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let P=D.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(We.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,r)),o=o.insert(S,P),(function(Z,W,rt){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=A2?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(D,P,T)&&m.push(n.li.updateTargetData(u,P))}));let y=Es(),g=Ut();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(I2(u,f,t.documentUpdates).next((T=>{y=T.Bs,g=T.Ls}))),!r.isEqual(Et.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return $.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.vs=o,u)))}function I2(s,t,n){let r=Ut(),o=Ut();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=Es();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(m,y)):ot(op,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function C2(s,t){const n=At(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function N2(s,t){const n=At(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,t).next((u=>u?(o=u,$.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new rr(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function Cm(s,t,n){const r=At(s),o=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;ot(op,`Failed to update sequence numbers for target ${t}: ${f}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function mE(s,t,n){const r=At(s);let o=Et.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,T){const S=At(y),D=S.Fs.get(T);return D!==void 0?$.resolve(S.vs.get(D)):S.li.getTargetData(g,T)})(r,f,Ui(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?u:Ut()))).next((m=>(D2(r,pC(t),m),{documents:m,ks:u})))))}function D2(s,t,n){let r=s.Ms.get(t)||Et.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(t,r)}class pE{constructor(){this.activeTargetIds=TC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class O2{constructor(){this.vo=new pE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new pE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class M2{Mo(t){}shutdown(){}}const gE="ConnectivityMonitor";class yE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(gE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(gE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Nm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const tm="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class x2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===ch?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,n,r,o,u){const f=Nm(),m=this.Qo(t,n.toUriEncodedString());ot(tm,`Sending RPC '${t}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:g}=new URL(m),T=To(g);return this.zo(t,m,y,r,T).then((S=>(ot(tm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw po(tm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(t,n,r,o,u,f){return this.Wo(t,n,r,o,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const r=V2[t];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class L2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",Ol=(s,t,n)=>{s.listen(t,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends x2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!co.c_){const t=YT();Ol(t,GT.STAT_EVENT,(n=>{n.stat===ym.PROXY?ot(en,"STAT_EVENT: detected buffering proxy"):n.stat===ym.NOPROXY&&ot(en,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(t,n,r,o,u){const f=Nm();return new Promise(((m,y)=>{const g=new HT;g.setWithCredentials(!0),g.listenOnce(FT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case $c.NO_ERROR:const S=g.getResponseJson();ot(en,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case $c.TIMEOUT:ot(en,`RPC '${t}' ${f} timed out`),y(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const D=g.getStatus();if(ot(en,`RPC '${t}' ${f} failed with status:`,D,"response text:",g.getResponseText()),D>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const X=P?.error;if(X&&X.status&&X.message){const Z=(function(rt){const st=rt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN})(X.status);y(new ft(Z,X.message))}else y(new ft(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ft(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(en,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ot(en,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",T,r,15)}))}T_(t,n,r){const o=Nm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=u.join("");ot(en,`Creating RPC '${t}' stream ${o}: ${g}`,m);const T=f.createWebChannel(g,m);this.I_(T);let S=!1,D=!1;const P=new L2({Ho:X=>{D?ot(en,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(S||(ot(en,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),ot(en,`RPC '${t}' stream ${o} sending:`,X),T.send(X))},Jo:()=>T.close()});return Ol(T,xl.EventType.OPEN,(()=>{D||(ot(en,`RPC '${t}' stream ${o} transport opened.`),P.i_())})),Ol(T,xl.EventType.CLOSE,(()=>{D||(D=!0,ot(en,`RPC '${t}' stream ${o} transport closed`),P.o_(),this.E_(T))})),Ol(T,xl.EventType.ERROR,(X=>{D||(D=!0,po(en,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),P.o_(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),Ol(T,xl.EventType.MESSAGE,(X=>{if(!D){const Z=X.data[0];Yt(!!Z,16349);const W=Z,rt=W?.error||W[0]?.error;if(rt){ot(en,`RPC '${t}' stream ${o} received error:`,rt);const st=rt.status;let ct=(function(yt){const C=Me[yt];if(C!==void 0)return R0(C)})(st),It=rt.message;ct===void 0&&(ct=J.INTERNAL,It="Unknown error status: "+st+" with message "+rt.message),D=!0,P.o_(new ft(ct,It)),T.close()}else ot(en,`RPC '${t}' stream ${o} received:`,Z),P.__(Z)}})),co.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KT()}}function k2(s){return new co(s)}function em(){return typeof document<"u"?document:null}function Ph(s){return new jC(s,!0)}co.c_=!1;class B0{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _E="PersistentStream";class q0{constructor(t,n,r,o,u,f,m,y){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(vs(n.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new ft(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ot(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P2 extends q0{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=HC(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Et.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?zi(f.readTime):Et.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Im(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Am(y)?{documents:YC(u,y)}:{query:KC(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=N0(u,f.resumeToken);const g=bm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Et.min())>0){m.readTime=gh(u,f.snapshotVersion.toTimestamp());const g=bm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=$C(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Im(this.serializer),n.removeTarget=t,this.K_(n)}}class U2 extends q0{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=GC(t.writeResults,t.commitTime),r=zi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Im(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>FC(this.serializer,r)))};this.K_(n)}}class z2{}class j2 extends z2{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,wm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(J.UNKNOWN,u.toString())}))}jo(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,wm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function B2(s,t,n,r){return new j2(s,t,n,r)}class q2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class H2{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{fa(this)&&(ot(ia,"Restarting streams for network reachability change."),await(async function(y){const g=At(y);g.Ea.add(4),await uu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Uh(g)})(this))}))})),this.Va=new q2(r,o)}}async function Uh(s){if(fa(s))for(const t of s.Ra)await t(!0)}async function uu(s){for(const t of s.Ra)await t(!1)}function H0(s,t){const n=At(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),hp(n)?cp(n):Io(n).O_()&&up(n,t))}function lp(s,t){const n=At(s),r=Io(n);n.Ia.delete(t),r.O_()&&F0(n,t),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Va.set("Unknown"))}function up(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Io(s).Z_(t)}function F0(s,t){s.da.$e(t),Io(s).X_(t)}function cp(s){s.da=new kC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Io(s).start(),s.Va.ua()}function hp(s){return fa(s)&&!Io(s).x_()&&s.Ia.size>0}function fa(s){return At(s).Ea.size===0}function G0(s){s.da=void 0}async function F2(s){s.Va.set("Online")}async function G2(s){s.Ia.forEach(((t,n)=>{up(s,t)}))}async function Y2(s,t){G0(s),hp(s)?(s.Va.ha(t),cp(s)):s.Va.set("Unknown")}async function K2(s,t,n){if(s.Va.set("Online"),t instanceof C0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,t)}catch(r){ot(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await _h(s,r)}else if(t instanceof Wc?s.da.Xe(t):t instanceof I0?s.da.st(t):s.da.tt(t),!n.isEqual(Et.min()))try{const r=await j0(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(We.EMPTY_BYTE_STRING,T.snapshotVersion)),F0(u,y);const S=new rr(T.target,y,g,T.sequenceNumber);up(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){ot(ia,"Failed to raise snapshot:",r),await _h(s,r)}}async function _h(s,t,n){if(!Ro(t))throw t;s.Ea.add(1),await uu(s),s.Va.set("Offline"),n||(n=()=>j0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ia,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Uh(s)}))}function Y0(s,t){return t().catch((n=>_h(s,n,t)))}async function zh(s){const t=At(s),n=pr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Qm;for(;Q2(t);)try{const o=await C2(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,$2(t,o)}catch(o){await _h(t,o)}K0(t)&&Q0(t)}function Q2(s){return fa(s)&&s.Ta.length<10}function $2(s,t){s.Ta.push(t);const n=pr(s);n.O_()&&n.Y_&&n.ea(t.mutations)}function K0(s){return fa(s)&&!pr(s).x_()&&s.Ta.length>0}function Q0(s){pr(s).start()}async function X2(s){pr(s).ra()}async function J2(s){const t=pr(s);for(const n of s.Ta)t.ea(n.mutations)}async function Z2(s,t,n){const r=s.Ta.shift(),o=ep.from(r,t,n);await Y0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zh(s)}async function W2(s,t){t&&pr(s).Y_&&await(async function(r,o){if((function(f){return VC(f)&&f!==J.ABORTED})(o.code)){const u=r.Ta.shift();pr(r).B_(),await Y0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zh(r)}})(s,t),K0(s)&&Q0(s)}async function vE(s,t){const n=At(s);n.asyncQueue.verifyOperationInProgress(),ot(ia,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await uu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uh(n)}async function tN(s,t){const n=At(s);t?(n.Ea.delete(2),await Uh(n)):t||(n.Ea.add(2),await uu(n),n.Va.set("Unknown"))}function Io(s){return s.ma||(s.ma=(function(n,r,o){const u=At(n);return u.sa(),new P2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:F2.bind(null,s),Yo:G2.bind(null,s),t_:Y2.bind(null,s),J_:K2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),hp(s)?cp(s):s.Va.set("Unknown")):(await s.ma.stop(),G0(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(n,r,o){const u=At(n);return u.sa(),new U2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:X2.bind(null,s),t_:W2.bind(null,s),ta:J2.bind(null,s),na:Z2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fp{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,m=new fp(t,n,f,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(s,t){if(vs("AsyncQueue",`${t}: ${s}`),Ro(s))return new ft(J.UNAVAILABLE,`${t}: ${s}`);throw s}class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=Ll(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class EE{constructor(){this.ga=new me(mt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Eo{constructor(t,n,r,o,u,f,m,y,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(t,n,ho.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class eN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class nN{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=At(n),u=o.queries;o.queries=TE(),u.forEach(((f,m)=>{for(const y of m.ba)y.onError(r)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function TE(){return new ca((s=>d0(s)),Mh)}async function iN(s,t){const n=At(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new eN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=dp(f,`Initialization of query '${io(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&mp(n)}async function sN(s,t){const n=At(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rN(s,t){const n=At(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&mp(n)}function aN(s,t,n){const r=At(s),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(t)}function mp(s){s.Ca.forEach((t=>{t.next()}))}var Dm,AE;(AE=Dm||(Dm={})).Ma="default",AE.Cache="cache";class oN{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Eo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Dm.Cache}}class $0{constructor(t){this.key=t}}class X0{constructor(t){this.key=t}}class lN{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=m0(t),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new EE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const D=o.get(T),P=Vh(this.query,S)?S:null,X=!!D&&this.mutatedKeys.has(D.key),Z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let W=!1;D&&P?D.data.isEqual(P.data)?X!==Z&&(r.track({type:3,doc:P}),W=!0):this.su(D,P)||(r.track({type:2,doc:P}),W=!0,(y&&this.eu(P,y)>0||g&&this.eu(P,g)<0)&&(m=!0)):!D&&P?(r.track({type:0,doc:P}),W=!0):D&&!P&&(r.track({type:1,doc:D}),W=!0,(y||g)&&(m=!0)),W&&(P?(f=f.add(P),u=Z?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(P,X){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:W})}};return Z(P)-Z(X)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,f.length!==0||g?{snapshot:new Eo(this.query,t.tu,u,f,t.mutatedKeys,y===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new X0(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new $0(r))})),n}cu(t){this.Za=t.ks,this.Ya=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const pp="SyncEngine";class uN{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class cN{constructor(t){this.key=t,this.hu=!1}}class hN{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((m=>d0(m)),Mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(mt.comparator),this.Au=new Map,this.Vu=new sp,this.du={},this.mu=new Map,this.fu=vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fN(s,t,n=!0){const r=nA(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await J0(r,t,n,!0),o}async function dN(s,t){const n=nA(s);await J0(n,t,!0,!1)}async function J0(s,t,n,r){const o=await N2(s.localStore,Ui(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await mN(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&H0(s.remoteStore,o),m}async function mN(s,t,n,r,o){s.pu=(S,D,P)=>(async function(Z,W,rt,st){let ct=W.view.ru(rt);ct.Ss&&(ct=await mE(Z.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,ct))));const It=st&&st.targetChanges.get(W.targetId),Dt=st&&st.targetMismatches.get(W.targetId)!=null,yt=W.view.applyChanges(ct,Z.isPrimaryClient,It,Dt);return bE(Z,W.targetId,yt.au),yt.snapshot})(s,S,D,P);const u=await mE(s.localStore,t,!0),f=new lN(t,u.ks),m=f.ru(u.documents),y=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),g=f.applyChanges(m,s.isPrimaryClient,y);bE(s,n,g.au);const T=new uN(t,n,f);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),g.snapshot}async function pN(s,t,n){const r=At(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Mh(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Cm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&lp(r.remoteStore,o.targetId),Om(r,o.targetId)})).catch(wo)):(Om(r,o.targetId),await Cm(r.localStore,o.targetId,!0))}async function gN(s,t){const n=At(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lp(n.remoteStore,r.targetId))}async function yN(s,t,n){const r=bN(s);try{const o=await(function(f,m){const y=At(f),g=oe.now(),T=m.reduce(((P,X)=>P.add(X.key)),Ut());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let X=Es(),Z=Ut();return y.xs.getEntries(P,T).next((W=>{X=W,X.forEach(((rt,st)=>{st.isValidDocument()||(Z=Z.add(rt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(P,X))).next((W=>{S=W;const rt=[];for(const st of m){const ct=CC(st,S.get(st.key).overlayedDocument);ct!=null&&rt.push(new ha(st.key,ct,a0(ct.value.mapValue),gs.exists(!0)))}return y.mutationQueue.addMutationBatch(P,g,rt,m)})).next((W=>{D=W;const rt=W.applyToLocalDocumentSet(S,Z);return y.documentOverlayCache.saveOverlays(P,W.batchId,rt)}))})).then((()=>({batchId:D.batchId,changes:g0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.du[f.currentUser.toKey()];g||(g=new me(Pt)),g=g.insert(m,y),f.du[f.currentUser.toKey()]=g})(r,o.batchId,n),await cu(r,o.changes),await zh(r.remoteStore)}catch(o){const u=dp(o,"Failed to persist write");n.reject(u)}}async function Z0(s,t){const n=At(s);try{const r=await R2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Yt(f.hu,14607):o.removedDocuments.size>0&&(Yt(f.hu,42227),f.hu=!1))})),await cu(n,r,t)}catch(r){await wo(r)}}function SE(s,t,n){const r=At(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=At(f);y.onlineState=m;let g=!1;y.queries.forEach(((T,S)=>{for(const D of S.ba)D.va(m)&&(g=!0)})),g&&mp(y)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _N(s,t,n){const r=At(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new me(mt.comparator);f=f.insert(u,rn.newNoDocument(u,Et.min()));const m=Ut().add(u),y=new kh(Et.min(),new Map,new me(Pt),f,m);await Z0(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(t),gp(r)}else await Cm(r.localStore,t,!1).then((()=>Om(r,t,n))).catch(wo)}async function vN(s,t){const n=At(s),r=t.batch.batchId;try{const o=await w2(n.localStore,t);tA(n,r,null),W0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,o)}catch(o){await wo(o)}}async function EN(s,t,n){const r=At(s);try{const o=await(function(f,m){const y=At(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return y.mutationQueue.lookupMutationBatch(g,m).next((S=>(Yt(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(g,S)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>y.localDocuments.getDocuments(g,T)))}))})(r.localStore,t);tA(r,t,n),W0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cu(r,o)}catch(o){await wo(o)}}function W0(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function tA(s,t,n){const r=At(s);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Om(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||eA(s,r)}))}function eA(s,t){s.Eu.delete(t.path.canonicalString());const n=s.Ru.get(t);n!==null&&(lp(s.remoteStore,n),s.Ru=s.Ru.remove(t),s.Au.delete(n),gp(s))}function bE(s,t,n){for(const r of n)r instanceof $0?(s.Vu.addReference(r.key,t),TN(s,r)):r instanceof X0?(ot(pp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||eA(s,r.key)):vt(19791,{wu:r})}function TN(s,t){const n=t.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(ot(pp,"New document in limbo: "+n),s.Eu.add(r),gp(s))}function gp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new mt(de.fromString(t)),r=s.fu.next();s.Au.set(r,new cN(n)),s.Ru=s.Ru.insert(n,r),H0(s.remoteStore,new rr(Ui(Wm(n.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function cu(s,t,n){const r=At(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{f.push(r.pu(y,t,n).then((g=>{if((g||n)&&r.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ap.Es(y.targetId,g);u.push(T)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(y,g){const T=At(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(g,(D=>$.forEach(D.Ts,(P=>T.persistence.referenceDelegate.addReference(S,D.targetId,P))).next((()=>$.forEach(D.Is,(P=>T.persistence.referenceDelegate.removeReference(S,D.targetId,P)))))))))}catch(S){if(!Ro(S))throw S;ot(op,"Failed to update sequence numbers: "+S)}for(const S of g){const D=S.targetId;if(!S.fromCache){const P=T.vs.get(D),X=P.snapshotVersion,Z=P.withLastLimboFreeSnapshotVersion(X);T.vs=T.vs.insert(D,Z)}}})(r.localStore,u))}async function AN(s,t){const n=At(s);if(!n.currentUser.isEqual(t)){ot(pp,"User change. New user:",t.toKey());const r=await z0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new ft(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await cu(n,r.Ns)}}function SN(s,t){const n=At(s),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function nA(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_N.bind(null,t),t.Pu.J_=rN.bind(null,t.eventManager),t.Pu.yu=aN.bind(null,t.eventManager),t}function bN(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EN.bind(null,t),t}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ph(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return b2(this.persistence,new T2,t.initialUser,this.serializer)}Cu(t){return new U0(rp.Vi,this.serializer)}Du(t){return new O2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class wN extends vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new a2(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new U0((r=>yh.Vi(r,n)),this.serializer)}}class Mm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AN.bind(null,this.syncEngine),await tN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nN})()}createDatastore(t){const n=Ph(t.databaseInfo.databaseId),r=k2(t.databaseInfo);return B2(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,m){return new H2(r,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return yE.v()?new yE:new M2})())}createSyncEngine(t,n){return(function(o,u,f,m,y,g,T){const S=new hN(o,u,f,m,y,g);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=At(n);ot(ia,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class RN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const gr="FirestoreClient";class IN{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ot(gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ot(gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=dp(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function nm(s,t){s.asyncQueue.verifyOperationInProgress(),ot(gr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await z0(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function wE(s,t){s.asyncQueue.verifyOperationInProgress();const n=await CN(s);ot(gr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>vE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>vE(t.remoteStore,o))),s._onlineComponents=t}async function CN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(gr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await nm(s,new vh)}}else ot(gr,"Using default OfflineComponentProvider"),await nm(s,new wN(void 0));return s._offlineComponents}async function iA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(gr,"Using user provided OnlineComponentProvider"),await wE(s,s._uninitializedComponentsProvider._online)):(ot(gr,"Using default OnlineComponentProvider"),await wE(s,new Mm))),s._onlineComponents}function NN(s){return iA(s).then((t=>t.syncEngine))}async function DN(s){const t=await iA(s),n=t.eventManager;return n.onListen=fN.bind(null,t.syncEngine),n.onUnlisten=pN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gN.bind(null,t.syncEngine),n}function ON(s,t,n={}){const r=new ur;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const T=new RN({next:D=>{T.Nu(),f.enqueueAndForget((()=>sN(u,S)));const P=D.docs.has(m);!P&&D.fromCache?g.reject(new ft(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&D.fromCache&&y&&y.source==="server"?g.reject(new ft(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(D)},error:D=>g.reject(D)}),S=new oN(Wm(m.path),T,{includeMetadataChanges:!0,Ka:!0});return iN(u,S)})(await DN(s),s.asyncQueue,t,n,r))),r.promise}function MN(s,t){const n=new ur;return s.asyncQueue.enqueueAndForget((async()=>yN(await NN(s),t,n))),n.promise}function sA(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const VN="ComponentProvider",RE=new Map;function xN(s,t,n,r,o){return new XI(s,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,sA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const rA="firestore.googleapis.com",IE=!0;class CE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rA,this.ssl=IE}else this.host=t.host,this.ssl=t.ssl??IE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=P0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s2)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yp{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CI;switch(r.type){case"firstParty":return new MI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=RE.get(n);r&&(ot(VN,"Removing Datastore"),RE.delete(n),r.terminate())})(this),Promise.resolve()}}function LN(s,t,n,r={}){s=Kl(s,yp);const o=To(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${n}`;o&&(JE(`https://${m}`),ZE("Firestore",!0)),u.host!==rA&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:r};if(!cr(y,f)&&(s._setSettings(y),r.mockUserToken)){let g,T;if(typeof r.mockUserToken=="string")g=r.mockUserToken,T=sn.MOCK_USER;else{g=k1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new sn(S)}s._authCredentials=new NI(new $T(g,T))}}class _p{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new _p(this.firestore,t,this._query)}}class qe{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(au(n,qe._jsonSchema))return new qe(t,r||null,new mt(de.fromString(n.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:xe("string",qe._jsonSchemaVersion),referencePath:xe("string")};class tu extends _p{constructor(t,n,r){super(t,n,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new mt(t))}withConverter(t){return new tu(this.firestore,t,this._path)}}function NE(s,t,...n){if(s=Ze(s),arguments.length===1&&(t=Ym.newId()),UI("doc","path",t),s instanceof yp){const r=de.fromString(t,...n);return qv(r),new qe(s,null,new mt(r))}{if(!(s instanceof qe||s instanceof tu))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(de.fromString(t,...n));return qv(r),new qe(s.firestore,s instanceof tu?s.converter:null,new mt(r))}}const DE="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B0(this,"async_queue_retry"),this._c=()=>{const r=em();r&&ot(DE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ro(t))throw t;ot(DE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",ME(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=fp.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ME(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class vp extends yp{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new OE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function kN(s,t){const n=typeof s=="object"?s:km(),r=typeof s=="string"?s:ch,o=oa(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=x1("firestore");u&&LN(o,...u)}return o}function aA(s){if(s._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||PN(s),s._firestoreClient}function PN(s){const t=s._freezeSettings(),n=xN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new IN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(s._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(n){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(au(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:xe("string",Fn._jsonSchemaVersion),bytes:xe("string")};class oA{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lA{constructor(t){this._methodName=t}}class ji{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(au(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:xe("string",ji._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(au(t,oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new oi(t.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:xe("string",oi._jsonSchemaVersion),vectorValues:xe("object")};const UN=/^__.*__$/;class zN{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ha(t,this.data,this.fieldMask,n,this.fieldTransforms):new ou(t,this.data,n,this.fieldTransforms)}}function uA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class Ep{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ep({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Eh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(uA(this.dataSource)&&UN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class jN{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(t)}createContext(t,n,r,o=!1){return new Ep({dataSource:t,methodName:n,targetDoc:r,path:Je.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BN(s){const t=s._freezeSettings(),n=Ph(s._databaseId);return new jN(s._databaseId,!!t.ignoreUndefinedProperties,n)}function qN(s,t,n,r,o,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,t,n,o);dA("Data must be an object, but it was:",f,r);const m=hA(r,f);let y,g;if(u.merge)y=new ai(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const D=Tp(t,S,n);if(!f.contains(D))throw new ft(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);GN(T,D)||T.push(D)}y=new ai(T),g=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,g=f.fieldTransforms;return new zN(new Hn(m),y,g)}function cA(s,t){if(fA(s=Ze(s)))return dA("Unsupported field value:",t,s),hA(s,t);if(s instanceof lA)return(function(r,o){if(!uA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let y=cA(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=oe.fromDate(r);return{timestampValue:gh(o.serializer,u)}}if(r instanceof oe){const u=new oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(o.serializer,u)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fn)return{bytesValue:N0(o.serializer,r._byteString)};if(r instanceof qe){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ip(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof oi)return(function(f,m){const y=f instanceof oi?f.toArray():f;return{mapValue:{fields:{[s0]:{stringValue:r0},[hh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return tp(m.serializer,T)}))}}}}}})(r,o);if(k0(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Km(r)}`)})(s,t)}function hA(s,t){const n={};return ZT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ua(s,((r,o)=>{const u=cA(o,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function fA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof ji||s instanceof Fn||s instanceof qe||s instanceof lA||s instanceof oi||k0(s))}function dA(s,t,n){if(!fA(n)||!XT(n)){const r=Km(n);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function Tp(s,t,n){if((t=Ze(t))instanceof oA)return t._internalPath;if(typeof t=="string")return FN(s,t);throw Eh("Field path arguments must be of type string or ",s,!1,void 0,n)}const HN=new RegExp("[~\\*/\\[\\]]");function FN(s,t,n){if(t.search(HN)>=0)throw Eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new oA(...t.split("."))._internalPath}catch{throw Eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Eh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new ft(J.INVALID_ARGUMENT,m+s+y)}function GN(s,t){return s.some((n=>n.isEqual(t)))}class YN{convertValue(t,n="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ua(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[hh].arrayValue?.values?.map((r=>Se(r.doubleValue)));return new oi(n)}convertGeoPoint(t){return new ji(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Dh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(t));default:return null}}convertTimestamp(t){const n=fr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=de.fromString(t);Yt(L0(r),9688,{name:t});const o=new Xl(r.get(1),r.get(3)),u=new mt(r.popFirst(5));return o.isEqual(n)||vs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class KN extends YN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,n)}}const VE="@firebase/firestore",xE="4.10.0";class mA{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Tp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QN extends mA{data(){return super.data()}}function $N(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Pl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wr extends mA{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Tp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Wr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:xe("string",Wr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class th extends Wr{data(t={}){return super.data(t)}}class Fl{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:XN(m.type),doc:y,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:xe("string",Fl._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};function JN(s){s=Kl(s,qe);const t=Kl(s.firestore,vp),n=aA(t);return ON(n,s._key).then((r=>tD(t,s,r)))}function ZN(s,t,n){s=Kl(s,qe);const r=Kl(s.firestore,vp),o=$N(s.converter,t),u=BN(r);return WN(r,[qN(u,"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,gs.none())])}function WN(s,t){const n=aA(s);return MN(n,t)}function tD(s,t,n){const r=n.docs.get(t._key),o=new KN(s);return new Wr(s,o,t._key,r,new Pl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){II(Ao),Bi(new li("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new vp(new DI(r.getProvider("auth-internal")),new VI(f,r.getProvider("app-check-internal")),JI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Gn(VE,xE,t),Gn(VE,xE,"esm2020")})();var eD="firebase",nD="12.8.0";Gn(eD,nD,"app");const pA="@firebase/installations",Ap="0.6.19";const gA=1e4,yA=`w:${Ap}`,_A="FIS_v2",iD="https://firebaseinstallations.googleapis.com/v1",sD=3600*1e3,rD="installations",aD="Installations";const oD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sa=new aa(rD,aD,oD);function vA(s){return s instanceof ci&&s.code.includes("request-failed")}function EA({projectId:s}){return`${iD}/projects/${s}/installations`}function TA(s){return{token:s.token,requestStatus:2,expiresIn:uD(s.expiresIn),creationTime:Date.now()}}async function AA(s,t){const r=(await t.json()).error;return sa.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function SA({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function lD(s,{refreshToken:t}){const n=SA(s);return n.append("Authorization",cD(t)),n}async function bA(s){const t=await s();return t.status>=500&&t.status<600?s():t}function uD(s){return Number(s.replace("s","000"))}function cD(s){return`${_A} ${s}`}async function hD({appConfig:s,heartbeatServiceProvider:t},{fid:n}){const r=EA(s),o=SA(s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:_A,appId:s.appId,sdkVersion:yA},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await bA(()=>fetch(r,m));if(y.ok){const g=await y.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:TA(g.authToken)}}else throw await AA("Create Installation",y)}function wA(s){return new Promise(t=>{setTimeout(t,s)})}function fD(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const dD=/^[cdef][\w-]{21}$/,Vm="";function mD(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=pD(s);return dD.test(n)?n:Vm}catch{return Vm}}function pD(s){return fD(s).substr(0,22)}function jh(s){return`${s.appName}!${s.appId}`}const RA=new Map;function IA(s,t){const n=jh(s);CA(n,t),gD(n,t)}function CA(s,t){const n=RA.get(s);if(n)for(const r of n)r(t)}function gD(s,t){const n=yD();n&&n.postMessage({key:s,fid:t}),_D()}let Zr=null;function yD(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=s=>{CA(s.data.key,s.data.fid)}),Zr}function _D(){RA.size===0&&Zr&&(Zr.close(),Zr=null)}const vD="firebase-installations-database",ED=1,ra="firebase-installations-store";let im=null;function Sp(){return im||(im=sT(vD,ED,{upgrade:(s,t)=>{t===0&&s.createObjectStore(ra)}})),im}async function Th(s,t){const n=jh(s),o=(await Sp()).transaction(ra,"readwrite"),u=o.objectStore(ra),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&IA(s,t.fid),t}async function NA(s){const t=jh(s),r=(await Sp()).transaction(ra,"readwrite");await r.objectStore(ra).delete(t),await r.done}async function Bh(s,t){const n=jh(s),o=(await Sp()).transaction(ra,"readwrite"),u=o.objectStore(ra),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&IA(s,m.fid),m}async function bp(s){let t;const n=await Bh(s.appConfig,r=>{const o=TD(r),u=AD(s,o);return t=u.registrationPromise,u.installationEntry});return n.fid===Vm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function TD(s){const t=s||{fid:mD(),registrationStatus:0};return DA(t)}function AD(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(sa.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=SD(s,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:bD(s)}:{installationEntry:t}}async function SD(s,t){try{const n=await hD(s,t);return Th(s.appConfig,n)}catch(n){throw vA(n)&&n.customData.serverCode===409?await NA(s.appConfig):await Th(s.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function bD(s){let t=await LE(s.appConfig);for(;t.registrationStatus===1;)await wA(100),t=await LE(s.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await bp(s);return r||n}return t}function LE(s){return Bh(s,t=>{if(!t)throw sa.create("installation-not-found");return DA(t)})}function DA(s){return wD(s)?{fid:s.fid,registrationStatus:0}:s}function wD(s){return s.registrationStatus===1&&s.registrationTime+gA<Date.now()}async function RD({appConfig:s,heartbeatServiceProvider:t},n){const r=ID(s,n),o=lD(s,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:yA,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await bA(()=>fetch(r,m));if(y.ok){const g=await y.json();return TA(g)}else throw await AA("Generate Auth Token",y)}function ID(s,{fid:t}){return`${EA(s)}/${t}/authTokens:generate`}async function wp(s,t=!1){let n;const r=await Bh(s.appConfig,u=>{if(!OA(u))throw sa.create("not-registered");const f=u.authToken;if(!t&&DD(f))return u;if(f.requestStatus===1)return n=CD(s,t),u;{if(!navigator.onLine)throw sa.create("app-offline");const m=MD(u);return n=ND(s,m),m}});return n?await n:r.authToken}async function CD(s,t){let n=await kE(s.appConfig);for(;n.authToken.requestStatus===1;)await wA(100),n=await kE(s.appConfig);const r=n.authToken;return r.requestStatus===0?wp(s,t):r}function kE(s){return Bh(s,t=>{if(!OA(t))throw sa.create("not-registered");const n=t.authToken;return VD(n)?{...t,authToken:{requestStatus:0}}:t})}async function ND(s,t){try{const n=await RD(s,t),r={...t,authToken:n};return await Th(s.appConfig,r),n}catch(n){if(vA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await NA(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Th(s.appConfig,r)}throw n}}function OA(s){return s!==void 0&&s.registrationStatus===2}function DD(s){return s.requestStatus===2&&!OD(s)}function OD(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+sD}function MD(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function VD(s){return s.requestStatus===1&&s.requestTime+gA<Date.now()}async function xD(s){const t=s,{installationEntry:n,registrationPromise:r}=await bp(t);return r?r.catch(console.error):wp(t).catch(console.error),n.fid}async function LD(s,t=!1){const n=s;return await kD(n),(await wp(n,t)).token}async function kD(s){const{registrationPromise:t}=await bp(s);t&&await t}function PD(s){if(!s||!s.options)throw sm("App Configuration");if(!s.name)throw sm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!s.options[n])throw sm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function sm(s){return sa.create("missing-app-config-values",{valueName:s})}const MA="installations",UD="installations-internal",zD=s=>{const t=s.getProvider("app").getImmediate(),n=PD(t),r=oa(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jD=s=>{const t=s.getProvider("app").getImmediate(),n=oa(t,MA).getImmediate();return{getId:()=>xD(n),getToken:o=>LD(n,o)}};function BD(){Bi(new li(MA,zD,"PUBLIC")),Bi(new li(UD,jD,"PRIVATE"))}BD();Gn(pA,Ap);Gn(pA,Ap,"esm2020");const Ah="analytics",qD="firebase_id",HD="origin",FD=60*1e3,GD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rp="https://www.googletagmanager.com/gtag/js";const un=new bh("@firebase/analytics");const YD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new aa("analytics","Analytics",YD);function KD(s){if(!s.startsWith(Rp)){const t=In.create("invalid-gtag-resource",{gtagURL:s});return un.warn(t.message),""}return s}function VA(s){return Promise.all(s.map(t=>t.catch(n=>n)))}function QD(s,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,t)),n}function $D(s,t){const n=QD("firebase-js-sdk-policy",{createScriptURL:KD}),r=document.createElement("script"),o=`${Rp}?l=${s}&id=${t}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function XD(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function JD(s,t,n,r,o,u){const f=r[o];try{if(f)await t[f];else{const y=(await VA(n)).find(g=>g.measurementId===o);y&&await t[y.appId]}}catch(m){un.error(m)}s("config",o,u)}async function ZD(s,t,n,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await VA(n);for(const y of f){const g=m.find(S=>S.measurementId===y),T=g&&t[g.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),s("event",r,o||{})}catch(u){un.error(u)}}function WD(s,t,n,r){async function o(u,...f){try{if(u==="event"){const[m,y]=f;await ZD(s,t,n,m,y)}else if(u==="config"){const[m,y]=f;await JD(s,t,n,r,m,y)}else if(u==="consent"){const[m,y]=f;s("consent",m,y)}else if(u==="get"){const[m,y,g]=f;s("get",m,y,g)}else if(u==="set"){const[m]=f;s("set",m)}else s(u,...f)}catch(m){un.error(m)}}return o}function tO(s,t,n,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=WD(u,s,t,n),{gtagCore:u,wrappedGtag:window[o]}}function eO(s){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Rp)&&n.src.includes(s))return n;return null}const nO=30,iO=1e3;class sO{constructor(t={},n=iO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const xA=new sO;function rO(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function aO(s){const{appId:t,apiKey:n}=s,r={method:"GET",headers:rO(n)},o=GD.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function oO(s,t=xA,n){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw In.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw In.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new cO;return setTimeout(async()=>{m.abort()},FD),LA({appId:r,apiKey:o,measurementId:u},f,m,t)}async function LA(s,{throttleEndTimeMillis:t,backoffCount:n},r,o=xA){const{appId:u,measurementId:f}=s;try{await lO(r,t)}catch(m){if(f)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await aO(s);return o.deleteThrottleMetadata(u),m}catch(m){const y=m;if(!uO(y)){if(o.deleteThrottleMetadata(u),f)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(y?.customData?.httpStatus)===503?hv(n,o.intervalMillis,nO):hv(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,T),un.debug(`Calling attemptFetch again in ${g} millis`),LA(s,T,r,o)}}function lO(s,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(u),r(In.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function uO(s){if(!(s instanceof ci)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class cO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function hO(s,t,n,r,o){if(o&&o.global){s("event",n,r);return}else{const u=await t,f={...r,send_to:u};s("event",n,f)}}async function fO(s,t,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return s("set",o),Promise.resolve()}else{const o=await t;s("config",o,{update:!0,user_properties:n})}}async function dO(){if(tT())try{await eT()}catch(s){return un.warn(In.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return un.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mO(s,t,n,r,o,u,f){const m=oO(s);m.then(D=>{n[D.measurementId]=D.appId,s.options.measurementId&&D.measurementId!==s.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>un.error(D)),t.push(m);const y=dO().then(D=>{if(D)return r.getId()}),[g,T]=await Promise.all([m,y]);eO(u)||$D(u,g.measurementId),o("js",new Date);const S=f?.config??{};return S[HD]="firebase",S.update=!0,T!=null&&(S[qD]=T),o("config",g.measurementId,S),g.measurementId}class pO{constructor(t){this.app=t}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},PE=[];const UE={};let rm="dataLayer",gO="gtag",zE,Ip,jE=!1;function yO(){const s=[];if(WE()&&s.push("This is a browser extension environment."),G1()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:t});un.warn(n.message)}}function _O(s,t,n){yO();const r=s.options.appId;if(!r)throw In.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(fo[r]!=null)throw In.create("already-exists",{id:r});if(!jE){XD(rm);const{wrappedGtag:u,gtagCore:f}=tO(fo,PE,UE,rm,gO);Ip=u,zE=f,jE=!0}return fo[r]=mO(s,PE,UE,t,zE,rm,n),new pO(s)}function vO(s=km()){s=Ze(s);const t=oa(s,Ah);return t.isInitialized()?t.getImmediate():EO(s)}function EO(s,t={}){const n=oa(s,Ah);if(n.isInitialized()){const o=n.getImmediate();if(cr(t,n.getOptions()))return o;throw In.create("already-initialized")}return n.initialize({options:t})}function TO(s,t,n){s=Ze(s),fO(Ip,fo[s.app.options.appId],t,n).catch(r=>un.error(r))}function AO(s,t,n,r){s=Ze(s),hO(Ip,fo[s.app.options.appId],t,n,r).catch(o=>un.error(o))}const BE="@firebase/analytics",qE="0.10.19";function SO(){Bi(new li(Ah,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return _O(r,o,n)},"PUBLIC")),Bi(new li("analytics-internal",s,"PRIVATE")),Gn(BE,qE),Gn(BE,qE,"esm2020");function s(t){try{const n=t.getProvider(Ah).getImmediate();return{logEvent:(r,o,u)=>AO(n,r,o,u),setUserProperties:(r,o)=>TO(n,r,o)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}SO();const bO={apiKey:"AIzaSyBfkr6N4fM1TBGuMNZuUsyiesGn8c3-ONk",authDomain:"metro-roulette.firebaseapp.com",projectId:"metro-roulette",storageBucket:"metro-roulette.firebasestorage.app",messagingSenderId:"1069264313204",appId:"1:1069264313204:web:0d1b81b3a78720ecf66a21",measurementId:"G-SKMZHD6C8B"},Cp=rT(bO);vO(Cp);const qc=wI(Cp),HE=kN(Cp),kA=tt.createContext(),Np=()=>{const s=tt.useContext(kA);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},wO=({children:s})=>{const[t,n]=tt.useState(null),[r,o]=tt.useState(null),[u,f]=tt.useState(!0),m=async(D,P,X)=>{const W=(await oR(qc,D,P)).user;return await cR(W,{displayName:X}),await ZN(NE(HE,"users",W.uid),{displayName:X,email:D,createdAt:new Date().toISOString(),gamesPlayed:0,stationsVisited:[],achievements:[]}),W},y=(D,P)=>lR(qc,D,P),g=()=>mR(qc),T=async D=>{try{const P=NE(HE,"users",D),X=await JN(P);X.exists()&&o(X.data())}catch(P){console.error("Error loading user profile:",P)}};tt.useEffect(()=>dR(qc,async P=>{n(P),P?await T(P.uid):o(null),f(!1)}),[]);const S={currentUser:t,userProfile:r,signup:m,login:y,logout:g,loading:u};return k.jsx(kA.Provider,{value:S,children:!u&&s})},am={paris:{id:"paris",name:"Paris",country:"France",flag:"",systemName:"Mtro",language:"fr",bounds:{minLat:48.72,maxLat:48.95,minLng:2.22,maxLng:2.47},text:{selectStation:"Slectionnez une station de dpart",selectLine:"Choisissez une ligne",selectDirection:"Choisissez une direction",spinRoulette:"Faites tourner la roulette !",confirmExit:"Sortie ! Validez-vous cette destination ?",exitConfirmed:"Vous sortez ",stayInMetro:"Vous restez dans le mtro ! Relancez la roulette !",advanceTo:"Vous avancez ",relaunch:"Relancez la roulette !",endOfLine:"Fin de ligne ! Vous faites demi-tour.",changeLine:"Changement ! Vous prenez la",exploreNearby:"Explorez les alentours de",walkingDirections:"Itinraire  pied",searchingPlaces:"Recherche des lieux  proximit...",direction:"Direction",forward:"Direction 1",backward:"Direction 2"},placeTypes:{restaurant:"",monument:"",muse:"",parc:"",shopping:"",caf:"",bar:"",autre:""}},london:{id:"london",name:"London",country:"United Kingdom",flag:"",systemName:"Tube",language:"en",bounds:{minLat:51.38,maxLat:51.72,minLng:-.62,maxLng:.28},text:{selectStation:"Select a starting station",selectLine:"Choose a line",selectDirection:"Choose a direction",spinRoulette:"Spin the roulette!",confirmExit:"Exit! Do you confirm this destination?",exitConfirmed:"You exit at",stayInMetro:"You stay on the tube! Spin again!",advanceTo:"You advance to",relaunch:"Spin the roulette!",endOfLine:"End of the line! You turn around.",changeLine:"Change! You take the",exploreNearby:"Explore around",walkingDirections:"Walking directions",searchingPlaces:"Searching for nearby places...",direction:"Direction",forward:"Direction 1",backward:"Direction 2"},placeTypes:{restaurant:"",monument:"",museum:"",park:"",shopping:"",caf:"",pub:"",other:""}},singapore:{id:"singapore",name:"Singapore",country:"Singapore",flag:"",systemName:"MRT",language:"en",bounds:{minLat:1.24,maxLat:1.47,minLng:103.6,maxLng:104.05},text:{selectStation:"Select a starting station",selectLine:"Choose a line",selectDirection:"Choose a direction",spinRoulette:"Spin the roulette!",confirmExit:"Exit! Do you confirm this destination?",exitConfirmed:"You exit at",stayInMetro:"You stay on the MRT! Spin again!",advanceTo:"You advance to",relaunch:"Spin the roulette!",endOfLine:"End of the line! You turn around.",changeLine:"Change! You take the",exploreNearby:"Explore around",walkingDirections:"Walking directions",searchingPlaces:"Searching for nearby places...",direction:"Direction",forward:"Direction 1",backward:"Direction 2"},placeTypes:{restaurant:"",monument:"",museum:"",park:"",shopping:"",caf:"",hawker:"",other:""}}},PA=tt.createContext(null);function RO({children:s}){const[t,n]=tt.useState("paris"),r=tt.useMemo(()=>am[t],[t]),o=tt.useCallback(m=>{am[m]&&n(m)},[]),u=tt.useMemo(()=>Object.values(am),[]),f=tt.useMemo(()=>({currentCity:t,cityConfig:r,switchCity:o,availableCities:u}),[t,r,o,u]);return k.jsx(PA.Provider,{value:f,children:s})}function Co(){const s=tt.useContext(PA);if(!s)throw new Error("useCity must be used within a CityProvider");return s}const IO={minLat:48.72,maxLat:48.95,minLng:2.22,maxLng:2.47},Dp=1e3,Op=850,Hc=40;function CO(s,t,n=IO){const r=Hc+(t-n.minLng)/(n.maxLng-n.minLng)*(Dp-2*Hc),o=Hc+(n.maxLat-s)/(n.maxLat-n.minLat)*(Op-2*Hc);return{x:r,y:o}}function NO(s){return function(t,n){return CO(t,n,s)}}const nn={SELECT_STATION:"SELECT_STATION",SELECT_LINE:"SELECT_LINE",SELECT_DIRECTION:"SELECT_DIRECTION",PLAYING:"PLAYING",CONFIRM_EXIT:"CONFIRM_EXIT",WON:"WON"},Ve={continue:{type:"continue",label:"",color:"#22c55e"},change:{type:"change",label:"",color:"#3b82f6"},exit:{type:"exit",label:"",color:"#ef4444"}},UA=[Ve.continue,Ve.change,Ve.continue,Ve.exit,Ve.continue,Ve.change,Ve.continue,Ve.change,Ve.continue,Ve.exit],zA=[Ve.continue,Ve.continue,Ve.continue,Ve.continue,Ve.exit,Ve.continue,Ve.continue,Ve.continue,Ve.continue,Ve.exit],DO=["13-saint-denis","13-courtilles","13","12","14","7","7-villejuif","7-ivry","7bis","5","10","8","6","4","3","3bis","2","9","11","1"],OO={start:"",move:"",change:"",reverse:"",exit:""};function MO(){const[s,t]=tt.useState(1),[n,r]=tt.useState({x:0,y:0}),[o,u]=tt.useState(!1),[f,m]=tt.useState({x:0,y:0}),y=tt.useCallback(st=>{st.preventDefault();const ct=st.deltaY>0?-.1:.1;t(It=>Math.min(Math.max(.5,It+ct),4))},[]),g=tt.useCallback(st=>{st.button===0&&(st.ctrlKey||st.metaKey||s>1)&&(u(!0),m({x:st.clientX-n.x,y:st.clientY-n.y}))},[n,s]),T=tt.useCallback(st=>{o&&r({x:st.clientX-f.x,y:st.clientY-f.y})},[o,f]),S=tt.useCallback(()=>{u(!1)},[]),D=tt.useCallback(()=>{t(1),r({x:0,y:0})},[]),P=tt.useCallback(()=>t(st=>Math.min(st+.25,4)),[]),X=tt.useCallback(()=>t(st=>Math.max(st-.25,.5)),[]),Z=tt.useCallback((st,ct)=>{if(st&&ct.current){const Dt=ct.current.getBoundingClientRect(),yt=Dt.width/Dp,C=Dt.height/Op,b=Math.min(yt,C),w=st.x*b*s,O=st.y*b*s;r({x:Dt.width/2-w,y:Dt.height/2-O})}},[s]),W=tt.useMemo(()=>({onWheel:y,onMouseDown:g,onMouseMove:T,onMouseUp:S,onMouseLeave:S}),[y,g,T,S]),rt=tt.useMemo(()=>({zoomIn:P,zoomOut:X,resetZoom:D,centerOnStation:Z}),[P,X,D,Z]);return{zoom:s,pan:n,isPanning:o,handlers:W,controls:rt}}const VO="modulepreload",xO=function(s){return"/metro-exploration/"+s},FE={},fs=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let g=function(T){return Promise.all(T.map(S=>Promise.resolve(S).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};var f=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=m?.nonce||m?.getAttribute("nonce");o=g(n.map(T=>{if(T=xO(T),T in FE)return;FE[T]=!0;const S=T.endsWith(".css"),D=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${D}`))return;const P=document.createElement("link");if(P.rel=S?"stylesheet":VO,S||(P.as="script"),P.crossOrigin="",P.href=T,y&&P.setAttribute("nonce",y),document.head.appendChild(P),S)return new Promise((X,Z)=>{P.addEventListener("load",X),P.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${T}`)))})}))}function u(m){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=m,window.dispatchEvent(y),!y.defaultPrevented)throw m}return o.then(m=>{for(const y of m||[])y.status==="rejected"&&u(y.reason);return t().catch(u)})},LO={paris:{lines:()=>fs(()=>import("./lines-DKC3LBRJ.js"),[]),stations:()=>fs(()=>import("./stations-BvdBWRUB.js"),[]),recommendations:()=>fs(()=>import("./station_recommendations-pmJVw7cv.js"),[])},london:{lines:()=>fs(()=>import("./lines-Cow139u5.js"),[]),stations:()=>fs(()=>import("./stations-misIASpa.js"),[]),recommendations:()=>fs(()=>import("./station_recommendations-BGvxa503.js"),[])},singapore:{lines:()=>fs(()=>import("./lines-WJPftiJY.js"),[]),stations:()=>fs(()=>import("./stations-CQ2Wof0K.js"),[]),recommendations:()=>fs(()=>import("./station_recommendations-FmFgRqLi.js"),[])}},kO=1e3,PO=850,Fc=40;function UO(s){return function(n,r){const o=Fc+(r-s.minLng)/(s.maxLng-s.minLng)*(kO-2*Fc),u=Fc+(s.maxLat-n)/(s.maxLat-s.minLat)*(PO-2*Fc);return{x:o,y:u}}}function zO(){const{currentCity:s,cityConfig:t}=Co(),[n,r]=tt.useState({stations:{},lines:{}}),[o,u]=tt.useState([]),[f,m]=tt.useState({}),[y,g]=tt.useState(!0),[T,S]=tt.useState(null);tt.useEffect(()=>{async function w(){g(!0),S(null);try{const O=LO[s];if(!O)throw new Error(`No data available for city: ${s}`);const[R,V,I]=await Promise.all([O.stations(),O.lines(),O.recommendations()]);r(R.default),u(V.default),m(I.default)}catch(O){console.error("Failed to load city data:",O),S(O.message)}finally{g(!1)}}w()},[s]);const{stations:D,lines:P}=n,X=tt.useMemo(()=>UO(t.bounds),[t.bounds]),Z=tt.useMemo(()=>{const w={};return Object.entries(D).forEach(([O,R])=>{const{x:V,y:I}=X(R.lat,R.lng);w[O]={...R,id:O,x:V,y:I,isInterchange:R.lines.length>1}}),w},[D,X]),W=tt.useMemo(()=>Object.values(Z),[Z]),rt=tt.useCallback(w=>w.split("-")[0],[]),st=tt.useCallback(w=>o.find(O=>O.id===rt(w)),[rt,o]),ct=tt.useCallback(w=>st(w)?.color||"#ffffff",[st]),It=tt.useCallback(w=>{const O=P[w];return O?O.map(R=>Z[R]).filter(Boolean):[]},[P,Z]),Dt=tt.useCallback(w=>{const O=[];return Object.entries(P).forEach(([R,V])=>{V.includes(w)&&O.push(R)}),O},[P]),yt=tt.useCallback((w,O,R)=>{if(!w||!O)return null;const V=P[O];if(!V)return null;const I=V.indexOf(w.id);if(I===-1)return null;const Vt=I+R;return Vt<0||Vt>=V.length?null:Z[V[Vt]]},[P,Z]),C=tt.useCallback((w,O)=>{const R={forward:t.text.forward,backward:t.text.backward};if(!w||!O)return R;const V=P[O];if(!V)return R;const I=Z[V[0]]?.name||"Terminus";return{forward:` ${Z[V[V.length-1]]?.name||"Terminus"}`,backward:` ${I}`}},[P,Z,t.text]),b=tt.useCallback(w=>f[w]||[],[f]);return{stations:D,lines:P,processedStations:Z,allStations:W,linesData:o,recommendationsData:f,isLoading:y,error:T,latLngToSvg:X,getLineData:st,getLineColor:ct,getLineStations:It,getLinesForStation:Dt,getNextStation:yt,getDirectionLabels:C,getRecommendations:b}}function jO({onClose:s}){const[t,n]=tt.useState(!0),[r,o]=tt.useState(""),[u,f]=tt.useState(""),[m,y]=tt.useState(""),[g,T]=tt.useState(""),[S,D]=tt.useState(!1),{signup:P,login:X}=Np(),Z=async W=>{W.preventDefault(),T(""),D(!0);try{if(t)await X(r,u);else{if(!m){T("Le nom est requis"),D(!1);return}await P(r,u,m)}s()}catch(rt){switch(console.error("Auth error:",rt),rt.code){case"auth/email-already-in-use":T("Cet email est dj utilis");break;case"auth/invalid-email":T("Email invalide");break;case"auth/weak-password":T("Le mot de passe doit contenir au moins 6 caractres");break;case"auth/user-not-found":case"auth/wrong-password":T("Email ou mot de passe incorrect");break;default:T("Une erreur est survenue")}}finally{D(!1)}};return k.jsx("div",{className:"auth-overlay",onClick:s,children:k.jsxs("div",{className:"auth-panel",onClick:W=>W.stopPropagation(),children:[k.jsx("button",{className:"auth-close",onClick:s,children:""}),k.jsx("h2",{children:t?"Connexion":"Inscription"}),g&&k.jsx("div",{className:"auth-error",children:g}),k.jsxs("form",{onSubmit:Z,children:[!t&&k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Nom"}),k.jsx("input",{type:"text",value:m,onChange:W=>y(W.target.value),placeholder:"Votre nom",required:!t})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Email"}),k.jsx("input",{type:"email",value:r,onChange:W=>o(W.target.value),placeholder:"exemple@email.com",required:!0})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Mot de passe"}),k.jsx("input",{type:"password",value:u,onChange:W=>f(W.target.value),placeholder:"",required:!0,minLength:6})]}),k.jsx("button",{type:"submit",className:"auth-submit",disabled:S,children:S?"Chargement...":t?"Se connecter":"S'inscrire"})]}),k.jsxs("div",{className:"auth-toggle",children:[t?"Pas encore de compte ? ":"Dj un compte ? ",k.jsx("button",{type:"button",onClick:()=>{n(!t),T("")},children:t?"S'inscrire":"Se connecter"})]})]})})}function BO({onClose:s}){const{currentUser:t,userProfile:n,logout:r}=Np(),o=async()=>{try{await r(),s()}catch(u){console.error("Logout error:",u)}};return!t||!n?null:k.jsx("div",{className:"profile-overlay",onClick:s,children:k.jsxs("div",{className:"profile-panel",onClick:u=>u.stopPropagation(),children:[k.jsx("button",{className:"profile-close",onClick:s,children:""}),k.jsxs("div",{className:"profile-header",children:[k.jsx("div",{className:"profile-avatar",children:n.displayName?.charAt(0).toUpperCase()}),k.jsx("h2",{children:n.displayName}),k.jsx("p",{className:"profile-email",children:t.email})]}),k.jsxs("div",{className:"profile-stats",children:[k.jsxs("div",{className:"stat-item",children:[k.jsx("div",{className:"stat-value",children:n.gamesPlayed||0}),k.jsx("div",{className:"stat-label",children:"Parties joues"})]}),k.jsxs("div",{className:"stat-item",children:[k.jsx("div",{className:"stat-value",children:n.stationsVisited?.length||0}),k.jsx("div",{className:"stat-label",children:"Stations visites"})]}),k.jsxs("div",{className:"stat-item",children:[k.jsx("div",{className:"stat-value",children:n.achievements?.length||0}),k.jsx("div",{className:"stat-label",children:"Succs"})]})]}),k.jsx("div",{className:"profile-info",children:k.jsxs("p",{className:"member-since",children:["Membre depuis ",new Date(n.createdAt).toLocaleDateString("fr-FR",{year:"numeric",month:"long"})]})}),k.jsx("button",{className:"logout-button",onClick:o,children:"Se dconnecter"})]})})}function qO({onCityChange:s}){const{currentCity:t,cityConfig:n,switchCity:r,availableCities:o}=Co(),[u,f]=tt.useState(!1),m=tt.useRef(null);tt.useEffect(()=>{function g(T){m.current&&!m.current.contains(T.target)&&f(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const y=g=>{g!==t&&(r(g),s?.(g)),f(!1)};return k.jsxs("div",{className:"city-selector",ref:m,children:[k.jsxs("button",{className:"city-selector__trigger",onClick:()=>f(!u),"aria-expanded":u,"aria-haspopup":"listbox",children:[k.jsx("span",{className:"city-selector__flag",children:n.flag}),k.jsx("span",{className:"city-selector__name",children:n.name}),k.jsx("span",{className:"city-selector__arrow",children:u?"":""})]}),u&&k.jsx("ul",{className:"city-selector__dropdown",role:"listbox",children:o.map(g=>k.jsxs("li",{className:`city-selector__option ${g.id===t?"city-selector__option--active":""}`,onClick:()=>y(g.id),role:"option","aria-selected":g.id===t,children:[k.jsx("span",{className:"city-selector__option-flag",children:g.flag}),k.jsxs("div",{className:"city-selector__option-info",children:[k.jsx("span",{className:"city-selector__option-name",children:g.name}),k.jsx("span",{className:"city-selector__option-system",children:g.systemName})]}),g.id===t&&k.jsx("span",{className:"city-selector__check",children:""})]},g.id))})]})}function om(){const{currentUser:s}=Np(),{cityConfig:t}=Co(),[n,r]=tt.useState(!1),[o,u]=tt.useState(!1);return k.jsxs("header",{className:"header",children:[k.jsx("div",{className:"header__left",children:k.jsx(qO,{})}),k.jsxs("div",{className:"header__center",children:[k.jsxs("div",{className:"header__title",children:[k.jsx("span",{className:"header__title-line header__title-line--1",children:"M"}),k.jsx("span",{className:"header__title-line header__title-line--4",children:""}),k.jsx("span",{className:"header__title-line header__title-line--7",children:"t"}),k.jsx("span",{className:"header__title-line header__title-line--9",children:"r"}),k.jsx("span",{className:"header__title-line header__title-line--11",children:"o"}),k.jsx("span",{className:"header__title-text",children:"Roulette"})]}),k.jsx("p",{className:"header__subtitle",children:t.language==="fr"?"O va-t-on dposer la petite meuf ?":"Where will the roulette take you?"})]}),k.jsx("div",{className:"header__auth",children:s?k.jsxs("button",{className:"header__user-button",onClick:()=>u(!0),children:[k.jsx("span",{className:"user-avatar",children:s.displayName?.charAt(0).toUpperCase()||"?"}),k.jsx("span",{className:"user-name",children:s.displayName})]}):k.jsx("button",{className:"header__login-button",onClick:()=>r(!0),children:t.language==="fr"?"Se connecter":"Sign in"})}),n&&k.jsx(jO,{onClose:()=>r(!1)}),o&&k.jsx(BO,{onClose:()=>u(!1)})]})}function HO({zoom:s,onZoomIn:t,onZoomOut:n,onReset:r,onCenter:o,showCenter:u}){return k.jsxs("div",{className:"zoom-controls",children:[k.jsx("button",{onClick:t,title:"Zoom +",children:"+"}),k.jsxs("span",{className:"zoom-controls__level",children:[Math.round(s*100),"%"]}),k.jsx("button",{onClick:n,title:"Zoom -",children:""}),k.jsx("button",{onClick:r,title:"Rinitialiser",children:""}),u&&k.jsx("button",{onClick:o,title:"Centrer sur la station",children:""})]})}function FO(s){const t=`
    M ${s(48.902,2.28).x} ${s(48.902,2.28).y}
    C ${s(48.91,2.32).x} ${s(48.91,2.32).y}
      ${s(48.905,2.38).x} ${s(48.905,2.38).y}
      ${s(48.895,2.41).x} ${s(48.895,2.41).y}
    C ${s(48.88,2.42).x} ${s(48.88,2.42).y}
      ${s(48.86,2.42).x} ${s(48.86,2.42).y}
      ${s(48.84,2.415).x} ${s(48.84,2.415).y}
    C ${s(48.825,2.4).x} ${s(48.825,2.4).y}
      ${s(48.815,2.38).x} ${s(48.815,2.38).y}
      ${s(48.815,2.35).x} ${s(48.815,2.35).y}
    C ${s(48.815,2.32).x} ${s(48.815,2.32).y}
      ${s(48.82,2.28).x} ${s(48.82,2.28).y}
      ${s(48.83,2.25).x} ${s(48.83,2.25).y}
    C ${s(48.845,2.235).x} ${s(48.845,2.235).y}
      ${s(48.86,2.23).x} ${s(48.86,2.23).y}
      ${s(48.875,2.24).x} ${s(48.875,2.24).y}
    C ${s(48.89,2.25).x} ${s(48.89,2.25).y}
      ${s(48.9,2.27).x} ${s(48.9,2.27).y}
      ${s(48.902,2.28).x} ${s(48.902,2.28).y}
    Z
  `,n=`
    M ${s(48.84,2.23).x} ${s(48.84,2.23).y}
    Q ${s(48.855,2.28).x} ${s(48.855,2.28).y}
      ${s(48.865,2.32).x} ${s(48.865,2.32).y}
    Q ${s(48.855,2.35).x} ${s(48.855,2.35).y}
      ${s(48.845,2.38).x} ${s(48.845,2.38).y}
    Q ${s(48.84,2.4).x} ${s(48.84,2.4).y}
      ${s(48.835,2.42).x} ${s(48.835,2.42).y}
  `;return{outline:t,river:n}}function GO(s){return{outline:null,river:`
    M ${s(51.47,-.3).x} ${s(51.47,-.3).y}
    Q ${s(51.48,-.22).x} ${s(51.48,-.22).y}
      ${s(51.5,-.12).x} ${s(51.5,-.12).y}
    Q ${s(51.51,-.08).x} ${s(51.51,-.08).y}
      ${s(51.5,0).x} ${s(51.5,0).y}
    Q ${s(51.49,.05).x} ${s(51.49,.05).y}
      ${s(51.48,.1).x} ${s(51.48,.1).y}
  `}}function YO(s){const t=`
    M ${s(1.26,103.62).x} ${s(1.26,103.62).y}
    Q ${s(1.265,103.7).x} ${s(1.265,103.7).y}
      ${s(1.27,103.78).x} ${s(1.27,103.78).y}
    Q ${s(1.265,103.85).x} ${s(1.265,103.85).y}
      ${s(1.28,103.88).x} ${s(1.28,103.88).y}
    Q ${s(1.29,103.92).x} ${s(1.29,103.92).y}
      ${s(1.32,103.98).x} ${s(1.32,103.98).y}
  `,n=`
    M ${s(1.29,103.84).x} ${s(1.29,103.84).y}
    Q ${s(1.288,103.845).x} ${s(1.288,103.845).y}
      ${s(1.285,103.85).x} ${s(1.285,103.85).y}
    Q ${s(1.283,103.853).x} ${s(1.283,103.853).y}
      ${s(1.28,103.855).x} ${s(1.28,103.855).y}
  `;return{outline:t,river:n}}const KO={paris:FO,london:GO,singapore:YO},QO=tt.memo(function({lineId:t,stations:n,color:r,isHighlighted:o,opacity:u,isSelecting:f,onHover:m}){if(n.length<2)return null;const y=n.map(g=>`${g.x},${g.y}`).join(" ");return k.jsx("polyline",{points:y,stroke:r,strokeWidth:o?4:2,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:u,style:{cursor:f?"pointer":"default",pointerEvents:f?"stroke":"none"},onMouseEnter:()=>f&&m(t),onMouseLeave:()=>f&&m(null)})}),$O=tt.memo(function({station:t,color:n,currentLineColor:r,isCurrentStation:o,isHovered:u,shouldDim:f,canSelect:m,onClick:y,onHover:g}){const T=t.isInterchange?5:3;return k.jsxs("g",{opacity:f?.15:1,onMouseEnter:()=>g(t),onMouseLeave:()=>g(null),children:[o&&k.jsxs(k.Fragment,{children:[k.jsx("circle",{cx:t.x,cy:t.y,r:25,fill:r,className:"metro-map__station-glow-outer"}),k.jsx("circle",{cx:t.x,cy:t.y,r:15,fill:r,className:"metro-map__station-glow"})]}),k.jsx("circle",{cx:t.x,cy:t.y,r:o?8:u?T+2:T,fill:t.isInterchange?"#ffffff":n,stroke:t.isInterchange?n:"#0d1117",strokeWidth:t.isInterchange?2:1,className:`metro-map__station ${m?"metro-map__station--selectable":""}`,onClick:()=>m&&y(t),style:{pointerEvents:m?"auto":"none"}}),o&&!u&&k.jsx("text",{x:t.x,y:t.y-15,textAnchor:"middle",fill:"#ffffff",fontSize:"10",fontWeight:"bold",className:"metro-map__station-label",children:t.name})]})}),XO=tt.forwardRef(function({gameState:t,allStations:n,lines:r,currentStation:o,currentLine:u,hoveredStation:f,hoveredLine:m,canSelectStation:y,zoom:g,pan:T,isPanning:S,zoomHandlers:D,zoomControls:P,getLineColor:X,getLineStations:Z,onStationClick:W,onStationHover:rt,onLineHover:st},ct){const{currentCity:It,cityConfig:Dt}=Co(),yt=t===nn.SELECT_STATION,C=tt.useMemo(()=>{const R=NO(Dt.bounds),V=KO[It];return V?V(R):{outline:null,river:null}},[It,Dt.bounds]),b=tt.useMemo(()=>It==="paris"?DO.filter(R=>r[R]):Object.keys(r),[It,r]),w=tt.useMemo(()=>R=>{const V=Z(R);if(V.length<2)return null;const I=X(R),Vt=u===R,ie=m===R,F=r[R]||[],et=f&&F.includes(f.id);let lt=.8,Ct=Vt||ie;return u?lt=Vt?.9:.15:yt&&f?(lt=et?1:.15,Ct=et):yt&&m&&(lt=ie?1:.15),{stations:V,color:I,isHighlighted:Ct,opacity:lt}},[u,m,f,yt,Z,X,r]),O=tt.useMemo(()=>R=>{const V=u?r[u]||[]:[],I=m?r[m]||[]:[],Vt=V.includes(R.id),ie=I.includes(R.id),F=o?.id===R.id,et=f?.id===R.id,lt=f&&R.lines.some(Ct=>f.lines.includes(Ct));return u?!Vt&&!F:yt&&f?!lt&&!et:yt&&m?!ie:!1},[u,m,f,o,yt,r]);return k.jsxs("div",{className:"metro-map",ref:ct,...D,children:[k.jsx(HO,{zoom:g,onZoomIn:P.zoomIn,onZoomOut:P.zoomOut,onReset:P.resetZoom,onCenter:()=>P.centerOnStation(o,ct),showCenter:!!o}),k.jsxs("svg",{viewBox:`0 0 ${Dp} ${Op}`,className:"metro-map__svg",style:{transform:`scale(${g}) translate(${T.x/g}px, ${T.y/g}px)`,transformOrigin:"center center",cursor:S?"grabbing":g>1?"grab":"default"},children:[k.jsx("rect",{width:"100%",height:"100%",fill:"#0d1117"}),C.outline&&k.jsx("path",{d:C.outline,fill:"none",stroke:"rgba(255, 255, 255, 0.08)",strokeWidth:"2"}),C.river&&k.jsx("path",{d:C.river,fill:"none",stroke:"rgba(100, 150, 200, 0.12)",strokeWidth:"8",strokeLinecap:"round"}),k.jsx("g",{className:"metro-map__lines",children:b.map(R=>{const V=w(R);return V?k.jsx(QO,{lineId:R,...V,isSelecting:yt,onHover:st},R):null})}),k.jsx("g",{className:"metro-map__stations",children:n.map(R=>k.jsx($O,{station:R,color:X(R.lines[0]),currentLineColor:X(u||R.lines[0]),isCurrentStation:o?.id===R.id,isHovered:f?.id===R.id,shouldDim:O(R),canSelect:y,onClick:W,onHover:rt},R.id))}),f&&k.jsxs("g",{className:"metro-map__tooltip",children:[k.jsx("rect",{x:f.x-60,y:f.y-28,width:"120",height:"20",rx:"4",fill:"rgba(0, 0, 0, 0.85)"}),k.jsx("text",{x:f.x,y:f.y-14,textAnchor:"middle",fill:"#ffffff",fontSize:"11",fontWeight:"bold",style:{pointerEvents:"none"},children:f.name})]})]}),k.jsx("div",{className:"metro-map__hint",children:Dt.language==="fr"?"Molette pour zoomer  Ctrl+clic pour dplacer":"Scroll to zoom  Ctrl+click to pan"})]})});function JO({hasCorrespondence:s,rotation:t,isSpinning:n,selectedSlot:r,onSpin:o,disabled:u}){const f=tt.useMemo(()=>s?UA:zA,[s]),m=360/f.length;return k.jsx("div",{className:"roulette",children:k.jsxs("div",{className:"roulette__container",children:[k.jsx("div",{className:"roulette__pointer",children:""}),k.jsxs("div",{className:"roulette__wheel-wrapper",children:[k.jsx("div",{className:`roulette__wheel ${!u&&!n?"roulette__wheel--clickable":""}`,style:{transform:`rotate(${t}deg)`,transition:n?"transform 2s cubic-bezier(0.17, 0.67, 0.12, 0.99)":"none"},onClick:()=>!u&&!n&&o&&o(),children:k.jsxs("svg",{viewBox:"0 0 200 200",className:"roulette__svg",children:[f.map((y,g)=>{const T=g*m-90,S=(g+1)*m-90,D=T*Math.PI/180,P=S*Math.PI/180,X=100+95*Math.cos(D),Z=100+95*Math.sin(D),W=100+95*Math.cos(P),rt=100+95*Math.sin(P),st=m>180?1:0,ct=`M 100 100 L ${X} ${Z} A 95 95 0 ${st} 1 ${W} ${rt} Z`,It=(T+S)/2*Math.PI/180,Dt=100+60*Math.cos(It),yt=100+60*Math.sin(It);return k.jsxs("g",{children:[k.jsx("path",{d:ct,fill:y.color,stroke:"#1a1a2e",strokeWidth:"2",opacity:r===g&&!n?1:.85}),k.jsx("text",{x:Dt,y:yt,textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"20",style:{transform:`rotate(${(T+S)/2+90}deg)`,transformOrigin:`${Dt}px ${yt}px`},children:y.label})]},g)}),k.jsx("circle",{cx:"100",cy:"100",r:"25",fill:"#1a1a2e",stroke:"#FFCD00",strokeWidth:"3"})]})}),!u&&!n&&k.jsx("div",{className:"roulette__center-emoji",children:""})]})]})})}function ZO({gameState:s,message:t,currentStation:n,availableLines:r,directionLabels:o,hasCorrespondence:u,rouletteRotation:f,isSpinning:m,selectedSlot:y,history:g,onLineSelect:T,onDirectionSelect:S,onSpin:D,onConfirmExit:P,onReset:X,getLineColor:Z,getLineData:W}){const rt={SELECT_STATION:"SELECT_STATION",SELECT_LINE:"SELECT_LINE",SELECT_DIRECTION:"SELECT_DIRECTION",PLAYING:"PLAYING",CONFIRM_EXIT:"CONFIRM_EXIT",WON:"WON"};return k.jsxs("div",{className:"panel",children:[k.jsx("div",{className:"panel__message",children:t}),s===rt.SELECT_LINE&&n&&k.jsxs("div",{className:"panel__section",children:[k.jsx("h3",{children:"Choisissez une ligne :"}),k.jsx("div",{className:"panel__buttons",children:r.map(st=>{const ct=W(st);return k.jsx("button",{className:"panel__line-button",style:{backgroundColor:Z(st)},onClick:()=>T(st),children:ct?.name||st},st)})})]}),s===rt.SELECT_DIRECTION&&k.jsxs("div",{className:"panel__section",children:[k.jsx("h3",{children:"Choisissez une direction :"}),k.jsxs("div",{className:"panel__buttons",children:[k.jsx("button",{className:"panel__direction-button",onClick:()=>S(1),children:o.forward}),k.jsx("button",{className:"panel__direction-button",onClick:()=>S(-1),children:o.backward})]})]}),(s===rt.PLAYING||s===rt.CONFIRM_EXIT||s===rt.WON)&&k.jsx("div",{className:"panel__roulette",children:k.jsx(JO,{hasCorrespondence:u,rotation:f,isSpinning:m,selectedSlot:y,onSpin:s===rt.PLAYING?D:null,disabled:m})}),s===rt.CONFIRM_EXIT&&k.jsxs("div",{className:"panel__confirm-exit",children:[k.jsx("h3",{children:" Sortir ici ?"}),k.jsx("p",{className:"panel__confirm-station",children:n?.name}),k.jsxs("div",{className:"panel__confirm-buttons",children:[k.jsx("button",{className:"panel__confirm-button panel__confirm-button--validate",onClick:()=>P(!0),children:" Valider la sortie"}),k.jsx("button",{className:"panel__confirm-button panel__confirm-button--continue",onClick:()=>P(!1),children:" Continuer le voyage"})]})]}),s===rt.WON&&k.jsxs("div",{className:"panel__win",children:[k.jsx("p",{children:"Vous tes sorti(e)  :"}),k.jsx("div",{className:"panel__win-station",children:n?.name}),k.jsxs("p",{className:"panel__win-stats",children:[g.filter(st=>st.action==="move").length," stations parcourues"]})]}),s!==rt.SELECT_STATION&&k.jsx("button",{className:"panel__reset-button",onClick:X,children:" Nouvelle partie"})]})}function WO({history:s,getLineColor:t,currentLine:n}){return s.length===0?null:k.jsx("div",{className:"journey",children:k.jsx("div",{className:"journey__track",children:s.map((r,o)=>k.jsxs("div",{className:"journey__stop",children:[k.jsx("div",{className:"journey__icon",children:OO[r.action]}),k.jsx("div",{className:"journey__name",children:r.station.name}),o<s.length-1&&k.jsx("div",{className:"journey__line",style:{backgroundColor:t(r.line||n)}})]},o))})})}const tM=tt.forwardRef(function({stationName:t,recommendations:n,isLoading:r,getDirectionsUrl:o},u){const{cityConfig:f}=Co(),m=f.placeTypes;return k.jsxs("div",{className:"recommendations",ref:u,children:[k.jsxs("h3",{children:[" ",f.text.exploreNearby," ",t]}),r&&k.jsxs("div",{className:"recommendations__loading",children:[k.jsx("div",{className:"recommendations__spinner"}),k.jsx("p",{children:f.text.searchingPlaces})]}),n?.places&&k.jsx("div",{className:"recommendations__grid",children:n.places.map((y,g)=>k.jsxs("div",{className:"recommendations__card",children:[k.jsxs("div",{className:"recommendations__type",children:[m[y.type]||""," ",y.type]}),k.jsx("h4",{className:"recommendations__name",children:y.name}),k.jsx("p",{className:"recommendations__desc",children:y.description}),y.address&&k.jsxs(k.Fragment,{children:[k.jsxs("p",{className:"recommendations__address",children:[" ",y.address]}),k.jsxs("a",{href:o(y.address),target:"_blank",rel:"noopener noreferrer",className:"recommendations__link",children:[" ",f.text.walkingDirections]})]})]},g))})]})});function eM(){const{currentCity:s,cityConfig:t}=Co(),[n,r]=tt.useState(nn.SELECT_STATION),[o,u]=tt.useState(null),[f,m]=tt.useState(null),[y,g]=tt.useState(1),[T,S]=tt.useState([]),[D,P]=tt.useState(t.text.selectStation),[X,Z]=tt.useState(!1),[W,rt]=tt.useState(0),[st,ct]=tt.useState(null),[It,Dt]=tt.useState(null),[yt,C]=tt.useState(null),[b,w]=tt.useState(null),[O,R]=tt.useState(!1),V=tt.useRef(null),I=tt.useRef(null),{zoom:Vt,pan:ie,isPanning:F,handlers:et,controls:lt}=MO(),{stations:Ct,lines:Ht,allStations:x,isLoading:K,error:it,getLineColor:at,getLineData:gt,getLineStations:St,getLinesForStation:bt,getNextStation:pe,getDirectionLabels:te,getRecommendations:hi}=zO();tt.useEffect(()=>{r(nn.SELECT_STATION),u(null),m(null),g(1),rt(0),ct(null),S([]),P(t.text.selectStation),w(null),R(!1),lt.resetZoom()},[s,t.text.selectStation]);const fi=tt.useMemo(()=>o?bt(o.id).filter(se=>se!==f).length>0:!1,[o,f,bt]),Fi=tt.useMemo(()=>fi?UA:zA,[fi]),di=n===nn.SELECT_STATION||n===nn.SELECT_LINE||n===nn.SELECT_DIRECTION,Cn=tt.useMemo(()=>te(o,f),[te,o,f]),_r=tt.useMemo(()=>o?bt(o.id):[],[o,bt]),Gi=tt.useCallback(ee=>{if(!di)return;u(ee),m(null),g(1);const se=bt(ee.id);se.length===1?(m(se[0]),r(nn.SELECT_DIRECTION),P(t.text.selectDirection)):(r(nn.SELECT_LINE),P(t.text.selectLine)),S([{station:ee,action:"start"}])},[di,bt,t.text]),vr=tt.useCallback(ee=>{m(ee),r(nn.SELECT_DIRECTION),P(t.text.selectDirection)},[t.text]),Er=tt.useCallback(ee=>{g(ee),r(nn.PLAYING),P(t.text.spinRoulette)},[t.text]),ce=tt.useCallback(ee=>{switch(ee.type){case"continue":{const se=pe(o,f,y);se?(u(se),S(he=>[...he,{station:se,action:"move",line:f}]),P(`${t.text.advanceTo} ${se.name}. ${t.text.relaunch}`)):(g(he=>-he),P(`${t.text.endOfLine} ${t.text.relaunch}`),S(he=>[...he,{station:o,action:"reverse"}]));break}case"change":{const he=bt(o.id).filter(fe=>fe!==f);if(he.length>0){const fe=he[Math.floor(Math.random()*he.length)];m(fe);const Yi=gt(fe);P(`${t.text.changeLine} ${Yi?.name||fe}. ${t.text.relaunch}`),S(Tr=>[...Tr,{station:o,action:"change",line:fe}])}break}case"exit":r(nn.CONFIRM_EXIT),P(` ${t.text.confirmExit}`);break}},[o,f,y,pe,bt,gt,t.text]),_e=tt.useCallback(()=>{if(X||n!==nn.PLAYING)return;Z(!0),ct(null);const ee=10,se=360/ee,he=3+Math.floor(Math.random()*3),fe=Math.floor(Math.random()*ee),Yi=(W%360+360)%360;let As=(342-fe*se+360)%360-Yi;As<=0&&(As+=360),rt(ma=>ma+he*360+As),setTimeout(()=>{Z(!1),ct(fe),ce(Fi[fe])},3e3)},[X,n,W,Fi,ce]),Yn=tt.useCallback((ee,se,he,fe)=>{R(!0),w(null),setTimeout(()=>{const Yi=hi(ee);w({places:Yi,stationCoords:{lat:he,lng:fe},stationName:se}),R(!1)},300)},[hi]),No=tt.useCallback(ee=>{if(ee){r(nn.WON),P(` ${t.text.exitConfirmed} ${o.name} !`),S(he=>[...he,{station:o,action:"exit"}]);const se=Ct[o.id];Yn(o.id,o.name,se.lat,se.lng),setTimeout(()=>I.current?.scrollIntoView({behavior:"smooth",block:"start"}),100)}else r(nn.PLAYING),P(t.text.stayInMetro)},[o,Ct,Yn,t.text]),da=tt.useCallback(()=>{r(nn.SELECT_STATION),u(null),m(null),g(1),rt(0),ct(null),S([]),P(t.text.selectStation),w(null),R(!1),lt.resetZoom()},[lt,t.text]),He=tt.useCallback(ee=>{if(!b?.stationCoords)return null;const{lat:se,lng:he}=b.stationCoords,fe=t.name;return`https://www.google.com/maps/dir/?api=1&origin=${se},${he}&destination=${encodeURIComponent(ee+", "+fe)}&travelmode=walking`},[b,t.name]);return K?k.jsxs("div",{className:"game",children:[k.jsx(om,{}),k.jsxs("div",{className:"game__loading",children:[k.jsx("div",{className:"game__loading-spinner"}),k.jsxs("p",{children:["Loading ",t.name," ",t.systemName,"..."]})]})]}):it?k.jsxs("div",{className:"game",children:[k.jsx(om,{}),k.jsx("div",{className:"game__error",children:k.jsxs("p",{children:["Failed to load metro data: ",it]})})]}):k.jsxs("div",{className:"game",children:[k.jsx(om,{}),k.jsxs("div",{className:"game__content",children:[k.jsx(XO,{ref:V,gameState:n,allStations:x,lines:Ht,currentStation:o,currentLine:f,hoveredStation:yt,hoveredLine:It,canSelectStation:di,zoom:Vt,pan:ie,isPanning:F,zoomHandlers:et,zoomControls:lt,getLineColor:at,getLineStations:St,onStationClick:Gi,onStationHover:C,onLineHover:Dt}),k.jsx(ZO,{gameState:n,message:D,currentStation:o,availableLines:_r,directionLabels:Cn,hasCorrespondence:fi,rouletteRotation:W,isSpinning:X,selectedSlot:st,history:T,onLineSelect:vr,onDirectionSelect:Er,onSpin:_e,onConfirmExit:No,onReset:da,getLineColor:at,getLineData:gt})]}),k.jsx(WO,{history:T,getLineColor:at,currentLine:f}),n===nn.WON&&k.jsx(tM,{ref:I,stationName:o?.name,recommendations:b,isLoading:O,getDirectionsUrl:He})]})}function nM(){return k.jsx(RO,{children:k.jsx(wO,{children:k.jsx("div",{className:"app",children:k.jsx(eM,{})})})})}w1.createRoot(document.getElementById("root")).render(k.jsx(tt.StrictMode,{children:k.jsx(nM,{})}));
